{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-0", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 0, "text": "ETSI TS 138 300 V15.3.1 (2018-10) \n5G; \nNR; \nOverall description; \nStage-2 \n(3GPP TS 38.300 version 15.3.1 Release 15) \n \n \n \nTECHNICAL SPECIFICATION", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-1", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 1, "text": "ETSI TS 138 300 V15.3.1 (2018-10) 5G; NR; Overall description; Stage-2 (3GPP TS 38.300 version 15.3.1 Release 15) TECHNICAL SPECIFICATION ETSI ETSI TS 138 300 V15.3.1 (2018-10) 1 3GPP TS 38.300 version 15.3.1 Release 15 Reference RTS/TSGR-0238300vf31 Keywords 5G ETSI 650 Route des Lucioles F-06921 Sophia Antipolis Cedex - FRANCE Tel.: +33 4 92 94 42 00 Fax: +33 4 93 65 47 16 Siret N° 348 623 562 00017 - NAF 742 C Association à but non lucratif enregistrée à la Sous-Préfecture de Grasse (06) N° 7803/88 Important notice The present document can be downloaded from: http://www.etsi.org/standards-search The present document may be made available in electronic versions and/or in print. The content of any electronic and/or print versions of the present document shall not be modified without the prior written authorization of ETSI. In case of any existing or perceived difference in contents between such versions and/or in print, the only prevailing document is the print of the Portable Document Format (PDF) version kept on a specific network drive within ETSI Secretariat. Users of the present document should be aware that the document may be subject to revision or change of status. Information on the current status of this and other ETSI documents is available at https://portal.etsi.org/TB/ETSIDeliverableStatus.aspx If you find errors in the present document, please send your comment to one of the following services: https://portal.etsi.org/People/CommiteeSupportStaff.aspx Copyright Notification No part may be reproduced or utilized in any form or by any means, electronic or mechanical, including photocopying and microfilm except as authorized by written permission of ETSI. The content of the PDF version shall not be modified without the written authorization of ETSI. The copyright and the foregoing restriction extend to reproduction in all media. © ETSI 2018. All rights reserved. DECTTM, PLUGTESTSTM, UMTSTM and the ETSI logo are trademarks of ETSI registered for the benefit of its Members. 3GPPTM and LTETM are trademarks of ETSI registered for the benefit of its Members and of the 3GPP Organizational Partners. oneM2M logo is protected for the benefit of its Members. GSM® and the GSM logo are trademarks registered and owned by the GSM Association.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-2", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 2, "text": "Partners. oneM2M logo is protected for the benefit of its Members. GSM® and the GSM logo are trademarks registered and owned by the GSM Association. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 2 3GPP TS 38.300 version 15.3.1 Release 15 Intellectual Property Rights Essential patents IPRs essential or potentially essential to normative deliverables may have been declared to ETSI. The information pertaining to these essential IPRs, if any, is publicly available for ETSI members and non-members, and can be found in ETSI SR 000 314: \"Intellectual Property Rights (IPRs); Essential, or potentially Essential, IPRs notified to ETSI in respect of ETSI standards\", which is available from the ETSI Secretariat. Latest updates are available on the ETSI Web server (https://ipr.etsi.org/). Pursuant to the ETSI IPR Policy, no investigation, including IPR searches, has been carried out by ETSI. No guarantee can be given as to the existence of other IPRs not referenced in ETSI SR 000 314 (or the updates on the ETSI Web server) which are, or may be, or may become, essential to the present document. Trademarks The present document may include trademarks and/or tradenames which are asserted and/or registered by their owners. ETSI claims no ownership of these except for any which are indicated as being the property of ETSI, and conveys no right to use or reproduce any trademark and/or tradename. Mention of those trademarks in the present document does not constitute an endorsement by ETSI of products, services or organizations associated with those trademarks. Foreword This Technical Specification (TS) has been produced by ETSI 3rd Generation Partnership Project (3GPP). The present document may refer to technical specifications or reports using their 3GPP identities, UMTS identities or GSM identities. These should be interpreted as being references to the corresponding ETSI deliverables. The cross reference between GSM, UMTS, 3GPP and ETSI identities can be found under http://webapp.etsi.org/key/queryform.asp. Modal verbs terminology In the present document \"shall\", \"shall not\", \"should\", \"should not\", \"may\", \"need not\", \"will\", \"will not\", \"can\" and \"cannot\" are to be interpreted as described in clause 3.2 of the ETSI Drafting Rules (Verbal forms for the expression of provisions). \"must\" and \"must not\" are NOT allowed in ETSI deliverables except when used in direct citation.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-3", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 3, "text": "Drafting Rules (Verbal forms for the expression of provisions). \"must\" and \"must not\" are NOT allowed in ETSI deliverables except when used in direct citation. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 3 3GPP TS 38.300 version 15.3.1 Release 15 Contents Intellectual Property Rights ................................................................................................................................ 2 Foreword ............................................................................................................................................................. 2 Modal verbs terminology .................................................................................................................................... 2 Foreword ............................................................................................................................................................. 7 1 Scope ........................................................................................................................................................ 8 2 References ................................................................................................................................................ 8 3 Abbreviations and Definitions .................................................................................................................. 9 3.1 Abbreviations ..................................................................................................................................................... 9 3.2 Definitions ........................................................................................................................................................ 10 4 Overall Architecture and Functional Split .............................................................................................. 11 4.1 Overall Architecture ......................................................................................................................................... 11 4.2 Functional Split", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-4", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 4, "text": "9 3.1 Abbreviations ..................................................................................................................................................... 9 3.2 Definitions ........................................................................................................................................................ 10 4 Overall Architecture and Functional Split .............................................................................................. 11 4.1 Overall Architecture ......................................................................................................................................... 11 4.2 Functional Split 9 3.1 Abbreviations ..................................................................................................................................................... 9 3.2 Definitions ........................................................................................................................................................ 10 4 Overall Architecture and Functional Split .............................................................................................. 11 4.1 Overall Architecture ......................................................................................................................................... 11 4.2 Functional Split ................................................................................................................................................ 11 4.3 Network Interfaces ........................................................................................................................................... 13 4.3.1 NG Interface ............................................................................................................................................... 13 4.3.1.1 NG User Plane ...................................................................................................................................... 13 4.3.1.2 NG Control Plane .................................................................................................................................. 14 4.3.2 Xn Interface ................................................................................................................................................ 15 4.3.2.1 Xn User Plane ....................................................................................................................................... 15 4.3.2.2 Xn Control Plane ................................................................................................................................... 15 4.4 Radio Protocol Architecture", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-5", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 5, "text": "Control Plane .................................................................................................................................. 14 4.3.2 Xn Interface ................................................................................................................................................ 15 4.3.2.1 Xn User Plane ....................................................................................................................................... 15 4.3.2.2 Xn Control Plane ................................................................................................................................... 15 4.4 Radio Protocol Architecture Control Plane .................................................................................................................................. 14 4.3.2 Xn Interface ................................................................................................................................................ 15 4.3.2.1 Xn User Plane ....................................................................................................................................... 15 4.3.2.2 Xn Control Plane ................................................................................................................................... 15 4.4 Radio Protocol Architecture ............................................................................................................................. 16 4.4.1 User Plane ................................................................................................................................................... 16 4.4.2 Control Plane .............................................................................................................................................. 16 4.5 Multi-RAT Dual Connectivity ......................................................................................................................... 16 5 Physical Layer ........................................................................................................................................ 17 5.1 Waveform, numerology and frame structure .................................................................................................... 17 5.2 Downlink .......................................................................................................................................................... 18 5.2.1 Downlink transmission scheme .................................................................................................................. 18 5.2.2 Physical-layer processing for physical downlink shared channel ...............................................................", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-6", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 6, "text": "numerology and frame structure .................................................................................................... 17 5.2 Downlink .......................................................................................................................................................... 18 5.2.1 Downlink transmission scheme .................................................................................................................. 18 5.2.2 Physical-layer processing for physical downlink shared channel ............................................................... numerology and frame structure .................................................................................................... 17 5.2 Downlink .......................................................................................................................................................... 18 5.2.1 Downlink transmission scheme .................................................................................................................. 18 5.2.2 Physical-layer processing for physical downlink shared channel ............................................................... 18 5.2.3 Physical downlink control channels ............................................................................................................ 18 5.2.4 Synchronization signal and PBCH .............................................................................................................. 19 5.2.5 Physical layer procedures ........................................................................................................................... 20 5.2.5.1 Link adaptation ..................................................................................................................................... 20 5.2.5.2 Power Control ....................................................................................................................................... 20 5.2.5.3 Cell search ............................................................................................................................................. 20 5.2.5.4 HARQ ................................................................................................................................................... 20 5.2.5.5 Reception of SIB1 ................................................................................................................................. 20 5.3 Uplink", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-7", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 7, "text": "adaptation ..................................................................................................................................... 20 5.2.5.2 Power Control ....................................................................................................................................... 20 5.2.5.3 Cell search ............................................................................................................................................. 20 5.2.5.4 HARQ ................................................................................................................................................... 20 5.2.5.5 Reception of SIB1 ................................................................................................................................. 20 5.3 Uplink adaptation ..................................................................................................................................... 20 5.2.5.2 Power Control ....................................................................................................................................... 20 5.2.5.3 Cell search ............................................................................................................................................. 20 5.2.5.4 HARQ ................................................................................................................................................... 20 5.2.5.5 Reception of SIB1 ................................................................................................................................. 20 5.3 Uplink ............................................................................................................................................................... 20 5.3.1 Uplink transmission scheme ....................................................................................................................... 20 5.3.2 Physical-layer processing for physical uplink shared channel .................................................................... 21 5.3.3 Physical uplink control channel .................................................................................................................. 21 5.3.4 Random access ............................................................................................................................................ 22 5.3.5 Physical layer procedures ........................................................................................................................... 22 5.3.5.1 Link adaptation ..................................................................................................................................... 22 5.3.5.2 Uplink Power control", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-8", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 8, "text": "uplink control channel .................................................................................................................. 21 5.3.4 Random access ............................................................................................................................................ 22 5.3.5 Physical layer procedures ........................................................................................................................... 22 5.3.5.1 Link adaptation ..................................................................................................................................... 22 5.3.5.2 Uplink Power control uplink control channel .................................................................................................................. 21 5.3.4 Random access ............................................................................................................................................ 22 5.3.5 Physical layer procedures ........................................................................................................................... 22 5.3.5.1 Link adaptation ..................................................................................................................................... 22 5.3.5.2 Uplink Power control ............................................................................................................................ 23 5.3.5.3 Uplink timing control ............................................................................................................................ 23 5.3.5.4 HARQ ................................................................................................................................................... 23 5.4 Carrier aggregation ........................................................................................................................................... 23 5.4.1 Carrier aggregation ..................................................................................................................................... 23 5.4.2 Supplementary Uplink ................................................................................................................................ 23 5.5 Transport Channels........................................................................................................................................... 23 6 Layer 2 .................................................................................................................................................... 24 6.1 Overview", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-9", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 9, "text": "Carrier aggregation ........................................................................................................................................... 23 5.4.1 Carrier aggregation ..................................................................................................................................... 23 5.4.2 Supplementary Uplink ................................................................................................................................ 23 5.5 Transport Channels........................................................................................................................................... 23 6 Layer 2 .................................................................................................................................................... 24 6.1 Overview Carrier aggregation ........................................................................................................................................... 23 5.4.1 Carrier aggregation ..................................................................................................................................... 23 5.4.2 Supplementary Uplink ................................................................................................................................ 23 5.5 Transport Channels........................................................................................................................................... 23 6 Layer 2 .................................................................................................................................................... 24 6.1 Overview .......................................................................................................................................................... 24 6.2 MAC Sublayer .................................................................................................................................................. 26", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-10", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 10, "text": "..................................................................................................................................... 23 5.4.2 Supplementary Uplink ................................................................................................................................ 23 5.5 Transport Channels........................................................................................................................................... 23 6 Layer 2 .................................................................................................................................................... 24 6.1 Overview .......................................................................................................................................................... 24 6.2 MAC Sublayer .................................................................................................................................................. 26 ETSI ETSI TS 138 300 V15.3.1 (2018-10) 4 3GPP TS 38.300 version 15.3.1 Release 15 6.2.1 Services and Functions ............................................................................................................................... 26 6.2.2 Logical Channels ........................................................................................................................................ 26 6.2.3 Mapping to Transport Channels.................................................................................................................. 26 6.2.4 HARQ ......................................................................................................................................................... 27 6.3 RLC Sublayer ................................................................................................................................................... 27 6.3.1 Transmission Modes ................................................................................................................................... 27 6.3.2 Services and Functions ............................................................................................................................... 27 6.3.3 ARQ ............................................................................................................................................................ 27 6.4 PDCP Sublayer ................................................................................................................................................. 28 6.4.1 Services and Functions ............................................................................................................................... 28 6.5 SDAP Sublayer ................................................................................................................................................ 28 6.6 L2 Data Flow ....................................................................................................................................................", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-11", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 11, "text": "6.3.3 ARQ ............................................................................................................................................................ 27 6.4 PDCP Sublayer ................................................................................................................................................. 28 6.4.1 Services and Functions ............................................................................................................................... 28 6.5 SDAP Sublayer ................................................................................................................................................ 28 6.6 L2 Data Flow .................................................................................................................................................... 6.3.3 ARQ ............................................................................................................................................................ 27 6.4 PDCP Sublayer ................................................................................................................................................. 28 6.4.1 Services and Functions ............................................................................................................................... 28 6.5 SDAP Sublayer ................................................................................................................................................ 28 6.6 L2 Data Flow .................................................................................................................................................... 28 6.7 Carrier Aggregation .......................................................................................................................................... 29 6.8 Dual Connectivity............................................................................................................................................. 30 6.9 Supplementary Uplink ...................................................................................................................................... 30 6.10 Bandwidth Adaptation ...................................................................................................................................... 30 7 RRC ........................................................................................................................................................ 31 7.1 Services and Functions ..................................................................................................................................... 31 7.2 Protocol States .................................................................................................................................................. 31 7.3 System Information Handling", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-12", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 12, "text": "30 6.10 Bandwidth Adaptation ...................................................................................................................................... 30 7 RRC ........................................................................................................................................................ 31 7.1 Services and Functions ..................................................................................................................................... 31 7.2 Protocol States .................................................................................................................................................. 31 7.3 System Information Handling 30 6.10 Bandwidth Adaptation ...................................................................................................................................... 30 7 RRC ........................................................................................................................................................ 31 7.1 Services and Functions ..................................................................................................................................... 31 7.2 Protocol States .................................................................................................................................................. 31 7.3 System Information Handling .......................................................................................................................... 32 7.3.1 Overview .................................................................................................................................................... 32 7.3.2 Scheduling .................................................................................................................................................. 33 7.3.3 SI Modification ........................................................................................................................................... 34 7.4 Access Control ................................................................................................................................................. 34 7.5 UE Capability Retrieval framework ................................................................................................................. 34 7.6 Transport of NAS Messages ............................................................................................................................. 34 7.7 Carrier Aggregation .......................................................................................................................................... 35 7.8 Bandwidth Adaptation", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-13", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 13, "text": "Control ................................................................................................................................................. 34 7.5 UE Capability Retrieval framework ................................................................................................................. 34 7.6 Transport of NAS Messages ............................................................................................................................. 34 7.7 Carrier Aggregation .......................................................................................................................................... 35 7.8 Bandwidth Adaptation Control ................................................................................................................................................. 34 7.5 UE Capability Retrieval framework ................................................................................................................. 34 7.6 Transport of NAS Messages ............................................................................................................................. 34 7.7 Carrier Aggregation .......................................................................................................................................... 35 7.8 Bandwidth Adaptation ...................................................................................................................................... 35 8 NG Identities .......................................................................................................................................... 35 8.1 UE Identities ..................................................................................................................................................... 35 8.2 Network Identities ............................................................................................................................................ 36 9 Mobility and State Transitions ............................................................................................................... 36 9.1 Overview .......................................................................................................................................................... 36 9.2 Intra-NR ........................................................................................................................................................... 37 9.2.1 Mobility in RRC_IDLE .............................................................................................................................. 37 9.2.1.1 Cell Selection", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-14", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 14, "text": "36 9 Mobility and State Transitions ............................................................................................................... 36 9.1 Overview .......................................................................................................................................................... 36 9.2 Intra-NR ........................................................................................................................................................... 37 9.2.1 Mobility in RRC_IDLE .............................................................................................................................. 37 9.2.1.1 Cell Selection 36 9 Mobility and State Transitions ............................................................................................................... 36 9.1 Overview .......................................................................................................................................................... 36 9.2 Intra-NR ........................................................................................................................................................... 37 9.2.1 Mobility in RRC_IDLE .............................................................................................................................. 37 9.2.1.1 Cell Selection ........................................................................................................................................ 37 9.2.1.2 Cell Reselection .................................................................................................................................... 37 9.2.1.3 State Transitions .................................................................................................................................... 38 9.2.2 Mobility in RRC_INACTIVE..................................................................................................................... 39 9.2.2.1 Overview ............................................................................................................................................... 39 9.2.2.2 Cell Reselection .................................................................................................................................... 40 9.2.2.3 RAN-Based Notification Area .............................................................................................................. 40 9.2.2.4 State Transitions .................................................................................................................................... 41 9.2.2.4.1 UE triggered transition from RRC_INACTIVE to RRC_CONNECTED", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-15", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 15, "text": "39 9.2.2.2 Cell Reselection .................................................................................................................................... 40 9.2.2.3 RAN-Based Notification Area .............................................................................................................. 40 9.2.2.4 State Transitions .................................................................................................................................... 41 9.2.2.4.1 UE triggered transition from RRC_INACTIVE to RRC_CONNECTED 39 9.2.2.2 Cell Reselection .................................................................................................................................... 40 9.2.2.3 RAN-Based Notification Area .............................................................................................................. 40 9.2.2.4 State Transitions .................................................................................................................................... 41 9.2.2.4.1 UE triggered transition from RRC_INACTIVE to RRC_CONNECTED ....................................... 41 9.2.2.4.2 Network triggered transition from RRC_INACTIVE to RRC_CONNECTED .............................. 42 9.2.2.5 RNA update........................................................................................................................................... 43 9.2.3 Mobility in RRC_CONNECTED ............................................................................................................... 44 9.2.3.1 Overview ............................................................................................................................................... 44 9.2.3.2 Handover ............................................................................................................................................... 45 9.2.3.2.1 C-Plane Handling ............................................................................................................................ 45 9.2.3.2.2 U-Plane Handling ............................................................................................................................ 47 9.2.3.2.3 Data Forwarding .............................................................................................................................. 48 9.2.3.3 Re-establishment procedure .................................................................................................................. 49 9.2.4 Measurements", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-16", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 16, "text": "Handover ............................................................................................................................................... 45 9.2.3.2.1 C-Plane Handling ............................................................................................................................ 45 9.2.3.2.2 U-Plane Handling ............................................................................................................................ 47 9.2.3.2.3 Data Forwarding .............................................................................................................................. 48 9.2.3.3 Re-establishment procedure .................................................................................................................. 49 9.2.4 Measurements Handover ............................................................................................................................................... 45 9.2.3.2.1 C-Plane Handling ............................................................................................................................ 45 9.2.3.2.2 U-Plane Handling ............................................................................................................................ 47 9.2.3.2.3 Data Forwarding .............................................................................................................................. 48 9.2.3.3 Re-establishment procedure .................................................................................................................. 49 9.2.4 Measurements ............................................................................................................................................. 50 9.2.5 Paging ......................................................................................................................................................... 52 9.2.6 Random Access Procedure ......................................................................................................................... 53 9.2.7 Radio Link Failure ...................................................................................................................................... 54 9.2.8 Beam failure detection and recovery .......................................................................................................... 54 9.3 Inter RAT ......................................................................................................................................................... 55 9.3.1 Intra 5GC .................................................................................................................................................... 55", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-17", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 17, "text": "53 9.2.7 Radio Link Failure ...................................................................................................................................... 54 9.2.8 Beam failure detection and recovery .......................................................................................................... 54 9.3 Inter RAT ......................................................................................................................................................... 55 9.3.1 Intra 5GC .................................................................................................................................................... 55 ETSI ETSI TS 138 300 V15.3.1 (2018-10) 5 3GPP TS 38.300 version 15.3.1 Release 15 9.3.1.1 Cell Reselection .................................................................................................................................... 55 9.3.1.2 Handover ............................................................................................................................................... 55 9.3.1.3 Measurements ....................................................................................................................................... 55 9.3.2 From 5GC to EPC ....................................................................................................................................... 55 9.3.2.1 Cell Reselection .................................................................................................................................... 55 9.3.2.2 Handover ............................................................................................................................................... 55 9.3.2.3 Measurements ....................................................................................................................................... 56 9.3.2.4 Data Forwarding ................................................................................................................................... 56 9.3.3 From EPC to 5GC ....................................................................................................................................... 56 9.3.3.1 Data Forwarding ................................................................................................................................... 56 9.4 Roaming and Access Restrictions .................................................................................................................... 57 10 Scheduling .............................................................................................................................................. 57 10.1 Basic Scheduler", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-18", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 18, "text": "From EPC to 5GC ....................................................................................................................................... 56 9.3.3.1 Data Forwarding ................................................................................................................................... 56 9.4 Roaming and Access Restrictions .................................................................................................................... 57 10 Scheduling .............................................................................................................................................. 57 10.1 Basic Scheduler From EPC to 5GC ....................................................................................................................................... 56 9.3.3.1 Data Forwarding ................................................................................................................................... 56 9.4 Roaming and Access Restrictions .................................................................................................................... 57 10 Scheduling .............................................................................................................................................. 57 10.1 Basic Scheduler Operation ............................................................................................................................... 57 10.2 Downlink Scheduling ....................................................................................................................................... 57 10.3 Uplink Scheduling ............................................................................................................................................ 58 10.4 Measurements to Support Scheduler Operation ............................................................................................... 58 10.5 Rate Control ..................................................................................................................................................... 59 10.5.1 Downlink .................................................................................................................................................... 59 10.5.2 Uplink ......................................................................................................................................................... 59 10.6 Activation/Deactivation Mechanism ................................................................................................................ 59 10.7 E-UTRA-NR Physical Layer Resource Coordination", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-19", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 19, "text": "58 10.5 Rate Control ..................................................................................................................................................... 59 10.5.1 Downlink .................................................................................................................................................... 59 10.5.2 Uplink ......................................................................................................................................................... 59 10.6 Activation/Deactivation Mechanism ................................................................................................................ 59 10.7 E-UTRA-NR Physical Layer Resource Coordination 58 10.5 Rate Control ..................................................................................................................................................... 59 10.5.1 Downlink .................................................................................................................................................... 59 10.5.2 Uplink ......................................................................................................................................................... 59 10.6 Activation/Deactivation Mechanism ................................................................................................................ 59 10.7 E-UTRA-NR Physical Layer Resource Coordination ...................................................................................... 60 11 UE Power Saving ................................................................................................................................... 60 12 QoS ......................................................................................................................................................... 60 12.1 Overview .......................................................................................................................................................... 60 13 Security................................................................................................................................................... 62 13.1 Overview and Principles .................................................................................................................................. 62 13.2 Security Termination Points ............................................................................................................................. 64 13.3 State Transitions and Mobility ......................................................................................................................... 65 14 UE Capabilities", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-20", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 20, "text": "13 Security................................................................................................................................................... 62 13.1 Overview and Principles .................................................................................................................................. 62 13.2 Security Termination Points ............................................................................................................................. 64 13.3 State Transitions and Mobility ......................................................................................................................... 65 14 UE Capabilities 13 Security................................................................................................................................................... 62 13.1 Overview and Principles .................................................................................................................................. 62 13.2 Security Termination Points ............................................................................................................................. 64 13.3 State Transitions and Mobility ......................................................................................................................... 65 14 UE Capabilities ...................................................................................................................................... 65 15 Self-Configuration and Self-Optimisation ............................................................................................. 65 15.1 Definitions ........................................................................................................................................................ 65 15.2 UE Support for self-configuration and self-optimisation ................................................................................. 65 15.3 Self-configuration ............................................................................................................................................. 66 15.3.1 Dynamic configuration of the NG-C interface............................................................................................ 66 15.3.1.1 Prerequisites .......................................................................................................................................... 66 15.3.1.2 SCTP initialization ................................................................................................................................ 66 15.3.1.3 Application layer initialization", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-21", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 21, "text": "15.3 Self-configuration ............................................................................................................................................. 66 15.3.1 Dynamic configuration of the NG-C interface............................................................................................ 66 15.3.1.1 Prerequisites .......................................................................................................................................... 66 15.3.1.2 SCTP initialization ................................................................................................................................ 66 15.3.1.3 Application layer initialization 15.3 Self-configuration ............................................................................................................................................. 66 15.3.1 Dynamic configuration of the NG-C interface............................................................................................ 66 15.3.1.1 Prerequisites .......................................................................................................................................... 66 15.3.1.2 SCTP initialization ................................................................................................................................ 66 15.3.1.3 Application layer initialization .............................................................................................................. 66 15.3.2 Dynamic Configuration of the Xn interface ............................................................................................... 66 15.3.2.1 Prerequisites .......................................................................................................................................... 66 15.3.2.2 SCTP initialization ................................................................................................................................ 66 15.3.2.3 Application layer initialization .............................................................................................................. 66 15.3.3 Automatic Neighbour Cell Relation Function ............................................................................................ 67 15.3.3.1 General .................................................................................................................................................. 67 15.3.3.2 Intra-system – intra NR Automatic Neighbour Cell Relation Function ................................................ 68 15.3.3.3 Intra-system – intra E-UTRA Automatic Neighbour Cell Relation Function ....................................... 68 15.3.3.4 Intra-system – inter RAT Automatic Neighbour Cell Relation Function", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-22", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 22, "text": "Function ................................................ 68 15.3.3.3 Intra-system – intra E-UTRA Automatic Neighbour Cell Relation Function ....................................... 68 15.3.3.4 Intra-system – inter RAT Automatic Neighbour Cell Relation Function Function ................................................ 68 15.3.3.3 Intra-system – intra E-UTRA Automatic Neighbour Cell Relation Function ....................................... 68 15.3.3.4 Intra-system – inter RAT Automatic Neighbour Cell Relation Function .............................................. 68 15.3.3.5 Inter-system Automatic Neighbour Cell Relation Function .................................................................. 68 15.3.4 Xn-C TNL address discovery ..................................................................................................................... 69 16 Verticals Support .................................................................................................................................... 70 16.1 URLLC ............................................................................................................................................................. 70 16.1.1 Overview .................................................................................................................................................... 70 16.1.2 LCP Restrictions ......................................................................................................................................... 70 16.1.3 Packet Duplication ...................................................................................................................................... 70 16.2 IMS Voice ........................................................................................................................................................ 70 16.2.1 Support for MMTEL IMS voice and video enhancements ......................................................................... 70 16.2.1.1 RAN-assisted codec adaptation ............................................................................................................. 70 16.2.1.2 MMTEL voice quality/coverage enhancements .................................................................................... 71", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-23", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 23, "text": "70 16.2.1 Support for MMTEL IMS voice and video enhancements ......................................................................... 70 16.2.1.1 RAN-assisted codec adaptation ............................................................................................................. 70 16.2.1.2 MMTEL voice quality/coverage enhancements .................................................................................... 71 ETSI ETSI TS 138 300 V15.3.1 (2018-10) 6 3GPP TS 38.300 version 15.3.1 Release 15 16.3 Network Slicing ................................................................................................................................................ 71 16.3.1 General Principles and Requirements ......................................................................................................... 71 16.3.2 CN Instance and NW Slice Selection ......................................................................................................... 73 16.3.2.1 CN-RAN interaction and internal RAN aspects .................................................................................... 73 16.3.2.2 Radio Interface Aspects ........................................................................................................................ 73 16.3.3 Resource Isolation and Management .......................................................................................................... 73 16.3.4 Signalling Aspects ...................................................................................................................................... 73 16.3.4.1 General .................................................................................................................................................. 73 16.3.4.2 CN Instance and NW Slice Selection .................................................................................................... 73 16.3.4.3 UE Context Handling ............................................................................................................................ 74 16.3.4.4 PDU Session Handling .......................................................................................................................... 74 16.3.4.5 Mobility ................................................................................................................................................. 75 16.4 Public Warning System", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-24", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 24, "text": "NW Slice Selection .................................................................................................... 73 16.3.4.3 UE Context Handling ............................................................................................................................ 74 16.3.4.4 PDU Session Handling .......................................................................................................................... 74 16.3.4.5 Mobility ................................................................................................................................................. 75 16.4 Public Warning System NW Slice Selection .................................................................................................... 73 16.3.4.3 UE Context Handling ............................................................................................................................ 74 16.3.4.4 PDU Session Handling .......................................................................................................................... 74 16.3.4.5 Mobility ................................................................................................................................................. 75 16.4 Public Warning System .................................................................................................................................... 76 16.5 Emergency Services ......................................................................................................................................... 76 16.5.1 Overview .................................................................................................................................................... 76 16.5.2 IMS Emergency call ................................................................................................................................... 76 16.5.3 eCall over IMS ............................................................................................................................................ 77 16.5.4 Fallback ...................................................................................................................................................... 77 Annex A (informative): QoS Handling in RAN ........................................................................................... 78 A.1 PDU Session Establishment ................................................................................................................... 78 A.2 New QoS Flow with RQoS .................................................................................................................... 78 A.3", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-25", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 25, "text": "77 Annex A (informative): QoS Handling in RAN ........................................................................................... 78 A.1 PDU Session Establishment ................................................................................................................... 78 A.2 New QoS Flow with RQoS .................................................................................................................... 78 A.3 77 Annex A (informative): QoS Handling in RAN ........................................................................................... 78 A.1 PDU Session Establishment ................................................................................................................... 78 A.2 New QoS Flow with RQoS .................................................................................................................... 78 A.3 New QoS Flow with Explicit RRC Signalling ....................................................................................... 79 A.4 New QoS Flow with Explicit NAS Signalling ....................................................................................... 80 A.5 Release of QoS Flow with Explicit Signalling ....................................................................................... 81 A.6 UE Initiated UL QoS Flow ..................................................................................................................... 81 Annex B (informative): Deployment Scenarios ........................................................................................... 83 B.1 Supplementary Uplink ............................................................................................................................ 83 B.2 Multiple SSBs in a carrier ...................................................................................................................... 83 Annex C (informative): I-RNTI Reference Profiles .................................................................................... 84 Annex D (informative): Change history ....................................................................................................... 85 History .............................................................................................................................................................. 89", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-26", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 26, "text": "Multiple SSBs in a carrier ...................................................................................................................... 83 Annex C (informative): I-RNTI Reference Profiles .................................................................................... 84 Annex D (informative): Change history ....................................................................................................... 85 History .............................................................................................................................................................. 89 ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n7\n3GPP TS 38.300 version 15.3.1 Release 15\nForeword \nThis Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP). \nThe contents of the present document are subject to continuing work within the TSG and may change following formal \nTSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an \nidentifying change of release date and an increase in version number as follows: \nVersion x.y.z \nwhere: \nx the first digit: \n1 presented to TSG for information; \n2 presented to TSG for approval; \n3 or greater indicates TSG approved document under change control. \ny the second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, \nupdates, etc. \nz the third digit is incremented when editorial only changes have been incorporated in the document.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-27", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 27, "text": "changes of substance, i.e. technical enhancements, corrections, updates, etc. z the third digit is incremented when editorial only changes have been incorporated in the document. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 8 3GPP TS 38.300 version 15.3.1 Release 15 1 Scope The present document provides an overview and overall description of the NG-RAN and focuses on the radio interface protocol architecture of NR connected to 5GC (E-UTRA connected to 5GC is covered in the 36 series). Details of the radio interface protocols are specified in companion specifications of the 38 series. 2 References The following documents contain provisions which, through reference in this text, constitute provisions of the present document. - References are either specific (identified by date of publication, edition number, version number, etc.) or non-specific. - For a specific reference, subsequent revisions do not apply. - For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document. [1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\". [2] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall description; Stage 2\". [3] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\". [4] 3GPP TS 38.401: \"NG-RAN; Architecture description\". [5] 3GPP TS 33.501: \"Security Architecture and Procedures for 5G System\". [6] 3GPP TS 38.321: \"NR; Medium Access Control (MAC) protocol specification\". [7] 3GPP TS 38.322: \"NR; Radio Link Control (RLC) protocol specification\". [8] 3GPP TS 38.323: \"NR; Packet Data Convergence Protocol (PDCP) specification\". [9] 3GPP TS 37.324: \"NR; Service Data Protocol (SDAP) specification\". [10] 3GPP TS 38.304: \"NR; User Equipment (UE) procedures in idle mode\". [11] 3GPP TS 38.306: \"NR; User Equipment (UE) radio access capabilities\". [12] 3GPP TS 38.331: \"NR; Radio Resource Control (RRC); Protocol specification\". [13] 3GPP TS 38.133: \"NR; Requirements for support of radio resource management\". [14] 3GPP TS 22.168: \"Earthquake and Tsunami Warning System (ETWS) requirements; Stage 1\". [15] 3GPP TS 22.268: \"Public Warning System (PWS) Requirements\". [16] 3GPP TS", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-28", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 28, "text": "[14] 3GPP TS 22.168: \"Earthquake and Tsunami Warning System (ETWS) requirements; Stage 1\". [15] 3GPP TS 22.268: \"Public Warning System (PWS) Requirements\". [16] 3GPP TS [14] 3GPP TS 22.168: \"Earthquake and Tsunami Warning System (ETWS) requirements; Stage 1\". [15] 3GPP TS 22.268: \"Public Warning System (PWS) Requirements\". [16] 3GPP TS 38.410: \"NG-RAN; NG general aspects and principles\". [17] 3GPP TS 38.420: \"NG-RAN; Xn general aspects and principles\". [18] 3GPP TS 38.101: \"NR; User Equipment (UE) radio transmission and reception\". [19] 3GPP TS 22.261: \"Service requirements for next generation new services and markets\". [20] 3GPP TS 38.202: \"NR; Physical layer services provided by the physical layer\" [21] 3GPP TS 37.340: \"NR; Multi-connectivity; Overall description; Stage-2\". [22] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-29", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 29, "text": "provided by the physical layer\" [21] 3GPP TS 37.340: \"NR; Multi-connectivity; Overall description; Stage-2\". [22] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\". ETSI ETSI TS 138 300 V15.3.1 (2018-10) 9 3GPP TS 38.300 version 15.3.1 Release 15 [23] IETF RFC 4960 (2007-09): \"Stream Control Transmission Protocol\". [24] 3GPP TS 26.114: \"Technical Specification Group Services and System Aspects; IP Multimedia Subsystem (IMS); Multimedia Telephony; Media handling and interaction\". [25] Void. [26] 3GPP TS 38.413: \"NG-RAN; NG Application Protocol (NGAP)\". 3 Abbreviations and Definitions 3.1 Abbreviations For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1], in 3GPP TS 36.300 [2] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1] and 3GPP TS 36.300 [2]. 5GC 5G Core Network 5QI 5G QoS Identifier A-CSI Aperiodic CSI AKA Authentication and Key Agreement AMBR Aggregate Maximum Bit Rate AMC Adaptive Modulation and Coding AMF Access and Mobility Management Function ARP Allocation and Retention Priority BA Bandwidth Adaptation BCH Broadcast Channel BPSK Binary Phase Shift Keying C-RNTI Cell RNTI CBRA Contention Based Random Access CCE Control Channel Element CD-SSB Cell Defining SSB CFRA Contention Free Random Access CMAS Commercial Mobile Alert Service CORESET Control Resource Set DFT Discrete Fourier Transform DCI Downlink Control Information DL-SCH Downlink Shared Channel DMRS Demodulation Reference Signal DRX Discontinuous Reception ETWS Earthquake and Tsunami Warning System GFBR Guaranteed Flow Bit Rate I-RNTI Inactive RNTI INT-RNTI Interruption RNTI LDPC Low Density Parity Check MDBV Maximum Data Burst Volume MICO Mobile Initiated Connection Only MFBR Maximum Flow Bit Rate MMTEL Multimedia telephony MNO Mobile Network Operator MU-MIMO Multi User MIMO NCGI NR Cell Global Identifier NCR Neighbour Cell Relation NCRT Neighbour Cell Relation Table NGAP NG Application Protocol NR NR Radio Access P-RNTI Paging RNTI PCH Paging Channel PCI Physical Cell Identifier PDCCH Physical Downlink Control Channel PDSCH Physical Downlink Shared Channel", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-30", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 30, "text": "Protocol NR NR Radio Access P-RNTI Paging RNTI PCH Paging Channel PCI Physical Cell Identifier PDCCH Physical Downlink Control Channel PDSCH Physical Downlink Shared Channel ETSI ETSI TS 138 300 V15.3.1 (2018-10) 10 3GPP TS 38.300 version 15.3.1 Release 15 PO Paging Occasion PRACH Physical Random Access Channel PRB Physical Resource Block PRG Precoding Resource block Group PSS Primary Synchronisation Signal PUCCH Physical Uplink Control Channel PUSCH Physical Uplink Shared Channel PWS Public Warning System QAM Quadrature Amplitude Modulation QFI QoS Flow ID QPSK Quadrature Phase Shift Keying RA-RNTI Random Access RNTI RACH Random Access Channel RANAC RAN-based Notification Area Code REG Resource Element Group RMSI Remaining Minimum SI RNA RAN-based Notification Area RNAU RAN-based Notification Area Update RNTI Radio Network Temporary Identifier RQA Reflective QoS Attribute RQoS Reflective Quality of Service RS Reference Signal RSRP Reference Signal Received Power RSRQ Reference Signal Received Quality SD Slice Differentiator SDAP Service Data Adaptation Protocol SFI-RNTI Slot Format Indication RNTI SI-RNTI System Information RNTI SLA Service Level Agreement SMC Security Mode Command SMF Session Management Function S-NSSAI Single Network Slice Selection Assistance Information SPS Semi-Persistent Scheduling SRS Sounding Reference Signal SS Synchronization Signal SSB Synchronization Signal and PBCH block SSS Secondary Synchronisation Signal SST Slice/Service Type SU-MIMO Single User MIMO SUL Supplementary Uplink TA Timing Advance TPC Transmit Power Control UCI Uplink Control Information UL-SCH Uplink Shared Channel UPF User Plane Function URLLC Ultra-Reliable and Low Latency Communications Xn-C Xn-Control plane Xn-U Xn-User plane XnAP Xn Application Protocol 3.2 Definitions For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1], in 3GPP TS 36.300 [2] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1] and 3GPP TS 36.300 [2]. Cell-Defining SSB: an SSB with an RMSI associated. gNB: node providing NR user plane and control plane protocol terminations towards the UE, and connected via the NG interface to the 5GC. MSG1: preamble transmission of the random access procedure.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-31", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 31, "text": "and control plane protocol terminations towards the UE, and connected via the NG interface to the 5GC. MSG1: preamble transmission of the random access procedure. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n11\n3GPP TS 38.300 version 15.3.1 Release 15\nMSG3: first scheduled transmission of the random access procedure. \nng-eNB: node providing E-UTRA user plane and control plane protocol terminations towards the UE, and connected \nvia the NG interface to the 5GC. \nNG-C: control plane interface between NG-RAN and 5GC. \nNG-U: user plane interface between NG-RAN and 5GC. \nNG-RAN node: either a gNB or an ng-eNB. \nNumerology: corresponds to one subcarrier spacing in the frequency domain. By scaling a reference subcarrier spacing \nby an integer N, different numerologies can be defined. \nXn: network interface between NG-RAN nodes. \n4 \nOverall Architecture and Functional Split \n4.1 \nOverall Architecture \nAn NG-RAN node is either: \n- \na gNB, providing NR user plane and control plane protocol terminations towards the UE; or \n- \nan ng-eNB, providing E-UTRA user plane and control plane protocol terminations towards the UE. \nThe gNBs and ng-eNBs are interconnected with each other by means of the Xn interface. The gNBs and ng-eNBs are \nalso connected by means of the NG interfaces to the 5GC, more specifically to the AMF (Access and Mobility \nManagement Function) by means of the NG-C interface and to the UPF (User Plane Function) by means of the NG-U \ninterface (see 3GPP TS 23.501 [3]). \nNOTE: \nThe architecture and the F1 interface for a functional split are defined in 3GPP TS 38.401 [4]. \nThe NG-RAN architecture is illustrated in Figure 4.1-1 below. \nNG\nNG\n \nFigure 4.1-1: \nOverall Architecture \n4.2 \nFunctional Split \nThe gNB and ng-eNB host the following functions: \n- \nFunctions for Radio Resource Management: Radio Bearer Control, Radio Admission Control, Connection \nMobility Control, Dynamic allocation of resources to UEs in both uplink and downlink (scheduling);", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-32", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 32, "text": "for Radio Resource Management: Radio Bearer Control, Radio Admission Control, Connection Mobility Control, Dynamic allocation of resources to UEs in both uplink and downlink (scheduling); ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n12\n3GPP TS 38.300 version 15.3.1 Release 15\n- \nIP header compression, encryption and integrity protection of data; \n- \nSelection of an AMF at UE attachment when no routing to an AMF can be determined from the information \nprovided by the UE; \n- \nRouting of User Plane data towards UPF(s); \n- \nRouting of Control Plane information towards AMF; \n- \nConnection setup and release; \n- \nScheduling and transmission of paging messages; \n- \nScheduling and transmission of system broadcast information (originated from the AMF or OAM); \n- \nMeasurement and measurement reporting configuration for mobility and scheduling; \n- \nTransport level packet marking in the uplink; \n- \nSession Management; \n- \nSupport of Network Slicing; \n- \nQoS Flow management and mapping to data radio bearers; \n- \nSupport of UEs in RRC_INACTIVE state; \n- \nDistribution function for NAS messages; \n- \nRadio access network sharing; \n- \nDual Connectivity; \n- \nTight interworking between NR and E-UTRA. \nThe AMF hosts the following main functions (see 3GPP TS 23.501 [3]): \n- \nNAS signalling termination; \n- \nNAS signalling security; \n- \nAS Security control; \n- \nInter CN node signalling for mobility between 3GPP access networks; \n- \nIdle mode UE Reachability (including control and execution of paging retransmission); \n- \nRegistration Area management; \n- \nSupport of intra-system and inter-system mobility; \n- \nAccess Authentication; \n- \nAccess Authorization including check of roaming rights; \n- \nMobility management control (subscription and policies); \n- \nSupport of Network Slicing; \n- \nSMF selection. \nThe UPF hosts the following main functions (see 3GPP TS 23.501 [3]): \n- \nAnchor point for Intra-/Inter-RAT mobility (when applicable); \n- \nExternal PDU session point of interconnect to Data Network; \n- \nPacket routing & forwarding;", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-33", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 33, "text": "23.501 [3]): - Anchor point for Intra-/Inter-RAT mobility (when applicable); - External PDU session point of interconnect to Data Network; - Packet routing & forwarding; ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n13\n3GPP TS 38.300 version 15.3.1 Release 15\n- \nPacket inspection and User plane part of Policy rule enforcement; \n- \nTraffic usage reporting; \n- \nUplink classifier to support routing traffic flows to a data network; \n- \nBranching point to support multi-homed PDU session; \n- \nQoS handling for user plane, e.g. packet filtering, gating, UL/DL rate enforcement; \n- \nUplink Traffic verification (SDF to QoS flow mapping); \n- \nDownlink packet buffering and downlink data notification triggering. \nThe Session Management function (SMF) hosts the following main functions (see 3GPP TS 23.501 [3]): \n- \nSession Management; \n- \nUE IP address allocation and management; \n- \nSelection and control of UP function; \n- \nConfigures traffic steering at UPF to route traffic to proper destination; \n- \nControl part of policy enforcement and QoS; \n- \nDownlink Data Notification. \nThis is summarized on the figure below where yellow boxes depict the logical nodes and white boxes depict the main \nfunctions. \n \nFigure 4.2-1: Functional Split between NG-RAN and 5GC \n4.3 \nNetwork Interfaces \n4.3.1 \nNG Interface \n4.3.1.1 \nNG User Plane \nThe NG user plane interface (NG-U) is defined between the NG-RAN node and the UPF. The user plane protocol stack \nof the NG interface is shown on Figure 4.3.1.1-1. The transport network layer is built on IP transport and GTP-U is used \non top of UDP/IP to carry the user plane PDUs between the NG-RAN node and the UPF.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-34", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 34, "text": "built on IP transport and GTP-U is used on top of UDP/IP to carry the user plane PDUs between the NG-RAN node and the UPF. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n14\n3GPP TS 38.300 version 15.3.1 Release 15\n \nFigure 4.3.1.1-1: NG-U Protocol Stack \nNG-U provides non-guaranteed delivery of user plane PDUs between the NG-RAN node and the UPF. \nFurther details of NG-U can be found in 3GPP TS 38.410 [16]. \n4.3.1.2 \nNG Control Plane \nThe NG control plane interface (NG-C) is defined between the NG-RAN node and the AMF. The control plane protocol \nstack of the NG interface is shown on Figure 4.3.1.2-1. The transport network layer is built on IP transport. For the \nreliable transport of signalling messages, SCTP is added on top of IP. The application layer signalling protocol is \nreferred to as NGAP (NG Application Protocol). The SCTP layer provides guaranteed delivery of application layer \nmessages. In the transport, IP layer point-to-point transmission is used to deliver the signalling PDUs. \n \nFigure 4.3.1.2-1: NG-C Protocol Stack \nNG-C provides the following functions: \n- \nNG interface management; \n- \nUE context management; \n- \nUE mobility management; \n- \nTransport of NAS messages; \n- \nPaging; \n- \nPDU Session Management; \n- \nConfiguration Transfer; \n- \nWarning Message Transmission. \nFurther details of NG-C can be found in 3GPP TS 38.410 [16].", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-35", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 35, "text": "- Paging; - PDU Session Management; - Configuration Transfer; - Warning Message Transmission. Further details of NG-C can be found in 3GPP TS 38.410 [16]. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n15\n3GPP TS 38.300 version 15.3.1 Release 15\n4.3.2 \nXn Interface \n4.3.2.1 \nXn User Plane \nThe Xn User plane (Xn-U) interface is defined between two NG-RAN nodes. The user plane protocol stack on the Xn \ninterface is shown in Figure 4.3.2.1-1. The transport network layer is built on IP transport and GTP-U is used on top of \nUDP/IP to carry the user plane PDUs. \n \nFigure 4.3.2.1-1: Xn-U Protocol Stack \nXn-U provides non-guaranteed delivery of user plane PDUs and supports the following functions: \n- \nData forwarding; \n- \nFlow control. \nFurther details of Xn-U can be found in 3GPP TS 38.420 [17]. \n4.3.2.2 \nXn Control Plane \nThe Xn control plane interface (Xn-C) is defined between two NG-RAN nodes. The control plane protocol stack of the \nXn interface is shown on Figure 4.3.2.2-1. The transport network layer is built on SCTP on top of IP. The application \nlayer signalling protocol is referred to as XnAP (Xn Application Protocol). The SCTP layer provides the guaranteed \ndelivery of application layer messages. In the transport IP layer point-to-point transmission is used to deliver the \nsignalling PDUs. \n \nFigure 4.3.2.2-1: Xn-C Protocol Stack \nThe Xn-C interface supports the following functions: \n- \nXn interface management; \n- \nUE mobility management, including context transfer and RAN paging: \n- \nDual connectivity.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-36", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 36, "text": "Stack The Xn-C interface supports the following functions: - Xn interface management; - UE mobility management, including context transfer and RAN paging: - Dual connectivity. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n16\n3GPP TS 38.300 version 15.3.1 Release 15\nFurther details of Xn-C can be found in 3GPP TS 38.420 [17]. \n4.4 \nRadio Protocol Architecture \n4.4.1 \nUser Plane \nThe figure below shows the protocol stack for the user plane, where SDAP, PDCP, RLC and MAC sublayers \n(terminated in gNB on the network side) perform the functions listed in subclause 6. \n \nFigure 4.4.1-1: User Plane Protocol Stack \n4.4.2 \nControl Plane \nThe figure below shows the protocol stack for the control plane, where: \n- \nPDCP, RLC and MAC sublayers (terminated in gNB on the network side) perform the functions listed in \nsubclause 6; \n- \nRRC (terminated in gNB on the network side) performs the functions listed in subclause 7; \n- \nNAS control protocol (terminated in AMF on the network side) performs the functions listed in 3GPP TS 23.501 \n[3]), for instance: authentication, mobility management, security control… \n \nFigure 4.4.2-1: Control Plane Protocol Stack \n4.5 \nMulti-RAT Dual Connectivity \nNG-RAN supports Multi-RAT Dual Connectivity (MR-DC) operation whereby a UE in RRC_CONNECTED is \nconfigured to utilise radio resources provided by two distinct schedulers, located in two different NG-RAN nodes \nconnected via a non-ideal backhaul and providing either E-UTRA (i.e. if the node is an ng-eNB) or NR access (i.e. if \nthe node is a gNB). Further details of MR-DC operation can be found in 3GPP TS 37.340 [21].", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-37", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 37, "text": "an ng-eNB) or NR access (i.e. if the node is a gNB). Further details of MR-DC operation can be found in 3GPP TS 37.340 [21]. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 17 3GPP TS 38.300 version 15.3.1 Release 15 5 Physical Layer 5.1 Waveform, numerology and frame structure The downlink transmission waveform is conventional OFDM using a cyclic prefix. The uplink transmission waveform is conventional OFDM using a cyclic prefix with a transform precoding function performing DFT spreading that can be disabled or enabled. Figure 5.1-1: Transmitter block diagram for CP-OFDM with optional DFT-spreading The numerology is based on exponentially scalable sub-carrier spacing Δf = 2µ × 15 kHz with µ={0,1,3,4} for PSS, SSS and PBCH and µ={0,1,2,3} for other channels. Normal CP is supported for all sub-carrier spacings, Extended CP is supported for µ=2. 12 consecutive sub-carriers form a Physical Resource Block (PRB). Up to 275 PRBs are supported on a carrier. Table 5.1-1: Supported transmission numerologies. Cyclic prefix Supported for data Supported for synch 0 15 Normal Yes Yes 1 30 Normal Yes Yes 2 60 Normal, Extended Yes No 3 120 Normal Yes Yes 4 240 Normal No Yes The UE may be configured with one or more bandwidth parts on a given component carrier, of which only one can be active at a time, as described in subclauses 7.8 and 6.10 respectively. The active bandwidth part defines the UE's operating bandwidth within the cell's operating bandwidth. For initial access, and until the UE's configuration in a cell is received, initial bandwidth part detected from system information is used. Downlink and uplink transmissions are organized into frames with 10 ms duration, consisting of ten 1 ms subframes. Each frame is divided into two equally-sized half-frames of five subframes each. The slot duration is 14 symbols with Normal CP and 12 symbols with Extended CP, and scales in time as a function of the used sub-carrier spacing so that there is always an integer number of slots in a subframe. Timing Advance TA is used to adjust the uplink frame timing relative to the downlink frame timing. Downlink frame i Uplink frame i Figure 5.1-2: Uplink-downlink timing relation Operation on both paired and unpaired spectrum is supported. μ [kHz] 15 2 ⋅ = Δ μ f", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-38", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 38, "text": "frame i Figure 5.1-2: Uplink-downlink timing relation Operation on both paired and unpaired spectrum is supported. μ [kHz] 15 2 ⋅ = Δ μ f ETSI ETSI TS 138 300 V15.3.1 (2018-10) 18 3GPP TS 38.300 version 15.3.1 Release 15 5.2 Downlink 5.2.1 Downlink transmission scheme A closed loop Demodulation Reference Signal (DMRS) based spatial multiplexing is supported for Physical Downlink Shared Channel (PDSCH). Up to 8 and 12 orthogonal DL DMRS ports are supported for type 1 and type 2 DMRS respectively. Up to 8 orthogonal DL DMRS ports per UE are supported for SU-MIMO and up to 4 orthogonal DL DMRS ports per UE are supported for MU-MIMO. The number of SU-MIMO code words is one for 1-4 layer transmissions and two for 5-8 layer transmissions. The DMRS and corresponding PDSCH are transmitted using the same precoding matrix and the UE does not need to know the precoding matrix to demodulate the transmission. The transmitter may use different precoder matrix for different parts of the transmission bandwidth, resulting in frequency selective precoding. The UE may also assume that the same precoding matrix is used across a set of Physical Resource Blocks (PRBs) denoted Precoding Resource Block Group (PRG). Transmission durations from 2 to 14 symbols in a slot is supported. Aggregation of multiple slots with Transport Block (TB) repetition is supported. 5.2.2 Physical-layer processing for physical downlink shared channel The downlink physical-layer processing of transport channels consists of the following steps: - Transport block CRC attachment; - Code block segmentation and code block CRC attachment; - Channel coding: LDPC coding; - Physical-layer hybrid-ARQ processing; - Rate matching; - Scrambling; - Modulation: QPSK, 16QAM, 64QAM and 256QAM; - Layer mapping; - Mapping to assigned resources and antenna ports. The UE may assume that at least one symbol with demodulation reference signal is present on each layer in which PDSCH is transmitted to a UE, and up to 3 additional DMRS can be configured by higher layers. Phase Tracking RS may be transmitted on additional symbols to aid receiver phase tracking. The DL-SCH physical layer model is described in 3GPP TS 38.202 [20]. 5.2.3 Physical downlink control channels The Physical Downlink Control Channel (PDCCH) can be used to schedule DL transmissions on PDSCH and UL transmissions on PUSCH, where the", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-39", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 39, "text": "downlink control channels The Physical Downlink Control Channel (PDCCH) can be used to schedule DL transmissions on PDSCH and UL transmissions on PUSCH, where the downlink control channels The Physical Downlink Control Channel (PDCCH) can be used to schedule DL transmissions on PDSCH and UL transmissions on PUSCH, where the Downlink Control Information (DCI) on PDCCH includes: - Downlink assignments containing at least modulation and coding format, resource allocation, and hybrid-ARQ information related to DL-SCH; - Uplink scheduling grants containing at least modulation and coding format, resource allocation, and hybrid-ARQ information related to UL-SCH. In addition to scheduling, PDCCH can be used to for - Activation and deactivation of configured PUSCH transmission with configured grant; - Activation and deactivation of PDSCH semi-persistent transmission;", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-40", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 40, "text": "PDCCH can be used to for - Activation and deactivation of configured PUSCH transmission with configured grant; - Activation and deactivation of PDSCH semi-persistent transmission; ETSI ETSI TS 138 300 V15.3.1 (2018-10) 19 3GPP TS 38.300 version 15.3.1 Release 15 - Notifying one or more UEs of the slot format; - Notifying one or more UEs of the PRB(s) and OFDM symbol(s) where the UE may assume no transmission is intended for the UE; - Transmission of TPC commands for PUCCH and PUSCH; - Transmission of one or more TPC commands for SRS transmissions by one or more UEs; - Switching a UE's active bandwidth part; - Initiating a random access procedure. A UE monitors a set of PDCCH candidates in the configured monitoring occasions in one or more configured COntrol REsource SETs (CORESETs) according to the corresponding search space configurations. A CORESET consists of a set of PRBs with a time duration of 1 to 3 OFDM symbols. The resource units Resource Element Groups (REGs) and Control Channel Elements (CCEs) are defined within a CORESET with each CCE consisting a set of REGs. Control channels are formed by aggregation of CCE. Different code rates for the control channels are realized by aggregating different number of CCE. Interleaved and non-interleaved CCE-to-REG mapping are supported in a CORESET. Polar coding is used for PDCCH. Each resource element group carrying PDCCH carries its own DMRS. QPSK modulation is used for PDCCH. 5.2.4 Synchronization signal and PBCH The Synchronization Signal and PBCH block (SSB) consists of primary and secondary synchronization signals (PSS, SSS), each occupying 1 symbol and 127 subcarriers, and PBCH spanning across 3 OFDM symbols and 240 subcarriers, but on one symbol leaving an unused part in the middle for SSS as show in figure 5.2.4-1. The periodicity of the SSB can be configured by the network and the time locations where SSB can be sent are determined by sub-carrier spacing. Within the frequency span of a carrier, multiple SSBs can be transmitted. The PCIs of those SSBs do not have to be unique, i.e. different SSBs can have different PCIs. However, when an SSB is associated with an RMSI, the SSB corresponds to an individual cell, which has a unique NCGI (see subclause 8.2). Such an SSB is referred to as a Cell- Defining SSB (CD-SSB). A PCell is always associated to a CD-SSB located on the", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-41", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 41, "text": "subclause 8.2). Such an SSB is referred to as a Cell- Defining SSB (CD-SSB). A PCell is always associated to a CD-SSB located on the subclause 8.2). Such an SSB is referred to as a Cell- Defining SSB (CD-SSB). A PCell is always associated to a CD-SSB located on the synchronization raster. Figure 5.2.4-1: Time-frequency structure of SSB", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-42", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 42, "text": "as a Cell- Defining SSB (CD-SSB). A PCell is always associated to a CD-SSB located on the synchronization raster. Figure 5.2.4-1: Time-frequency structure of SSB ETSI ETSI TS 138 300 V15.3.1 (2018-10) 20 3GPP TS 38.300 version 15.3.1 Release 15 Polar coding is used for PBCH. The UE may assume a band-specific sub-carrier spacing for the SSB unless a network has configured the UE to assume a different sub-carrier spacing. PBCH symbols carry its own frequency-multiplexed DMRS. QPSK modulation is used for PBCH. The PBCH physical layer model is described in 3GPP TS 38.202 [20]. 5.2.5 Physical layer procedures 5.2.5.1 Link adaptation Link adaptation (AMC: adaptive modulation and coding) with various modulation schemes and channel coding rates is applied to the PDSCH. The same coding and modulation is applied to all groups of resource blocks belonging to the same L2 PDU scheduled to one user within one TTI and within a MIMO codeword. For channel state estimation purposes, the UE may be configured to measure CSI-RS and estimate the downlink channel state based on the CSI-RS measurements. The UE feeds the estimated channel state back to the gNB to be used in link adaptation. 5.2.5.2 Power Control Downlink power control can be used. 5.2.5.3 Cell search Cell search is the procedure by which a UE acquires time and frequency synchronization with a cell and detects the Cell ID of that cell. NR cell search is based on the primary and secondary synchronization signals, and PBCH DMRS, located on the synchronization raster. 5.2.5.4 HARQ Asynchronous Incremental Redundancy Hybrid ARQ is supported. The gNB provides the UE with the HARQ-ACK feedback timing either dynamically in the DCI or semi-statically in an RRC configuration. The UE may be configured to receive code block group based transmissions where retransmissions may be scheduled to carry a sub-set of all the code blocks of a TB. 5.2.5.5 Reception of SIB1 MIB on PBCH provides the UE with parameters for monitoring of PDCCH for scheduling PDSCH that carries the SIB1. PBCH may also indicate that there is no associated SIB1, in which case the UE may be pointed to another frequency from where to search for an SSB that is associated with a SIB1 as well as a frequency range where the UE may assume no SSB associated with SIB1 is present. The indicated frequency range is confined within a contiguous spectrum allocation of the", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-43", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 43, "text": "where the UE may assume no SSB associated with SIB1 is present. The indicated frequency range is confined within a contiguous spectrum allocation of the where the UE may assume no SSB associated with SIB1 is present. The indicated frequency range is confined within a contiguous spectrum allocation of the same operator in which SSB is detected. 5.3 Uplink 5.3.1 Uplink transmission scheme Two transmission schemes are supported for PUSCH: codebook based transmission and non-codebook based transmission. For codebook based transmission, the gNB provides the UE with a transmit precoding matrix indication in the DCI. The UE uses the indication to select the PUSCH transmit precoder from the codebook. For non-codebook based transmission, the UE determines its PUSCH precoder based on wideband SRI field from the DCI. A closed loop DMRS based spatial multiplexing is supported for PUSCH. For a given UE, up to 4 layer transmissions are supported. The number of code words is one. When transform precoding is used, only a single MIMO layer transmission is supported.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-44", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 44, "text": "4 layer transmissions are supported. The number of code words is one. When transform precoding is used, only a single MIMO layer transmission is supported. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 21 3GPP TS 38.300 version 15.3.1 Release 15 Transmission durations from 1 to 14 symbols in a slot is supported. Aggregation of multiple slots with TB repetition is supported. Two types of frequency hopping are supported, intra-slot frequency hopping, and in case of slot aggregation, inter-slot frequency hopping. PUSCH may be scheduled with DCI on PDCCH, or a semi-static configured grant may be provided over RRC, where two types of operation are supported: - The first PUSCH is triggered with a DCI, with subsequent PUSCH transmissions following the RRC configuration and scheduling received on the DCI, or - The PUSCH is triggered by data arrival to the UE's transmit buffer and the PUSCH transmissions follow the RRC configuration. 5.3.2 Physical-layer processing for physical uplink shared channel The uplink physical-layer processing of transport channels consists of the following steps: - Transport Block CRC attachment; - Code block segmentation and Code Block CRC attachment; - Channel coding: LDPC coding; - Physical-layer hybrid-ARQ processing; - Rate matching; - Scrambling; - Modulation: π/2 BPSK (with transform precoding only), QPSK, 16QAM, 64QAM and 256QAM; - Layer mapping, transform precoding (enabled/disabled by configuration), and pre-coding; - Mapping to assigned resources and antenna ports. The UE transmits at least one symbol with demodulation reference signal on each layer on each frequency hop in which the PUSCH is transmitted, and up to 3 additional DMRS can be configured by higher layers. Phase Tracking RS may be transmitted on additional symbols to aid receiver phase tracking. The UL-SCH physical layer model is described in 3GPP TS 38.202 [20]. 5.3.3 Physical uplink control channel Physical uplink control channel (PUCCH) carries the Uplink Control Information (UCI) from the UE to the gNB. Five formats of PUCCH exist, depending on the duration of PUCCH and the UCI payload size. - Format #0: Short PUCCH of 1 or 2 symbols with small UCI payloads of up to two bits with UE multiplexing capacity of up to 6 UEs with 1-bit payload in the same PRB; - Format #1: Long PUCCH of 4-14 symbols with small UCI payloads of up to two bits with UE", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-45", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 45, "text": "1-bit payload in the same PRB; - Format #1: Long PUCCH of 4-14 symbols with small UCI payloads of up to two bits with UE 1-bit payload in the same PRB; - Format #1: Long PUCCH of 4-14 symbols with small UCI payloads of up to two bits with UE multiplexing capacity of up to 84 UEs without frequency hopping and 36 UEs with frequency hopping in the same PRB; - Format #2: Short PUCCH of 1 or 2 symbols with large UCI payloads of more than two bits with no UE multiplexing capability in the same PRBs; - Format #3: Long PUCCH of 4-14 symbols with large UCI payloads with no UE multiplexing capability in the same PRBs; - Format #4: Long PUCCH of 4-14 symbols with moderate UCI payloads with multiplexing capacity of up to 4 UEs in the same PRBs. The short PUCCH format of up to two UCI bits is based on sequence selection, while the short PUCCH format of more than two UCI bits frequency multiplexes UCI and DMRS. The long PUCCH formats time-multiplex the UCI and", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-46", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 46, "text": "selection, while the short PUCCH format of more than two UCI bits frequency multiplexes UCI and DMRS. The long PUCCH formats time-multiplex the UCI and ETSI ETSI TS 138 300 V15.3.1 (2018-10) 22 3GPP TS 38.300 version 15.3.1 Release 15 DMRS. Frequency hopping is supported for long PUCCH formats and for short PUCCH formats of duration of 2 symbols. Long PUCCH formats can be repeated over multiple slots. UCI multiplexing in PUSCH is supported when UCI and PUSCH transmissions coincide in time, either due to transmission of a UL-SCH transport block or due to triggering of A-CSI transmission without UL-SCH transport block: - UCI carrying HARQ-ACK feedback with 1 or 2 bits is multiplexed by puncturing PUSCH; - In all other cases UCI is multiplexed by rate matching PUSCH. UCI consists of the following information: - CSI; - ACK/NAK; - Scheduling request. QPSK and π/2 BPSK modulation can be used for long PUCCH with more than 2 bits of information, QPSK is used for short PUCCH with more than 2 bits of information and BPSK and QPSK modulation can be used for long PUCCH with up to 2 information bits. Transform precoding is applied to long PUCCH. Channel coding used for uplink control information is described in table 5.3.3-1. Table 5.3.3-1: Channel coding for uplink control information Uplink Control Information size including CRC, if present Channel code 1 Repetition code 2 Simplex code 3-11 Reed Muller code >11 Polar code 5.3.4 Random access Random access preamble sequences, of two different lengths are supported. Long sequence length 839 is applied with subcarrier spacings of 1.25 and 5 kHz and short sequence length 139 is applied with sub-carrier spacings 15, 30, 60 and 120 kHz. Long sequences support unrestricted sets and restricted sets of Type A and Type B, while short sequences support unrestricted sets only. Multiple PRACH preamble formats are defined with one or more PRACH OFDM symbols, and different cyclic prefix and guard time. The PRACH preamble configuration to use is provided to the UE in the system information. The UE calculates the PRACH transmit power for the retransmission of the preamble based on the most recent estimate pathloss and power ramping counter. If the UE conducts beam switching, the counter of power ramping remains unchanged. The system information provides information for the UE to determine the association between the SSB and", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-47", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 47, "text": "beam switching, the counter of power ramping remains unchanged. The system information provides information for the UE to determine the association between the SSB and beam switching, the counter of power ramping remains unchanged. The system information provides information for the UE to determine the association between the SSB and the RACH resources. The RSRP threshold for SSB selection for RACH resource association is configurable by network. 5.3.5 Physical layer procedures 5.3.5.1 Link adaptation Four types of link adaptation are supported as follows: - Adaptive transmission bandwidth; - Adaptive transmission duration; - Transmission power control; - Adaptive modulation and channel coding rate.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-48", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 48, "text": "link adaptation are supported as follows: - Adaptive transmission bandwidth; - Adaptive transmission duration; - Transmission power control; - Adaptive modulation and channel coding rate. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 23 3GPP TS 38.300 version 15.3.1 Release 15 For channel state estimation purposes, the UE may be configured to transmit SRS that the gNB may use to estimate the uplink channel state and use the estimate in link adaptation. 5.3.5.2 Uplink Power control The gNB determines the desired uplink transmit power and provides uplink transmit power control commands to the UE. The UE uses the provided uplink transmit power control commands to adjust its transmit power. 5.3.5.3 Uplink timing control The gNB determines the desired Timing Advance setting and provides that to the UE. The UE uses the provided TA to determine its uplink transmit timing relative to the UE's observed downlink receive timing. 5.3.5.4 HARQ Asynchronous Incremental Redundancy Hybrid ARQ is supported. The gNB schedules each uplink transmission and retransmission using the uplink grant on DCI. The UE may be configured to transmit code block group based transmissions where retransmissions may be scheduled to carry a sub-set of all the code blocks of a transport block. 5.4 Carrier aggregation 5.4.1 Carrier aggregation In Carrier Aggregation (CA), two or more Component Carriers (CCs) are aggregated. A UE may simultaneously receive or transmit on one or multiple CCs depending on its capabilities. CA is supported for both contiguous and non- contiguous CCs. When CA is deployed frame timing and SFN are aligned across cells that can be aggregated. The maximum number of configured CCs for a UE is 16 for DL and 16 for UL. 5.4.2 Supplementary Uplink In conjunction with a UL/DL carrier pair (FDD band) or a bidirectional carrier (TDD band), a UE may be configured with additional, Supplementary Uplink (SUL). SUL differs from the aggregated uplink in that the UE may be scheduled to transmit either on the supplementary uplink or on the uplink of the carrier being supplemented, but not on both at the same time. 5.5 Transport Channels The physical layer offers information transfer services to MAC and higher layers. The physical layer transport services are described by how and with what characteristics data are transferred over the radio interface. An adequate term for this is \"Transport Channel\". This should be", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-49", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 49, "text": "described by how and with what characteristics data are transferred over the radio interface. An adequate term for this is \"Transport Channel\". This should be described by how and with what characteristics data are transferred over the radio interface. An adequate term for this is \"Transport Channel\". This should be clearly separated from the classification of what is transported, which relates to the concept of logical channels at MAC sublayer. Downlink transport channel types are: 1. Broadcast Channel (BCH) characterised by: - fixed, pre-defined transport format; - requirement to be broadcast in the entire coverage area of the cell, either as a single message or by beamforming different BCH instances. 2. Downlink Shared Channel (DL-SCH) characterised by: - support for HARQ; - support for dynamic link adaptation by varying the modulation, coding and transmit power; - possibility to be broadcast in the entire cell; - possibility to use beamforming; - support for both dynamic and semi-static resource allocation;", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-50", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 50, "text": "transmit power; - possibility to be broadcast in the entire cell; - possibility to use beamforming; - support for both dynamic and semi-static resource allocation; ETSI ETSI TS 138 300 V15.3.1 (2018-10) 24 3GPP TS 38.300 version 15.3.1 Release 15 - support for UE discontinuous reception (DRX) to enable UE power saving; 3. Paging Channel (PCH) characterised by: - support for UE discontinuous reception (DRX) to enable UE power saving (DRX cycle is indicated by the network to the UE); - requirement to be broadcast in the entire coverage area of the cell, either as a single message or by beamforming different BCH instances; - mapped to physical resources which can be used dynamically also for traffic/other control channels. Uplink transport channel types are: 1. Uplink Shared Channel (UL-SCH) characterised by: - possibility to use beamforming; - support for dynamic link adaptation by varying the transmit power and potentially modulation and coding; - support for HARQ; - support for both dynamic and semi-static resource allocation. 2. Random Access Channel(s) (RACH) characterised by: - limited control information; - collision risk. Association of transport channels to physical channels is described in 3GPP TS 38.202 [20]. 6 Layer 2 6.1 Overview The layer 2 of NR is split into the following sublayers: Medium Access Control (MAC), Radio Link Control (RLC), Packet Data Convergence Protocol (PDCP) and Service Data Adaptation Protocol (SDAP). The two figures below depict the Layer 2 architecture for downlink and uplink, where: - The physical layer offers to the MAC sublayer transport channels; - The MAC sublayer offers to the RLC sublayer logical channels; - The RLC sublayer offers to the PDCP sublayer RLC channels; - The PDCP sublayer offers to the SDAP sublayer radio bearers; - The SDAP sublayer offers to 5GC QoS flows; - Comp. refers to header compression and segm. to segmentation; - Control channels (BCCH, PCCH are not depicted for clarity). NOTE: The gNB may not be able to guarantee that a L2 buffer overflow will never occur. If such overflow occurs, the UE may discard packets in the L2 buffer.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-51", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 51, "text": "be able to guarantee that a L2 buffer overflow will never occur. If such overflow occurs, the UE may discard packets in the L2 buffer. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n25\n3GPP TS 38.300 version 15.3.1 Release 15\nSegm.\nARQ\nMultiplexing UE1\nSegm.\nARQ\n...\nHARQ\nMultiplexing UEn\nHARQ\nScheduling / Priority Handling\nLogical Channels\nTransport Channels\nMAC\nRLC\nSegm.\nARQ\nSegm.\nARQ\nPDCP\nROHC\nROHC\nROHC\nROHC\nRadio Bearers\nSecurity\nSecurity\nSecurity\nSecurity\n...\nRLC Channels\nSDAP\nQoS flow\nhandling\nQoS Flows\nQoS flow\nhandling\n \nFigure 6.1-1: Downlink Layer 2 Structure \n \nFigure 6.1-2: Uplink Layer 2 Structure", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-52", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 52, "text": "Security ... RLC Channels SDAP QoS flow handling QoS Flows QoS flow handling Figure 6.1-1: Downlink Layer 2 Structure Figure 6.1-2: Uplink Layer 2 Structure ETSI ETSI TS 138 300 V15.3.1 (2018-10) 26 3GPP TS 38.300 version 15.3.1 Release 15 Radio bearers are categorized into two groups: data radio bearers (DRB) for user plane data and signalling radio bearers (SRB) for control plane data. 6.2 MAC Sublayer 6.2.1 Services and Functions The main services and functions of the MAC sublayer include: - Mapping between logical channels and transport channels; - Multiplexing/demultiplexing of MAC SDUs belonging to one or different logical channels into/from transport blocks (TB) delivered to/from the physical layer on transport channels; - Scheduling information reporting; - Error correction through HARQ (one HARQ entity per cell in case of CA); - Priority handling between UEs by means of dynamic scheduling; - Priority handling between logical channels of one UE by means of logical channel prioritisation; - Padding. A single MAC entity can support multiple numerologies, transmission timings and cells. Mapping restrictions in logical channel prioritisation control which numerology(ies), cell(s), and transmission timing(s) a logical channel can use (see subclause 16.1.2). 6.2.2 Logical Channels Different kinds of data transfer services as offered by MAC. Each logical channel type is defined by what type of information is transferred. Logical channels are classified into two groups: Control Channels and Traffic Channels. Control channels are used for the transfer of control plane information only: - Broadcast Control Channel (BCCH): a downlink channel for broadcasting system control information. - Paging Control Channel (PCCH): a downlink channel that transfers paging information, system information change notifications and indications of ongoing PWS broadcasts. - Common Control Channel (CCCH): channel for transmitting control information between UEs and network. This channel is used for UEs having no RRC connection with the network. - Dedicated Control Channel (DCCH): a point-to-point bi-directional channel that transmits dedicated control information between a UE and the network. Used by UEs having an RRC connection. Traffic channels are used for the transfer of user plane information only:", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-53", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 53, "text": "between a UE and the network. Used by UEs having an RRC connection. Traffic channels are used for the transfer of user plane information only: between a UE and the network. Used by UEs having an RRC connection. Traffic channels are used for the transfer of user plane information only: - Dedicated Traffic Channel (DTCH): point-to-point channel, dedicated to one UE, for the transfer of user information. A DTCH can exist in both uplink and downlink. 6.2.3 Mapping to Transport Channels In Downlink, the following connections between logical channels and transport channels exist: - BCCH can be mapped to BCH; - BCCH can be mapped to DL-SCH; - PCCH can be mapped to PCH; - CCCH can be mapped to DL-SCH; - DCCH can be mapped to DL-SCH; - DTCH can be mapped to DL-SCH.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-54", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 54, "text": "be mapped to PCH; - CCCH can be mapped to DL-SCH; - DCCH can be mapped to DL-SCH; - DTCH can be mapped to DL-SCH. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 27 3GPP TS 38.300 version 15.3.1 Release 15 In Uplink, the following connections between logical channels and transport channels exist: - CCCH can be mapped to UL-SCH; - DCCH can be mapped to UL- SCH; - DTCH can be mapped to UL-SCH. 6.2.4 HARQ The HARQ functionality ensures delivery between peer entities at Layer 1. A single HARQ process supports one TB when the physical layer is not configured for downlink/uplink spatial multiplexing, and when the physical layer is configured for downlink/uplink spatial multiplexing, a single HARQ process supports one or multiple TBs. 6.3 RLC Sublayer 6.3.1 Transmission Modes The RLC sublayer supports three transmission modes: - Transparent Mode (TM); - Unacknowledged Mode (UM); - Acknowledged Mode (AM). The RLC configuration is per logical channel with no dependency on numerologies and/or transmission durations, and ARQ can operate on any of the numerologies and/or transmission durations the logical channel is configured with. For SRB0, paging and broadcast system information, TM mode is used. For other SRBs AM mode used. For DRBs, either UM or AM mode are used. 6.3.2 Services and Functions The main services and functions of the RLC sublayer depend on the transmission mode and include: - Transfer of upper layer PDUs; - Sequence numbering independent of the one in PDCP (UM and AM); - Error Correction through ARQ (AM only); - Segmentation (AM and UM) and re-segmentation (AM only) of RLC SDUs; - Reassembly of SDU (AM and UM); - Duplicate Detection (AM only); - RLC SDU discard (AM and UM); - RLC re-establishment; - Protocol error detection (AM only). 6.3.3 ARQ The ARQ within the RLC sublayer has the following characteristics: - ARQ retransmits RLC SDUs or RLC SDU segments based on RLC status reports; - Polling for RLC status report is used when needed by RLC; - RLC receiver can also trigger RLC status report after detecting a missing RLC SDU or RLC SDU segment.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-55", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 55, "text": "is used when needed by RLC; - RLC receiver can also trigger RLC status report after detecting a missing RLC SDU or RLC SDU segment. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n28\n3GPP TS 38.300 version 15.3.1 Release 15\n6.4 \nPDCP Sublayer \n6.4.1 \nServices and Functions \nThe main services and functions of the PDCP sublayer for the user plane include: \n- \nSequence Numbering; \n- \nHeader compression and decompression: ROHC only; \n- \nTransfer of user data; \n- \nReordering and duplicate detection; \n- \nin-order delivery; \n- \nPDCP PDU routing (in case of split bearers); \n- \nRetransmission of PDCP SDUs; \n- \nCiphering, deciphering and integrity protection; \n- \nPDCP SDU discard; \n- \nPDCP re-establishment and data recovery for RLC AM; \n- \nPDCP status reporting for RLC AM; \n- \nDuplication of PDCP PDUs (see subclause 16.1.3) and duplicate discard indication to lower layers. \nThe main services and functions of the PDCP sublayer for the control plane include: \n- \nSequence Numbering; \n- \nCiphering, deciphering and integrity protection; \n- \nTransfer of control plane data; \n- \nReordering and duplicate detection; \n- \nin-order delivery; \n- \nDuplication of PDCP PDUs (see subclause 16.1.3) and duplicate discard indication to lower layers. \nSince PDCP does not allow COUNT to wrap around in DL and UL, it is up to the network to prevent it from happening \n(e.g. by using a release and add of the corresponding radio bearer or a full configuration). \n6.5 \nSDAP Sublayer \nThe main services and functions of SDAP include: \n- \nMapping between a QoS flow and a data radio bearer; \n- \nMarking QoS flow ID (QFI) in both DL and UL packets. \nA single protocol entity of SDAP is configured for each individual PDU session. \n6.6 \nL2 Data Flow \nAn example of the Layer 2 Data Flow is depicted on Figure 6.6-1, where a transport block is generated by MAC by \nconcatenating two RLC PDUs from RBx and one RLC PDU from RBy. The two RLC PDUs from RBx each corresponds \nto one IP packet (n and n+1) while the RLC PDU from RBy is a segment of an IP packet (m). \nNOTE: \nH depicts the headers and subheaders.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-56", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 56, "text": "packet (n and n+1) while the RLC PDU from RBy is a segment of an IP packet (m). NOTE: H depicts the headers and subheaders. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n29\n3GPP TS 38.300 version 15.3.1 Release 15\n \nFigure 6.6-1: Data Flow Example \n6.7 \nCarrier Aggregation \nIn case of CA, the multi-carrier nature of the physical layer is only exposed to the MAC layer for which one HARQ \nentity is required per serving cell as depicted on Figures 6.7-1 and 6.7-2 below: \n- \nIn both uplink and downlink, there is one independent hybrid-ARQ entity per serving cell and one transport \nblock is generated per assignment/grant per serving cell in the absence of spatial multiplexing. Each transport \nblock and its potential HARQ retransmissions are mapped to a single serving cell. \nSegm.\nARQ\nMultiplexing UE1\nSegm.\nARQ\n...\nHARQ\nMultiplexing UEn\nScheduling / Priority Handling\nLogical Channels\nTransport Channels\nMAC\nRLC\nSegm.\nARQ\nSegm.\nARQ\nPDCP\nROHC\nROHC\nROHC\nROHC\nRadio Bearers\nSecurity\nSecurity\nSecurity\nSecurity\n...\nRLC Channels\nSDAP\nQoS Flows\nCC1\nHARQ\nCCx\nHARQ\nCC1\nHARQ\nCCy\n...\n...\nQoS flow\nhandling\nQoS flow\nhandling\n \nFigure 6.7-1: Layer 2 Structure for DL with CA configured", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-57", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 57, "text": "CC1 HARQ CCx HARQ CC1 HARQ CCy ... ... QoS flow handling QoS flow handling Figure 6.7-1: Layer 2 Structure for DL with CA configured ETSI ETSI TS 138 300 V15.3.1 (2018-10) 30 3GPP TS 38.300 version 15.3.1 Release 15 Multiplexing ... Scheduling Transport Channels MAC RLC PDCP Segm. ARQ Segm. ARQ Logical Channels RLC Channels ROHC ROHC Radio Bearers Security Security SDAP QoS Flows HARQ CC1 HARQ CCx ... ... QoS flow handling Figure 6.7-2: Layer 2 Structure for UL with CA configured 6.8 Dual Connectivity When the UE is configured with SCG, the UE is configured with two MAC entities: one MAC entity for the MCG and one MAC entity for the SCG. Further details of DC operation can be found in 3GPP TS 37.340 [21]. 6.9 Supplementary Uplink In case of Supplementary Uplink (SUL, see 3GPP TS 38.101 [18]), the UE is configured with 2 ULs for one DL of the same cell, and uplink transmissions on those two ULs are controlled by the network to avoid overlapping PUSCH/PUCCH transmissions in time. Overlapping transmissions on PUSCH are avoided through scheduling while overlapping transmissions on PUCCH are avoided through configuration (PUCCH can only be configured for only one of the 2 ULs of the cell). In addition, initial access is supported in each of the uplink (see subclause 9.2.6). An example of SUL is given in Annex B. 6.10 Bandwidth Adaptation With Bandwidth Adaptation (BA), the receive and transmit bandwidth of a UE need not be as large as the bandwidth of the cell and can be adjusted: the width can be ordered to change (e.g. to shrink during period of low activity to save power); the location can move in the frequency domain (e.g. to increase scheduling flexibility); and the subcarrier spacing can be ordered to change (e.g. to allow different services). A subset of the total cell bandwidth of a cell is referred to as a Bandwidth Part (BWP) and BA is achieved by configuring the UE with BWP(s) and telling the UE which of the configured BWPs is currently the active one. Figure 6.10-1 below describes a scenario where 3 different BWPs are configured: - BWP1 with a width of 40 MHz and subcarrier spacing of 15 kHz; - BWP2 with a width of 10 MHz and subcarrier spacing of 15 kHz; - BWP3 with a width of 20 MHz and subcarrier spacing of 60 kHz.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-58", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 58, "text": "a width of 10 MHz and subcarrier spacing of 15 kHz; - BWP3 with a width of 20 MHz and subcarrier spacing of 60 kHz. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n31\n3GPP TS 38.300 version 15.3.1 Release 15\n \nFigure 6.10-1: BA Example \n7 \nRRC \n7.1 \nServices and Functions \nThe main services and functions of the RRC sublayer include: \n- \nBroadcast of System Information related to AS and NAS; \n- \nPaging initiated by 5GC or NG-RAN; \n- \nEstablishment, maintenance and release of an RRC connection between the UE and NG-RAN including: \n- \nAddition, modification and release of carrier aggregation; \n- \nAddition, modification and release of Dual Connectivity in NR or between E-UTRA and NR. \n- \nSecurity functions including key management; \n- \nEstablishment, configuration, maintenance and release of Signalling Radio Bearers (SRBs) and Data Radio \nBearers (DRBs); \n- \nMobility functions including: \n- \nHandover and context transfer; \n- \nUE cell selection and reselection and control of cell selection and reselection; \n- \nInter-RAT mobility. \n- \nQoS management functions; \n- \nUE measurement reporting and control of the reporting; \n- \nDetection of and recovery from radio link failure; \n- \nNAS message transfer to/from NAS from/to UE. \n7.2 \nProtocol States \nRRC supports the following states which can be characterised as follows:", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-59", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 59, "text": "radio link failure; - NAS message transfer to/from NAS from/to UE. 7.2 Protocol States RRC supports the following states which can be characterised as follows: ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n32\n3GPP TS 38.300 version 15.3.1 Release 15\n- \nRRC_IDLE: \n- \nPLMN selection; \n- \nBroadcast of system information; \n- \nCell re-selection mobility; \n- \nPaging for mobile terminated data is initiated by 5GC; \n- \nPaging for mobile terminated data area is managed by 5GC; \n- \nDRX for CN paging configured by NAS. \n- \nRRC_INACTIVE: \n- \nPLMN selection; \n- \nBroadcast of system information; \n- \nCell re-selection mobility; \n- \nPaging is initiated by NG-RAN (RAN paging); \n- \nRAN-based notification area (RNA) is managed by NG- RAN; \n- \nDRX for RAN paging configured by NG-RAN; \n- \n5GC - NG-RAN connection (both C/U-planes) is established for UE; \n- \nThe UE AS context is stored in NG-RAN and the UE; \n- \nNG-RAN knows the RNA which the UE belongs to. \n- \nRRC_CONNECTED: \n- \n5GC - NG-RAN connection (both C/U-planes) is established for UE; \n- \nThe UE AS context is stored in NG-RAN and the UE; \n- \nNG-RAN knows the cell which the UE belongs to; \n- \nTransfer of unicast data to/from the UE; \n- \nNetwork controlled mobility including measurements. \n7.3 \nSystem Information Handling \n7.3.1 \nOverview \nSystem Information (SI) is divided into Minimum SI and Other SI, where Minimum SI is transmitted over two different \ndownlink channels using different messages (MIB and SIB1) and Other SI is transmitted in SystemInformation messages \n(SIB2 and above): \n- \nMIB contains cell barred status information and essential physical layer information of the cell required to \nreceive further system information; \n- \nSIB1 defines the scheduling of other system information blocks and contains information required for initial \naccess; \n- \nSIB2 contains cell re-selection information, mainly related to the serving cell; \n- \nSIB3 contains information about the serving frequency and intra-frequency neighbouring cells relevant for cell \nre-selection (including cell re-selection parameters common for a frequency as well as cell specific re-selection \nparameters);", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-60", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 60, "text": "serving frequency and intra-frequency neighbouring cells relevant for cell re-selection (including cell re-selection parameters common for a frequency as well as cell specific re-selection parameters); ETSI ETSI TS 138 300 V15.3.1 (2018-10) 33 3GPP TS 38.300 version 15.3.1 Release 15 - SIB4 contains information about other NR frequencies and inter-frequency neighbouring cells relevant for cell re-selection (including cell re-selection parameters common for a frequency as well as cell specific re-selection parameters); - SIB5 contains information about E-UTRA frequencies and E-UTRA neighbouring cells relevant for cell re- selection (including cell re-selection parameters common for a frequency as well as cell specific re-selection parameters); - SIB6 contains an ETWS primary notification; - SIB7 contains an ETWS secondary notification; - SIB8 contains a CMAS warning notification; - SIB9 contains information related to GPS time and Coordinated Universal Time (UTC). The term Remaining Minimum SI (RMSI) is also used to refer to SIB1. Minimum SI is periodically broadcast and comprises basic information required for initial access and information for acquiring any other SI broadcast periodically or provisioned on-demand, i.e. scheduling information. The Other SI encompasses everything not broadcast in the Minimum SI and may be broadcast either triggered by the network or upon request from the UE as illustrated in Figure 7.3-1 below. UE gNB Minimum System Information always present and broadcast periodically Other System Information optionally present and broadcast periodically On-Demand System Information broadcast Figure 7.3-1: System Information Provisioning For a cell/frequency that is considered for camping by the UE, the UE is not required to acquire the contents of the minimum SI of that cell/frequency from another cell/frequency layer. This does not preclude the case that the UE applies stored SI from previously visited cell(s). If the UE cannot determine the full contents of the minimum SI of a cell (by receiving from that cell or from valid stored SI from previous cells), the UE shall consider that cell as barred. In case of BA, the UE only acquires SI on the active BWP. 7.3.2 Scheduling The MIB is mapped on the BCCH and carried on BCH while all other SI messages are mapped on the BCCH, and carried on DL-SCH, where they are dynamically carried on DL-SCH. The", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-61", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 61, "text": "carried on BCH while all other SI messages are mapped on the BCCH, and carried on DL-SCH, where they are dynamically carried on DL-SCH. The carried on BCH while all other SI messages are mapped on the BCCH, and carried on DL-SCH, where they are dynamically carried on DL-SCH. The scheduling of SI messages part of Other SI is indicated by SIB1. For UEs in RRC_IDLE and RRC_INACTIVE, a request for Other SI triggers a random access procedure (see subclause 9.2.6) where MSG3 includes the SI request message unless the requested SI is associated to a subset of the PRACH resources, in which case MSG1 is used for indication of the requested Other SI. When MSG1 is used, the minimum granularity of the request is one SI message (i.e. a set of SIBs), one RACH preamble and/or PRACH resource can be used to request multiple SI messages and the gNB acknowledges the request in MSG2. When MSG 3 is used, the gNB acknowledges the request in MSG4. The Other SI may be broadcast at a configurable periodicity and for a certain duration. The Other SI may also be broadcast when it is requested by UE in RRC_IDLE/RRC_INACTIVE. For a UE to be allowed to camp on a cell it must have acquired the contents of the Minimum SI from that cell. There may be cells in the system that do not broadcast the Minimum SI and where the UE therefore cannot camp.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-62", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 62, "text": "SI from that cell. There may be cells in the system that do not broadcast the Minimum SI and where the UE therefore cannot camp. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 34 3GPP TS 38.300 version 15.3.1 Release 15 7.3.3 SI Modification Change of system information (other than for ETWS/CMAS, see subclause 16.4) only occurs at specific radio frames, i.e. the concept of a modification period is used. System information may be transmitted a number of times with the same content within a modification period, as defined by its scheduling. The modification period is configured by system information. When the network changes (some of the) system information, it first notifies the UEs about this change, i.e. this may be done throughout a modification period. In the next modification period, the network transmits the updated system information. Upon receiving a change notification, the UE acquires the new system information from the start of the next modification period. The UE applies the previously acquired system information until the UE acquires the new system information. The Short Message transmitted with P-RNTI over DCI (see subclause 6.5 of 3GPP TS 38.331 [12]) on PDCCH is used to inform UEs in RRC_IDLE, RRC_INACTIVE and in RRC_CONNECTED about a system information change. If the UE receives a Short Message with system information change indication, it knows that the system information (other than for ETWS/CMAS) will change at the next modification period boundary. 7.4 Access Control NG-RAN supports overload and access control functionality such as RACH back off, RRC Connection Reject, RRC Connection Release and UE based access barring mechanisms. One unified access control framework as specified in 3GPP TS 22.261 [19] is applied for NR. For each access attempt one Access Category and one or more Access Identities are selected. NG-RAN broadcasts barring control information associated with Access Categories and Access Identities and the UE determines whether an identified access attempt is authorized or not, based on the broadcasted barring information and the selected Access Category and Access Identities. In the case of multiple core networks sharing the same NG-RAN, the NG-RAN provides broadcasted barring control information for each PLMN individually. The unified access control framework is applicable to all UE states (RRC_IDLE, RRC_INACTIVE and", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-63", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 63, "text": "the NG-RAN provides broadcasted barring control information for each PLMN individually. The unified access control framework is applicable to all UE states (RRC_IDLE, RRC_INACTIVE and the NG-RAN provides broadcasted barring control information for each PLMN individually. The unified access control framework is applicable to all UE states (RRC_IDLE, RRC_INACTIVE and RRC_CONNECTED state). For NAS triggered requests, the UE NAS determines one access category and access identity(ies) for the given access attempt and provides them to RRC for access control check. The RRC performs access barring check based on the access control information and the determined access category and access identities. The RRC indicates whether the access attempt is allowed or not to NAS layer. The NAS also performs the mapping of the access category and access identity(ies) associated with the access attempt to establishment cause and provides the establishment cause to RRC for inclusion in connection request to enable the gNB to decide whether to reject the request. For AS triggered request (i.e. RNA update), the RRC determines the resume cause value and the corresponding access category. 7.5 UE Capability Retrieval framework The UE reports its UE radio access capabilities which are static at least when the network requests. The gNB can request what capabilities for the UE to report based on band information. When allowed by the network, a temporary capability restriction request maybe sent by the UE to signal the limited availability of some capabilities (e.g. due to hardware sharing, interference or overheating) to the gNB. The gNB can then confirm or reject the request. The temporary capability restriction should be transparent to 5GC. Namely, only static capabilities are stored in 5GC. 7.6 Transport of NAS Messages Void. Transport of NAS Messages is not complete and is targeted for completion in June 2018.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-64", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 64, "text": "are stored in 5GC. 7.6 Transport of NAS Messages Void. Transport of NAS Messages is not complete and is targeted for completion in June 2018. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 35 3GPP TS 38.300 version 15.3.1 Release 15 7.7 Carrier Aggregation When CA is configured, the UE only has one RRC connection with the network. At RRC connection establishment/re- establishment/handover, one serving cell provides the NAS mobility information, and at RRC connection re- establishment/handover, one serving cell provides the security input. This cell is referred to as the Primary Cell (PCell). Depending on UE capabilities, Secondary Cells (SCells) can be configured to form together with the PCell a set of serving cells. The configured set of serving cells for a UE therefore always consists of one PCell and one or more SCells. The reconfiguration, addition and removal of SCells can be performed by RRC. At intra-NR handover, RRC can also add, remove, or reconfigure SCells for usage with the target PCell. When adding a new SCell, dedicated RRC signalling is used for sending all required system information of the SCell i.e. while in connected mode, UEs need not acquire broadcast system information directly from the SCells. 7.8 Bandwidth Adaptation To enable BA on the PCell, the gNB configures the UE with UL and DL BWP(s). To enable BA on SCells in case of CA, the gNB configures the UE with DL BWP(s) at least (i.e. there may be none in the UL). For the PCell, the initial BWP is the BWP used for initial access. For the SCell(s), the initial BWP is the BWP configured for the UE to first operate at SCell activation. In paired spectrum, DL and UL can switch BWP independently. In unpaired spectrum, DL and UL switch BWP simultaneously. Switching between configured BWPs happens by means of RRC signalling, DCI or inactivity timer. When an inactivity timer is configured for a serving cell, the expiry of the inactivity timer associated to that cell switches the active BWP to a default BWP configured by the network. There can be at most one active BWP per cell. 8 NG Identities 8.1 UE Identities In this subclause, the identities used by NR connected to 5GC are listed. For scheduling at cell level, the following identities are used: - C-RNTI: unique UE identification used as an identifier of the RRC Connection and for scheduling; -", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-65", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 65, "text": "at cell level, the following identities are used: - C-RNTI: unique UE identification used as an identifier of the RRC Connection and for scheduling; - at cell level, the following identities are used: - C-RNTI: unique UE identification used as an identifier of the RRC Connection and for scheduling; - CS-RNTI: unique UE identification used for Semi-Persistent Scheduling in the downlink; - INT-RNTI: identification of pre-emption in the downlink; - P-RNTI: identification of Paging and System Information change notification in the downlink; - SI-RNTI: identification of Broadcast and System Information in the downlink; - SP-CSI-RNTI: unique UE identification used for semi-persistent CSI reporting on PUSCH; For power and slot format control, the following identities are used: - SFI-RNTI: identification of slot format; - TPC-PUCCH-RNTI: unique UE identification to control the power of PUCCH; - TPC-PUSCH-RNTI: unique UE identification to control the power of PUSCH; - TPC-SRS-RNTI: unique UE identification to control the power of SRS; During the random access procedure, the following identities are also used: - RA-RNTI: identification of the Random Access Response in the downlink; - Temporary C-RNTI: UE identification temporarily used for scheduling during the random access procedure; - Random value for contention resolution: UE identification temporarily used for contention resolution purposes during the random access procedure.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-66", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 66, "text": "scheduling during the random access procedure; - Random value for contention resolution: UE identification temporarily used for contention resolution purposes during the random access procedure. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 36 3GPP TS 38.300 version 15.3.1 Release 15 For NR connected to 5GC, the following UE identities are used at NG-RAN level: - I-RNTI: used to identify the UE context in RRC_INACTIVE. 8.2 Network Identities The following identities are used in NG-RAN for identifying a specific network entity: - AMF Name: used to identify an AMF. - NR Cell Global Identifier (NCGI): used to identify NR cells globally. The NCGI is constructed from the PLMN identity the cell belongs to and the NR Cell Identity (NCI) of the cell. - gNB Identifier (gNB ID): used to identify gNBs within a PLMN. The gNB ID is contained within the NCI of its cells. - Global gNB ID: used to identify gNBs globally. The Global gNB ID is constructed from the PLMN identity the gNB belongs to and the gNB ID. The MCC and MNC are the same as included in the NCGI. - Tracking Area identity (TAI): used to identify tracking areas. The TAI is constructed from the PLMN identity the tracking area belongs to and the TAC (Tracking Area Code) of the Tracking Area. - Single Network Slice Selection Assistance information (S-NSSAI): identifies a network slice. 9 Mobility and State Transitions 9.1 Overview Load balancing is achieved in NR with handover, redirection mechanisms upon RRC release and through the usage of inter-frequency and inter-RAT absolute priorities and inter-frequency Qoffset parameters. Measurements to be performed by a UE for connected mode mobility are classified in at least three measurement types: - Intra-frequency NR measurements; - Inter-frequency NR measurements; - Inter-RAT measurements for E-UTRA. For each measurement type one or several measurement objects can be defined (a measurement object defines e.g. the carrier frequency to be monitored). For each measurement object one or several reporting configurations can be defined (a reporting configuration defines the reporting criteria). Three reporting criteria are used: event triggered reporting, periodic reporting and event triggered periodic reporting. The association between a measurement object and a reporting configuration is created by a measurement identity (a measurement", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-67", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 67, "text": "periodic reporting and event triggered periodic reporting. The association between a measurement object and a reporting configuration is created by a measurement identity (a measurement periodic reporting and event triggered periodic reporting. The association between a measurement object and a reporting configuration is created by a measurement identity (a measurement identity links together one measurement object and one reporting configuration of the same RAT). By using several measurement identities (one for each measurement object, reporting configuration pair) it is then possible to: - associate several reporting configurations to one measurement object and; - associate one reporting configuration to several measurement objects. The measurements identity is as well used when reporting results of the measurements. Measurement quantities are considered separately for each RAT. Measurement commands are used by NG-RAN to order the UE to start, modify or stop measurements. Inter system fallback towards E-UTRAN is performed when 5GC does not support emergency services, voice services, for load balancing etc. Depending on factors such as CN interface availability, network configuration and radio", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-68", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 68, "text": "when 5GC does not support emergency services, voice services, for load balancing etc. Depending on factors such as CN interface availability, network configuration and radio ETSI ETSI TS 138 300 V15.3.1 (2018-10) 37 3GPP TS 38.300 version 15.3.1 Release 15 conditions, the fallback procedure results in either CONNECTED state mobility (handover procedure) or IDLE state mobility (redirection) - see 3GPP TS 23.501 [3] and 3GPP TS 38.331 [12]. In the N2 signalling procedure, the AMF based on support for emergency services, voice service, any other services or for load balancing etc, may indicate the target CN type as EPC or 5GC to the gNB node. When the target CN type is received by gNB, the target CN type is also conveyed to the UE in RRCRelease Message. 9.2 Intra-NR 9.2.1 Mobility in RRC_IDLE 9.2.1.1 Cell Selection The principles of PLMN selection in NR are based on the 3GPP PLMN selection principles. Cell selection is required on transition from RM-DEREGISTERED to RM-REGISTERED, from CM-IDLE to CM-CONNECTED and from CM- CONNECTED to CM-IDLE and is based on the following principles: - The UE NAS layer identifies a selected PLMN and equivalent PLMNs; - Cell selection is always based on CD-SSBs located on the synchronization raster (see subclause 5.2.4): - The UE searches the NR frequency bands and for each carrier frequency identifies the strongest cell as per the CD-SSB. It then reads cell system information broadcast to identify its PLMN(s): - The UE may search each carrier in turn (\"initial cell selection\") or make use of stored information to shorten the search (\"stored information cell selection\"). - The UE seeks to identify a suitable cell; if it is not able to identify a suitable cell it seeks to identify an acceptable cell. When a suitable cell is found or if only an acceptable cell is found it camps on that cell and commence the cell reselection procedure: - A suitable cell is one for which the measured cell attributes satisfy the cell selection criteria; the cell PLMN is the selected PLMN, registered or an equivalent PLMN; the cell is not barred or reserved and the cell is not part of a tracking area which is in the list of \"forbidden tracking areas for roaming\"; - An acceptable cell is one for which the measured cell attributes satisfy the cell selection criteria and the cell is not barred. Transition to RRC_IDLE: On", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-69", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 69, "text": "acceptable cell is one for which the measured cell attributes satisfy the cell selection criteria and the cell is not barred. Transition to RRC_IDLE: On acceptable cell is one for which the measured cell attributes satisfy the cell selection criteria and the cell is not barred. Transition to RRC_IDLE: On transition from RRC_CONNECTED to RRC_IDLE, a UE should camp on the last cell for which it was in RRC_CONNECTED or a cell/any cell of set of cells or frequency be assigned by RRC in the state transition message. Recovery from out of coverage: The UE should attempt to find a suitable cell in the manner described for stored information or initial cell selection above. If no suitable cell is found on any frequency or RAT, the UE should attempt to find an acceptable cell. In multi-beam operations, the cell quality is derived amongst the beams corresponding to the same cell (see subclause 9.2.4). 9.2.1.2 Cell Reselection A UE in RRC_IDLE performs cell reselection. The principles of the procedure are the following: - Cell reselection is always based on CD-SSBs located on the synchronization raster (see subclause 5.2.4). - The UE makes measurements of attributes of the serving and neighbour cells to enable the reselection process: - For the search and measurement of inter-frequency neighbouring cells, only the carrier frequencies need to be indicated.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-70", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 70, "text": "neighbour cells to enable the reselection process: - For the search and measurement of inter-frequency neighbouring cells, only the carrier frequencies need to be indicated. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n38\n3GPP TS 38.300 version 15.3.1 Release 15\n- \nCell reselection identifies the cell that the UE should camp on. It is based on cell reselection criteria which \ninvolves measurements of the serving and neighbour cells: \n- \nIntra-frequency reselection is based on ranking of cells; \n- \nInter-frequency reselection is based on absolute priorities where a UE tries to camp on the highest priority \nfrequency available; \n- \nAn NCL can be provided by the serving cell to handle specific cases for intra- and inter-frequency \nneighbouring cells; \n- \nBlack lists can be provided to prevent the UE from reselecting to specific intra- and inter-frequency \nneighbouring cells; \n- \nCell reselection can be speed dependent; \n- \nService specific prioritisation. \nIn multi-beam operations, the cell quality is derived amongst the beams corresponding to the same cell (see subclause \n9.2.4). \n9.2.1.3 \nState Transitions \nThe following figure describes the UE triggered transition from RRC_IDLE to RRC_CONNECTED (for the NAS part, \nsee 3GPP TS 23.502 [22]): \n \nUE\ngNB\nAMF\nUE in RRC_IDLE\nCM-IDLE\n1. RRCSetupRequest\n2. RRCSetup\nUE in RRC_CONNECTED\nCM-IDLE\n2a. RRCSetupComplete\n3. INITIAL UE MESSAGE\nUE in RRC_CONNECTED\nCM-CONNECTED\n4. DOWNLINK NAS TRANSPORT\n4a. DLInformationTransfer\n5. ULInformationTransfer\n5a. UPLINK NAS TRANSPORT\n6. INITIAL CONTEXT SETUP REQUEST\n7. SecurityModeCommand\n7a. SecurityModeComplete\n8. RRCReconfiguration\n8a. RRCReconfigurationComplete\n9. INITIAL CONTEXT SETUP RESPONSE\n \nFigure 9.2.1.3-1: UE triggered transition from RRC_IDLE to RRC_CONNECTED \n1. The UE requests to setup a new connection from RRC_IDLE.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-71", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 71, "text": "9. INITIAL CONTEXT SETUP RESPONSE Figure 9.2.1.3-1: UE triggered transition from RRC_IDLE to RRC_CONNECTED 1. The UE requests to setup a new connection from RRC_IDLE. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 39 3GPP TS 38.300 version 15.3.1 Release 15 2/2a. The gNB completes the RRC setup procedure. NOTE: The scenario where the gNB rejects the request is described below. 3. The first NAS message from the UE, piggybacked in RRCSetupComplete, is sent to AMF. 4/4a/5/5a. Additional NAS messages may be exchanged between UE and AMF [22]. 6. The AMF prepares the UE context data (including PDU session context, the Security Key, UE Radio Capability and UE Security Capabilities, etc.) and sends it to the gNB. 7/7a. The gNB activates the AS security with the UE. 8/8a. The gNB performs the reconfiguration to setup SRB2 and DRBs. 9. The gNB informs the AFM that the setup procedure is completed. NOTE: RRC messages in step 1 and 2 use SRB0, all the subsequent messages use SRB1. Messages in step 6 are integrity protected. From step 7 on, all the messages are integrity protected and ciphered. The following figure describes the rejection from the network when the UE attempts to setup a connection from RRC_IDLE: UE gNB UE in RRC_IDLE CM-IDLE 1. RRCSetupRequest 2. Procedure cannot be handled (e.g. congestion) 3. RRCReject (wait time) Figure 9.2.1.3-2: Rejection of UE triggered transition from RRC_IDLE 1. UE attempts to setup a new connection from RRC_IDLE. 2. The gNB is not able to handle the procedure, for instance due to congestion. 3. The gNB sends RRCReject (with a wait time) to keep the UE in RRC_IDLE. 9.2.2 Mobility in RRC_INACTIVE 9.2.2.1 Overview RRC_INACTIVE is a state where a UE remains in CM-CONNECTED and can move within an area configured by NG- RAN (the RNA) without notifying NG-RAN. In RRC_INACTIVE, the last serving gNB node keeps the UE context and the UE-associated NG connection with the serving AMF and UPF. If the last serving gNB receives DL data from the UPF or DL UE-associated signalling from the AMF (except the UE Context Release Command message) while the UE is in RRC_INACTIVE, it pages in the cells corresponding to the RNA and may send XnAP RAN Paging to neighbour gNB(s) if the RNA includes cells of neighbour gNB(s). Upon receiving the UE Context Release Command message while the UE is in RRC_INACTIVE, the last", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-72", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 72, "text": "gNB(s) if the RNA includes cells of neighbour gNB(s). Upon receiving the UE Context Release Command message while the UE is in RRC_INACTIVE, the last gNB(s) if the RNA includes cells of neighbour gNB(s). Upon receiving the UE Context Release Command message while the UE is in RRC_INACTIVE, the last serving gNB may page in the cells corresponding to the RNA and may send XnAP RAN Paging to neighbour gNB(s) if the RNA includes cells of neighbour gNB(s), in order to release UE explicitly. Upon RAN paging failure, the gNB behaves according to 3GPP TS 23.501 [3]. The AMF provides to the NG-RAN node the RRC Inactive Assistance Information to assist the NG-RAN node's decision whether the UE can be sent to RRC_INACTIVE. The RRC Inactive Assistance Information includes the registration area configured for the UE, the UE specific DRX, Periodic Registration Update timer, an indication if the UE is configured with Mobile Initiated Connection Only (MICO) mode by the AMF, and UE Identity Index value. The", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-73", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 73, "text": "Update timer, an indication if the UE is configured with Mobile Initiated Connection Only (MICO) mode by the AMF, and UE Identity Index value. The ETSI ETSI TS 138 300 V15.3.1 (2018-10) 40 3GPP TS 38.300 version 15.3.1 Release 15 UE registration area is taken into account by the NG-RAN node when configuring the RNA. The UE specific DRX and UE Identity Index value are used by the NG-RAN node for RAN paging. The Periodic Registration Update timer is taken into account by the NG-RAN node to configure Periodic RNA Update timer. At transition to RRC_INACTIVE the NG-RAN node may configure the UE with a periodic RNA Update timer value. At periodic RNA Update timer expiry without notification from the UE, the gNB behaves as specified in 3GPP TS 23.501 [3]. If the UE accesses a gNB other than the last serving gNB, the receiving gNB triggers the XnAP Retrieve UE Context procedure to get the UE context from the last serving gNB and may also trigger a Data Forwarding procedure including tunnel information for potential recovery of data from the last serving gNB. Upon successful UE context retrieval, the receiving gNB shall perform the slice-aware admission control in case of receiving slice information and becomes the serving gNB and it further triggers the NGAP Path Switch Request and RRC procedures properly. After the path switch procedure, the serving gNB triggers release of the UE context at the last serving gNB by means of the XnAP UE Context Release procedure. In case the UE is not reachable at the last serving gNB, the gNB shall fail AMF initiated UE-associated class 1 procedures if any, and shall trigger the NAS Non Delivery Indication procedure to report the non-delivery of any NAS PDU received from the AMF for the UE. If the UE accesses a gNB other than the last serving gNB and the receiving gNB does not find a valid UE Context, the receiving gNB can perform establishment of a new RRC connection instead of resumption of the previous RRC connection. A UE in the RRC_INACTIVE state is required to initiate RNA update procedure when it moves out of the configured RNA. When receiving RNA update request from the UE, the receiving gNB triggers the XnAP Retrieve UE Context procedure to get the UE context from the last serving gNB and may decide to send the UE back to RRC_INACTIVE state, move the UE into", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-74", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 74, "text": "to get the UE context from the last serving gNB and may decide to send the UE back to RRC_INACTIVE state, move the UE into to get the UE context from the last serving gNB and may decide to send the UE back to RRC_INACTIVE state, move the UE into RRC_CONNECTED state, or send the UE to RRC_IDLE. 9.2.2.2 Cell Reselection A UE in RRC_INACTIVE performs cell reselection. The principles of the procedure are as for the RRC_IDLE state (see subclause 9.2.1.2). 9.2.2.3 RAN-Based Notification Area A UE in the RRC_INACTIVE state can be configured by the last serving NG-RAN node with an RNA, where: - the RNA can cover a single or multiple cells, and shall be contained within the CN registration area; in this release Xn connectivity should be available within the RNA; - a RAN-based notification area update (RNAU) is periodically sent by the UE and is also sent when the cell reselection procedure of the UE selects a cell that does not belong to the configured RNA. There are several different alternatives on how the RNA can be configured: - List of cells: - A UE is provided an explicit list of cells (one or more) that constitute the RNA. - List of RAN areas: - A UE is provided (at least one) RAN area ID, where a RAN area is a subset of a CN Tracking Area or equal to a CN Tracking Area. A RAN area is specified by one RAN area ID, which consists of a TAI and optionally a RAN area Code; - A cell broadcasts one or more RAN area IDs in the system information. NG-RAN may provide different RNA definitions to different UEs but not mix different definitions to the same UE at the same time. UE shall support all RNA configuration options listed above.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-75", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 75, "text": "to different UEs but not mix different definitions to the same UE at the same time. UE shall support all RNA configuration options listed above. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 41 3GPP TS 38.300 version 15.3.1 Release 15 9.2.2.4 State Transitions 9.2.2.4.1 UE triggered transition from RRC_INACTIVE to RRC_CONNECTED The following figure describes the UE triggered transition from RRC_INACTIVE to RRC_CONNECTED in case of UE context retrieval success: UE gNB Last Serving gNB AMF UE in RRC_INACTIVE CM-CONNECTED 1. RRCResumeRequest 2. RETRIEVE UE CONTEXT REQUEST 3. RETRIEVE UE CONTEXT RESPONSE 4. RRCResume UE in RRC_CONNECTED CM-CONNECTED 5. RRCResumeComplete 6. DATA FORWARDING ADDRESS INDICATION 7. PATH SWITCH REQUEST 8. PATH SWITCH REQUEST RESPONSE 9. UE CONTEXT RELEASE Figure 9.2.2.4.1-1: UE triggered transition from RRC_INACTIVE to RRC_CONNECTED (UE context retrieval success) 1. The UE resumes from RRC_INACTIVE, providing the I-RNTI, allocated by the last serving gNB. 2. The gNB, if able to resolve the gNB identity contained in the I-RNTI, requests the last serving gNB to provide UE Context data. 3. The last serving gNB provides UE context data. 4/5. The gNB and UE completes the resumption of the RRC connection. NOTE: User Data can also be sent in step 5 if the grant allows. 6. If loss of DL user data buffered in the last serving gNB shall be prevented, the gNB provides forwarding addresses. 7/8. The gNB performs path switch. 9. The gNB triggers the release of the UE resources at the last serving gNB. After step 1 above, when the gNB decides to reject the Resume Request and keep the UE in RRC_INACTIVE without any reconfiguration (e.g. as described in the two examples below), or when the gNB decides to setup a new RRC connection, SRB0 (without security) can be used. When the gNB decides to reconfigure the UE (e.g. with a new DRX cycle or RNA) or when the gNB decides to push the UE to RRC_IDLE, SRB1 (with at least integrity protection) shall be used. NOTE: SRB1 can only be used once the UE Context is retrieved i.e. after step 3. The following figure describes the UE triggered transition from RRC_INACTIVE to RRC_CONNECTED in case of UE context retrieval failure:", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-76", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 76, "text": "is retrieved i.e. after step 3. The following figure describes the UE triggered transition from RRC_INACTIVE to RRC_CONNECTED in case of UE context retrieval failure: ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n42\n3GPP TS 38.300 version 15.3.1 Release 15\nUE\ngNB\nLast Serving gNB\nAMF\nUE in RRC_INACTIVE\nCM-CONNECTED\n1. RRCResumeRequest\n2. RETRIEVE UE CONTEXT REQUEST\n3. Failure to retrieve or verify UE context\n4. RETRIEVE UE CONTEXT FAILURE\n5. RRCSetup\n6. Setup New RRC Connection\n \nFigure 9.2.2.4.1-2: UE triggered transition from RRC_INACTIVE to RRC_CONNECTED \n(UE context retrieval failure) \n1. The UE resumes from RRC_INACTIVE, providing the I-RNTI, allocated by the last serving gNB. \n2. The gNB, if able to resolve the gNB identity contained in the I-RNTI, requests the last serving gNB to provide \nUE Context data. \n3. The last serving gNB cannot retrieve or verify the UE context data. \n4. The last serving gNB indicates the failure to the gNB. \n5. The gNB performs a fallback to establish a new RRC connection by sending RRCSetup. \n6. A new connection is setup as described in sub-clause 9.2.1.3.1. \nThe following figure describes the rejection form the network when the UE attempts to resume a connection from \nRRC_INACTIVE: \nUE\ngNB\nUE in RRC_INACTIVE\nCM-CONNECTED\n1. RRCResumeRequest\n2. Procedure cannot be handled\n(e.g. congestion)\n3. RRCReject (wait time)\n \nFigure 9.2.2,4.1-3: Reject from the network, UE attempts to resume a connection \n1. UE attempts to resume the connection from RRC_INACTIVE. \n2. The gNB is not able to handle the procedure, for instance due to congestion. \n3. The gNB sends RRCReject (with a wait time) to keep the UE in RRC_INACTIVE. \n9.2.2.4.2 \nNetwork triggered transition from RRC_INACTIVE to RRC_CONNECTED \nThe following figure describes the network triggered transition from RRC_INACTIVE to RRC_CONNECTED:", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-77", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 77, "text": "keep the UE in RRC_INACTIVE. 9.2.2.4.2 Network triggered transition from RRC_INACTIVE to RRC_CONNECTED The following figure describes the network triggered transition from RRC_INACTIVE to RRC_CONNECTED: ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n43\n3GPP TS 38.300 version 15.3.1 Release 15\nUE\nLast Serving gNB\ngNB\nAMF\nUE in RRC_INACTIVE\nCM-CONNECTED\n1. RAN Paging Trigger\n2. RAN Paging\n3. Paging UE\n4. Resuming from RRC_INACTIVE\n \nFigure 9.2.2.4.2-1: Network triggered transition from RRC_INACTIVE to RRC_CONNECTED \n1. A RAN paging trigger event occurs (incoming DL user plane, DL signalling from 5GC, etc.). \n2. RAN paging is triggered; either only in the cells controlled by the last serving gNB or also by means of Xn RAN \nPaging in cells controlled by other gNBs, configured to the UE in the RAN-based Notification Area (RNA). \n3. The UE is paged with the I-RNTI. \n4. If the UE has been successfully reached, it attempts to resume from RRC_INACTIVE, as described in sub-\nclause 9.2.2.4.1. \n9.2.2.5 \nRNA update \nThe following figure describes the UE triggered RNA update procedure involving context retrieval over Xn. The \nprocedure may be triggered when the UE moves out of the configured RNA, or at the expiry of a periodic RNA Update \ntimer. \nUE\ngNB\nLast Serving gNB\nAMF\nUE in RRC_INACTIVE\nCM-CONNECTED\n1. RRCResumeRequest\nRNA Update\n2. RETRIEVE UE CONTEXT REQUEST\n3. RETRIEVE UE CONTEXT RESPONSE\n4. Send UE to INACTIVE\n5. DATA FORWARDING ADDRESS INDICATION\n6. PATH SWITCH REQUEST\n7. PATH SWITCH REQUEST RESPONSE\n8. RRCRelease\nSuspend Indication\n9. UE CONTEXT RELEASE\n \nFigure 9.2.2.5-1: RNA update procedure with UE context relocation \n1. The UE resumes from RRC_INACTIVE, providing the I-RNTI allocated by the last serving gNB and \nappropriate cause value, e.g., RAN notification area update. \n2. The gNB, if able to resolve the gNB identity contained in the I-RNTI, requests the last serving gNB to provide \nUE Context, providing the cause value received in step 1. \n3. The last serving gNB provides UE context.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-78", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 78, "text": "requests the last serving gNB to provide UE Context, providing the cause value received in step 1. 3. The last serving gNB provides UE context. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 44 3GPP TS 38.300 version 15.3.1 Release 15 4. The gNB may move the UE to RRC_CONNECTED (and the procedure follows step 4 of Figure 9.2.2.4.1-1), or send the UE back to RRC_IDLE (in which case an RRCRelease message is sent by the gNB and the procedure ends), or send the UE back to RRC_INACTIVE as assumed in the following. 5. If loss of DL user data buffered in the last serving gNB shall be prevented, the gNB provides forwarding addresses. 6./7. The gNB performs path switch. 8. The gNB moves the UE back to RRC_INACTIVE state by sending RRCRelease with suspend indication. 9. The gNB triggers the release of the UE resources at the last serving gNB. The following figure describes the periodic RNA update procedure for the case when the last serving gNB decides not to relocate the UE context: UE gNB Last Serving gNB UE in RRC_INACTIVE CM-CONNECTED 1. RRCConnectionResumeRequest RNA Update 2. RETRIEVE UE CONTEXT REQUEST RNA Update 3. RETRIEVE UE CONTEXT FAILURE 4. RRCRelease Suspend Indication Figure 9.2.2.5-2: Periodic RNA update procedure without UE context relocation 1. The UE resumes from RRC_INACTIVE, providing the I-RNTI allocated by the last serving gNB and appropriate cause value, e.g., RAN notification area update. 2. The gNB, if able to resolve the gNB identity contained in the I-RNTI, requests the last serving gNB to provide UE Context, providing the cause value received in step 1. 3. The last serving gNB responds to the gNB with the RETRIEVE UE CONTEXT FAILURE message including an encapsulated RRC Connection Release message. The RRC message includes suspend configuration, if the last serving gNB decides to keep the UE in RRC_INACTIVE. 4. The gNB forwards the RRC Connection Release message to the UE. 9.2.3 Mobility in RRC_CONNECTED 9.2.3.1 Overview Network controlled mobility applies to UEs in RRC_CONNECTED and is categorized into two types of mobility: cell level mobility and beam level mobility. Cell Level Mobility requires explicit RRC signalling to be triggered, i.e. handover. For inter-gNB handover, the signalling procedures consist of at least the following elemental components illustrated", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-79", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 79, "text": "Mobility requires explicit RRC signalling to be triggered, i.e. handover. For inter-gNB handover, the signalling procedures consist of at least the following elemental components illustrated Mobility requires explicit RRC signalling to be triggered, i.e. handover. For inter-gNB handover, the signalling procedures consist of at least the following elemental components illustrated in Figure 9.2.3.1-1:", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-80", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 80, "text": "RRC signalling to be triggered, i.e. handover. For inter-gNB handover, the signalling procedures consist of at least the following elemental components illustrated in Figure 9.2.3.1-1: ETSI ETSI TS 138 300 V15.3.1 (2018-10) 45 3GPP TS 38.300 version 15.3.1 Release 15 UE Source gNB Target gNB 1. HANDOVER REQUEST Admission Control 2. HANDOVER REQUEST ACKNOWLEDGE 3. RRCReconfiguration Switch to New Cell 4. RRCReconfigurationComplete Figure 9.2.3.1-1: Inter-gNB handover procedures 1. The source gNB initiates handover and issues a Handover Request over the Xn interface. 2. The target gNB performs admission control and provides the RRC configuration as part of the Handover Acknowledgement. 3. The source gNB provides the RRC configuration to the UE in the Handover Command. The Handover Command message includes at least cell ID and all information required to access the target cell so that the UE can access the target cell without reading system information. For some cases, the information required for contention-based and contention-free random access can be included in the Handover Command message. The access information to the target cell may include beam specific information, if any. 4. The UE moves the RRC connection to the target gNB and replies the Handover Complete. NOTE: User Data can also be sent in step 4 if the grant allows. The handover mechanism triggered by RRC requires the UE at least to reset the MAC entity and re-establish RLC. RRC managed handovers with and without PDCP entity re-establishment are both supported. For DRBs using RLC AM mode, PDCP can either be re-established together with a security key change or initiate a data recovery procedure without a key change. For DRBs using RLC UM mode and for SRBs, PDCP can either be re-established together with a security key change or remain as it is without a key change. Data forwarding, in-sequence delivery and duplication avoidance at handover can be guaranteed when the target gNB uses the same DRB configuration as the source gNB. Timer based handover failure procedure is supported in NR. RRC connection re-establishment procedure is used for recovering from handover failure. Beam Level Mobility does not require explicit RRC signalling to be triggered. The gNB provides via RRC signalling the UE with measurement configuration containing configurations of SSB/CSI resources and resource sets, reports and", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-81", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 81, "text": "signalling to be triggered. The gNB provides via RRC signalling the UE with measurement configuration containing configurations of SSB/CSI resources and resource sets, reports and signalling to be triggered. The gNB provides via RRC signalling the UE with measurement configuration containing configurations of SSB/CSI resources and resource sets, reports and trigger states for triggering channel and interference measurements and reports. Beam Level Mobility is then dealt with at lower layers by means of physical layer and MAC layer control signalling, and RRC is not required to know which beam is being used at a given point in time. 9.2.3.2 Handover 9.2.3.2.1 C-Plane Handling The intra-NR RAN handover performs the preparation and execution phase of the handover procedure performed without involvement of the 5GC, i.e. preparation messages are directly exchanged between the gNBs. The release of the resources at the source gNB during the handover completion phase is triggered by the target gNB. The figure below depicts the basic handover scenario where neither the AMF nor the UPF changes:", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-82", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 82, "text": "handover completion phase is triggered by the target gNB. The figure below depicts the basic handover scenario where neither the AMF nor the UPF changes: ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n46\n3GPP TS 38.300 version 15.3.1 Release 15\nUE\nSource gNB\nTarget gNB\nAMF\nUPF(s)\nUser Data\nUser Data\n0.Mobility control information provided by AMF\n1.Measurement Control and Reports\n2. Handover Decision\n3. HANDOVER REQUEST\n4. Admission Control\n5. HANDOVER REQUEST\nACKNOWLEDGE\n6. RAN Handover Initiation\n7. SN STATUS TRANSFER\nDetach from old cell\nSynchronise to new cell\nDeliver buffered data\nand new data from UPF(s)\nUser Data\nBuffer User Data\nfrom Source gNB\n8. RAN Handover Completion\nUser Data\nUser Data\n9. PATH SWITCH REQUEST\n10. Path Switch in UPF(s)\nEnd Marker\nUser Data\n11. PATH SWITCH REQUEST\nACKNOWLEDGE\n12. UE CONTEXT RELEASE\n \nFigure 9.2.3.2.1-1: Intra-AMF/UPF Handover \n0. The UE context within the source gNB contains information regarding roaming and access restrictions which \nwere provided either at connection establishment or at the last TA update. \n1. The source gNB configures the UE measurement procedures and the UE reports according to the measurement \nconfiguration. \n2. The source gNB decides to handover the UE, based on MeasurementReport and RRM information. \n3. The source gNB issues a Handover Request message to the target gNB passing a transparent RRC container with \nnecessary information to prepare the handover at the target side. The information includes at least the target cell \nID, KgNB*, the C-RNTI of the UE in the source gNB, RRM-configuration including UE inactive time, basic \nAS-configuration including antenna Info and DL Carrier Frequency, the current QoS flow to DRB mapping \nrules applied to the UE, the minimum system information from source gNB, the UE capabilities for different \nRATs, PDU session related information, and can include the UE reported measurement information including \nbeam-related information if available. The PDU session related information includes the slice information (if \nsupported) and QoS flow level QoS profile(s).", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-83", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 83, "text": "reported measurement information including beam-related information if available. The PDU session related information includes the slice information (if supported) and QoS flow level QoS profile(s). ETSI ETSI TS 138 300 V15.3.1 (2018-10) 47 3GPP TS 38.300 version 15.3.1 Release 15 4. Admission Control may be performed by the target gNB. Slice-aware admission control shall be performed if the slice information is sent to the target gNB. If the PDU sessions are associated with non-supported slices the target gNB shall reject such PDU Sessions. 5. The target gNB prepares the handover with L1/L2 and sends the HANDOVER REQUEST ACKNOWLEDGE to the source gNB, which includes a transparent container to be sent to the UE as an RRC message to perform the handover. 6. The source gNB triggers the Uu handover by sending an RRCReconfiguration message to the UE, containing the information required to access the target cell: at least the target cell ID, the new C-RNTI, the target gNB security algorithm identifiers for the selected security algorithms. It can also include a set of dedicated RACH resources, the association between RACH resources and SSB(s), the association between RACH resources and UE-specific CSI-RS configuration(s), common RACH resources, and target cell SIBs, etc. 7. The source gNB sends the SN STATUS TRANSFER message to the target gNB. 8. The UE synchronises to the target cell and completes the RRC handover procedure by sending RRCReconfigurationComplete message to target gNB. 9. The target gNB sends a PATH SWITCH REQUEST message to AMF to trigger 5GC to switch the DL data path towards the target gNB and to establish an NG-C interface instance towards the target gNB. 10. 5GC switches the DL data path towards the target gNB. The UPF sends one or more \"end marker\" packets on the old path to the source gNB per PDU session/tunnel and then can release any U-plane/TNL resources towards the source gNB. 11. The AMF confirms the PATH SWITCH REQUEST message with the PATH SWITCH REQUEST ACKNOWLEDGE message. 12. Upon reception of the PATH SWITCH REQUEST ACKNOWLEDGE message from the AMF, the target gNB sends the UE CONTEXT RELEASE to inform the source gNB about the success of the handover. The source gNB can then release radio and C-plane related resources associated to the UE context. Any ongoing data forwarding may continue. The RRM configuration can include both beam measurement", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-84", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 84, "text": "release radio and C-plane related resources associated to the UE context. Any ongoing data forwarding may continue. The RRM configuration can include both beam measurement release radio and C-plane related resources associated to the UE context. Any ongoing data forwarding may continue. The RRM configuration can include both beam measurement information (for layer 3 mobility) associated to SSB(s) and CSI-RS(s) for the reported cell(s) if both types of measurements are available. Also, if CA is configured, the RRM configuration can include the list of best cells on each frequency for which measurement information is available. And the RRM measurement information can also include the beam measurement for the listed cells that belong to the target gNB. The common RACH configuration for beams in the target cell is only associated to the SSB(s). The network can have dedicated RACH configurations associated to the SSB(s) and/or have dedicated RACH configurations associated to CSI-RS(s) within a cell. The target gNB can only include one of the following RACH configurations in the Handover Command to enable the UE to access the target cell: i) Common RACH configuration; ii) Common RACH configuration + Dedicated RACH configuration associated with SSB; iii) Common RACH configuration + Dedicated RACH configuration associated with CSI-RS. The dedicated RACH configuration allocates RACH resource(s) together with a quality threshold to use them. When dedicated RACH resources are provided, they are prioritized by the UE and the UE shall not switch to contention-based RACH resources as long as the quality threshold of those dedicated resources is met. The order to access the dedicated RACH resources is up to UE implementation. 9.2.3.2.2 U-Plane Handling The U-plane handling during the Intra-NR-Access mobility activity for UEs in RRC_CONNECTED takes the following principles into account to avoid data loss during HO: - During HO preparation U-plane tunnels can be established between the source gNB and the target gNB; - During HO execution, user data can be forwarded from the source gNB to the target gNB.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-85", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 85, "text": "between the source gNB and the target gNB; - During HO execution, user data can be forwarded from the source gNB to the target gNB. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 48 3GPP TS 38.300 version 15.3.1 Release 15 - Forwarding should take place in order as long as packets are received at the source gNB from the UPF or the source gNB buffer has not been emptied. - During HO completion: - The target gNB sends a path switch request message to the AMF to inform that the UE has gained access and the AMF then triggers path switch related 5GC internal signalling and actual path switch of the source gNB to the target gNB in UPF; - The source gNB should continue forwarding data as long as packets are received at the source gNB from the UPF or the source gNB buffer has not been emptied. For RLC-AM bearers: - For in-sequence delivery and duplication avoidance, PDCP SN is maintained on a per DRB basis and the source gNB informs the target gNB about the next DL PDCP SN to allocate to a packet which does not have a PDCP sequence number yet (either from source gNB or from the UPF). - For security synchronisation, HFN is also maintained and the source gNB provides to the target one reference HFN for the UL and one for the DL i.e. HFN and corresponding SN. - In both the UE and the target gNB, a window-based mechanism is used for duplication detection and reordering. - The occurrence of duplicates over the air interface in the target gNB is minimised by means of PDCP SN based reporting at the target gNB by the UE. In uplink, the reporting is optionally configured on a per DRB basis by the gNB and the UE should first start by transmitting those reports when granted resources are in the target gNB. In downlink, the gNB is free to decide when and for which bearers a report is sent and the UE does not wait for the report to resume uplink transmission. - The target gNB re-transmits and prioritizes all downlink data forwarded by the source gNB (i.e. the target gNB should first send all forwarded PDCP SDUs with PDCP SNs, then all forwarded downlink SDAP SDUs before sending new data from 5GC), excluding PDCP SDUs for which the reception was acknowledged through PDCP SN based reporting by the UE. NOTE: Lossless delivery when a QoS flow is mapped to a different DRB at handover, requires the old DRB to be configured in the target cell. For in-order", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-86", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 86, "text": "when a QoS flow is mapped to a different DRB at handover, requires the old DRB to be configured in the target cell. For in-order when a QoS flow is mapped to a different DRB at handover, requires the old DRB to be configured in the target cell. For in-order delivery in the DL, the target gNB should first transmit the forwarded PDCP SDUs on the old DRB before transmitting new data from 5GCN on the new DRB. In the UL, the target gNB should not deliver data of the QoS flow from the new DRB to 5GCN before receiving the end marker on the old DRB from the UE. - The UE re-transmits in the target gNB all uplink PDCP SDUs starting from the oldest PDCP SDU that has not been acknowledged at RLC in the source, excluding PDCP SDUs for which the reception was acknowledged through PDCP SN based reporting by the target. For RLC-UM bearers: - The PDCP SN and HFN are reset in the target gNB; - No PDCP SDUs are retransmitted in the target gNB; - The target gNB prioritises all downlink SDAP SDUs forwarded by the source gNB over the data from the core network; NOTE: To minimise losses when a QoS flow is mapped to a different DRB at handover, the old DRB needs to be configured in the target cell. For in-order delivery in the DL, the target gNB should first transmit the forwarded PDCP SDUs on the old DRB before transmitting new data from 5GCN on the new DRB. In the UL, the target gNB should not deliver data of the QoS flow from the new DRB to 5GCN before receiving the end marker on the old DRB from the UE. - The UE does not retransmit any PDCP SDU in the target cell for which transmission had been completed in the source cell. 9.2.3.2.3 Data Forwarding The following description depicts the data forwarding principles for intra-system handover.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-87", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 87, "text": "cell for which transmission had been completed in the source cell. 9.2.3.2.3 Data Forwarding The following description depicts the data forwarding principles for intra-system handover. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 49 3GPP TS 38.300 version 15.3.1 Release 15 The source NG-RAN node may suggest downlink data forwarding per QoS flow established for a PDU session and may provide information how it maps QoS flows to DRBs. The target NG-RAN node decides data forwarding per QoS flow established for a PDU Session. If \"lossless handover\" is required and the target NG-RAN node applies the same QoS flows to DRB mapping for a DRB and if all QoS flows mapped to that DRB are accepted for data forwarding, the target NG-RAN node establishes a downlink forwarding tunnel for that DRB. For a DRB for which preservation of SN status applies, the target NG-RAN node may decide to establish an UL data forwarding tunnel. The target NG-RAN node may also decide to establish a downlink forwarding tunnel for each PDU session. In this case the target NG-RAN node provides information for which QoS flows data forwarding has been accepted and corresponding UP TNL information for data forwarding tunnels to be established between the source NG-RAN node and the target NG-RAN node. As long as data forwarding of DL user data packets takes place, the source NG-RAN node shall forward user data in the same forwarding tunnel, i.e. - for any QoS flow accepted for data forwarding by the target NG-RAN node and for which a DRB DL forwarding tunnel was established for a DRB to which this QoS flow was mapped at the source NG-RAN node, any fresh packets of this QoS flow shall be forwarded as PDCP SDUs via the mapped DRB DL forwarding tunnel. - for DRBs for which preservation of SN status applies, the source NG-RAN node may forward in order to the target NG-RAN node via the DRB DL forwarding tunnel all downlink PDCP SDUs with their SN corresponding to PDCP PDUs which have not been acknowledged by the UE. - for DRBs for which preservation of SN status applies the source NG-RAN node either: - discards the uplink PDCP PDUs received out of sequence if the source NG-RAN node has not accepted the request from the target NG-RAN node for uplink forwarding or if the target NG-RAN node has not requested uplink forwarding for the bearer during the Handover Preparation procedure; or - forwards to the target NG-RAN node the uplink PDCP PDUs received out of sequence if the source NG- RAN node has", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-88", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 88, "text": "Preparation procedure; or - forwards to the target NG-RAN node the uplink PDCP PDUs received out of sequence if the source NG- RAN node has Preparation procedure; or - forwards to the target NG-RAN node the uplink PDCP PDUs received out of sequence if the source NG- RAN node has accepted the request from the target NG-RAN node for uplink forwarding for the bearer during the Handover Preparation procedure. Handling of end marker packets: - The source NG-RAN node receives one or several GTP-U end marker packets per PDU session from the UPF and replicates the end marker packets into each data forwarding tunnel when no more user data packets are to be forwarded over that tunnel. - End marker packets sent via a data forwarding tunnel are applicable to all QoS flows forwarded via that tunnel. After end marker packets have been received over a forwarding tunnel, the target NG-RAN node can start taking into account the packets of QoS flows associated with that forwarding tunnel received at the target NG-RAN node from the NG-U PDU session tunnel. 9.2.3.3 Re-establishment procedure A UE in RRC_CONNECTED may initiate the re-establishment procedure to continue the RRC connection when a failure condition occurs (e.g. radio link failure, reconfiguration failure, integrity check failure…). The following figure describes the re-establishment procedure started by the UE:", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-89", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 89, "text": "when a failure condition occurs (e.g. radio link failure, reconfiguration failure, integrity check failure…). The following figure describes the re-establishment procedure started by the UE: ETSI ETSI TS 138 300 V15.3.1 (2018-10) 50 3GPP TS 38.300 version 15.3.1 Release 15 UE gNB Last Serving gNB AMF UE in RRC_CONNECTED CM-CONNECTED 1. RRCReestablishmentRequest 2. RETRIEVE UE CONTEXT REQUEST 3. RETRIEVE UE CONTEXT RESPONSE 4. RRCReestablishment 5. RRCReconfiguration 4a. RRCReestablishmentComplete 5a. RRCReconfigurationComplete 6. DATA FORWARDING ADDRESS INDICATION 7. PATH SWITCH REQUEST 8. PATH SWITCH REQUEST RESPONSE 9. UE CONTEXT RELEASE Figure 9.2.3.3-1: Re-establishment procedure 1. The UE re-establishes the connection, providing the UE Identity (PCI+C-RNTI) to the gNB where the trigger for the re-establishment occurred. 2. If the UE Context is not locally available, the gNB, requests the last serving gNB to provide UE Context data. 3. The last serving gNB provides UE context data. 4/4a. The gNB continues the re-establishment of the RRC connection. The message is sent on SRB1. 5/5a. The gNB may perform the reconfiguration to re-establish SRB2 and DRBs when the re-establishment procedure is ongoing. 6. If loss of DL user data buffered in the last serving gNB shall be prevented, the gNB provides forwarding addresses. 7/8. The gNB performs path switch. 9. The gNB triggers the release of the UE resources at the last serving gNB. 9.2.4 Measurements In RRC_CONNECTED, the UE measures multiple beams (at least one) of a cell and the measurements results (power values) are averaged to derive the cell quality. In doing so, the UE is configured to consider a subset of the detected beams. Filtering takes place at two different levels: at the physical layer to derive beam quality and then at RRC level to derive cell quality from multiple beams. Cell quality from beam measurements is derived in the same way for the serving cell(s) and for the non-serving cell(s). Measurement reports may contain the measurement results of the X best beams if the UE is configured to do so by the gNB. The corresponding high-level measurement model is described below:", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-90", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 90, "text": "results of the X best beams if the UE is configured to do so by the gNB. The corresponding high-level measurement model is described below: ETSI ETSI TS 138 300 V15.3.1 (2018-10) 51 3GPP TS 38.300 version 15.3.1 Release 15 Figure 9.2.4-1: Measurement Model NOTE: K beams correspond to the measurements on SSB or CSI-RS resources configured for L3 mobility by gNB and detected by UE at L1. - A: measurements (beam specific samples) internal to the physical layer. - Layer 1 filtering: internal layer 1 filtering of the inputs measured at point A. Exact filtering is implementation dependent. How the measurements are actually executed in the physical layer by an implementation (inputs A and Layer 1 filtering) in not constrained by the standard. - A1: measurements (i.e. beam specific measurements) reported by layer 1 to layer 3 after layer 1 filtering. - Beam Consolidation/Selection: beam specific measurements are consolidated to derive cell quality. The behaviour of the Beam consolidation/selection is standardised and the configuration of this module is provided by RRC signalling. Reporting period at B equals one measurement period at A1. - B: a measurement (i.e. cell quality) derived from beam-specific measurements reported to layer 3 after beam consolidation/selection. - Layer 3 filtering for cell quality: filtering performed on the measurements provided at point B. The behaviour of the Layer 3 filters is standardised and the configuration of the layer 3 filters is provided by RRC signalling. Filtering reporting period at C equals one measurement period at B. - C: a measurement after processing in the layer 3 filter. The reporting rate is identical to the reporting rate at point B. This measurement is used as input for one or more evaluation of reporting criteria. - Evaluation of reporting criteria: checks whether actual measurement reporting is necessary at point D. The evaluation can be based on more than one flow of measurements at reference point C e.g. to compare between different measurements. This is illustrated by input C and C1. The UE shall evaluate the reporting criteria at least every time a new measurement result is reported at point C, C1. The reporting criteria are standardised and the configuration is provided by RRC signalling (UE measurements). -", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-91", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 91, "text": "new measurement result is reported at point C, C1. The reporting criteria are standardised and the configuration is provided by RRC signalling (UE measurements). - new measurement result is reported at point C, C1. The reporting criteria are standardised and the configuration is provided by RRC signalling (UE measurements). - D: measurement report information (message) sent on the radio interface. - L3 Beam filtering: filtering performed on the measurements (i.e. beam specific measurements) provided at point A1. The behaviour of the beam filters is standardised and the configuration of the beam filters is provided by RRC signalling. Filtering reporting period at E equals one measurement period at A1. - E: a measurement (i.e. beam-specific measurement) after processing in the beam filter. The reporting rate is identical to the reporting rate at point A1. This measurement is used as input for selecting the X measurements to be reported.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-92", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 92, "text": "reporting rate is identical to the reporting rate at point A1. This measurement is used as input for selecting the X measurements to be reported. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 52 3GPP TS 38.300 version 15.3.1 Release 15 - Beam Selection for beam reporting: selects the X measurements from the measurements provided at point E. The behaviour of the beam selection is standardised and the configuration of this module is provided by RRC signalling. - F: beam measurement information included in measurement report (sent) on the radio interface. Layer 1 filtering introduces a certain level of measurement averaging. How and when the UE exactly performs the required measurements is implementation specific to the point that the output at B fulfils the performance requirements set in 3GPP TS 38.133 [13]. Layer 3 filtering for cell quality and related parameters used are specified in 3GPP TS 38.331 [12] and do not introduce any delay in the sample availability between B and C. Measurement at point C, C1 is the input used in the event evaluation. L3 Beam filtering and related parameters used are specified in 3GPP TS 38.331 [12] and do not introduce any delay in the sample availability between E and F. Measurement reports are characterized by the following: - Measurement reports include the measurement identity of the associated measurement configuration that triggered the reporting; - Cell and beam measurement quantities to be included in measurement reports are configured by the network; - The number of non-serving cells to be reported can be limited through configuration by the network; - Cells belonging to a blacklist configured by the network are not used in event evaluation and reporting, and conversely when a whitelist is configured by the network, only the cells belonging to the whitelist are used in event evaluation and reporting; - Beam measurements to be included in measurement reports are configured by the network (beam identifier only, measurement result and beam identifier, or no beam reporting). Intra-frequency neighbour (cell) measurements and inter-frequency neighbour (cell) measurements are defined as follows: - SSB based intra-frequency measurement: a measurement is defined as an SSB based intra-frequency measurement provided the center frequency of", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-93", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 93, "text": "measurements are defined as follows: - SSB based intra-frequency measurement: a measurement is defined as an SSB based intra-frequency measurement provided the center frequency of measurements are defined as follows: - SSB based intra-frequency measurement: a measurement is defined as an SSB based intra-frequency measurement provided the center frequency of the SSB of the serving cell and the center frequency of the SSB of the neighbour cell are the same, and the subcarrier spacing of the two SSBs is also the same. - SSB based inter-frequency measurement: a measurement is defined as an SSB based inter-frequency measurement provided the center frequency of the SSB of the serving cell and the center frequency of the SSB of the neighbour cell are different, or the subcarrier spacing of the two SSBs is different. NOTE: for SSB based measurements, one measurement object corresponds to one SSB and the UE considers different SSBs as different cells. - CSI-RS based intra-frequency measurement: a measurement is defined as a CSI-RS based intra-frequency measurement provided the bandwidth of the CSI-RS resource on the neighbour cell configured for measurement is within the bandwidth of the CSI-RS resource on the serving cell configured for measurement, and the subcarrier spacing of the two CSI-RS resources is the same. - CSI-RS based inter-frequency measurement: a measurement is defined as a CSI-RS based inter-frequency measurement provided the bandwidth of the CSI-RS resource on the neighbour cell configured for measurement is not within the bandwidth of the CSI-RS resource on the serving cell configured for measurement, or the subcarrier spacing of the two CSI-RS resources is different. Whether a measurement is non-gap-assisted or gap-assisted depends on the capability of the UE, the active BWP of the UE and the current operating frequency. In non-gap-assisted scenarios, the UE shall be able to carry out such measurements without measurement gaps. In gap-assisted scenarios, the UE cannot be assumed to be able to carry out such measurements without measurement gaps. 9.2.5 Paging Paging allows the network to reach UEs in RRC_IDLE and in RRC_INACTIVE state, and to notify UEs in RRC_IDLE, RRC_INACTIVE and RRC_CONNECTED state of system information change (see subclause 7.3.3) and ETWS/CMAS indications (see subclause 16.4).", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-94", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 94, "text": "RRC_INACTIVE state, and to notify UEs in RRC_IDLE, RRC_INACTIVE and RRC_CONNECTED state of system information change (see subclause 7.3.3) and ETWS/CMAS indications (see subclause 16.4). ETSI ETSI TS 138 300 V15.3.1 (2018-10) 53 3GPP TS 38.300 version 15.3.1 Release 15 While in RRC_IDLE the UE monitors the paging channels for CN-initiated paging; in RRC_INACTIVE the UE also monitors paging channels for RAN-initiated paging. A UE need not monitor paging channels continuously though; Paging DRX is defined where the UE in RRC_IDLE or RRC_INACTIVE is only required to monitor paging channels during one Paging Occasions (PO) per DRX cycle (see 3GPP TS 38.304 [10]). The Paging DRX cycles are configured by the network: 1) For CN-initiated paging, a default cycle is broadcast in system information; 2) For CN-initiated paging, a UE specific cycle can be configured via NAS signalling; 3) For RAN-initiated paging, a UE-specific cycle can be configured via RRC signalling; - The UE uses the shortest of the DRX cycles applicable i.e. a UE in RRC_IDLE uses the shortest of the first two cycles above, while a UE in RRC_INACTIVE uses the shortest of the three. The POs of a UE for CN-initiated and RAN-initiated paging are based on the same UE ID, resulting in overlapping POs for both. The number of different POs in a DRX cycle is configurable via system information and a network may distribute UEs to those POs based on their IDs. When in RRC_CONNECTED, the UE monitors the paging channels in any PO signalled in system information. In case of BA, a UE in RRC_CONNECTED only monitors paging channels on the active BWP. Paging optimization for UEs in CM_IDLE: at UE context release, the NG-RAN node may provide the AMF with a list of recommended cells and NG-RAN nodes as assistance info for subsequent paging. The AMF may also provide Paging Attempt Information consisting of a Paging Attempt Count and the Intended Number of Paging Attempts and may include the Next Paging Area Scope. If Paging Attempt Information is included in the Paging message, each paged NG-RAN node receives the same information during a paging attempt. The Paging Attempt Count shall be increased by one at each new paging attempt. The Next Paging Area Scope, when present, indicates whether the AMF plans to modify the paging area currently selected at next paging attempt. If the UE has changed its state to CM CONNECTED", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-95", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 95, "text": "whether the AMF plans to modify the paging area currently selected at next paging attempt. If the UE has changed its state to CM CONNECTED whether the AMF plans to modify the paging area currently selected at next paging attempt. If the UE has changed its state to CM CONNECTED the Paging Attempt Count is reset. Paging optimization for UEs in RRC_INACTIVE: at RAN Paging, the serving NG-RAN node provides RAN Paging area information. The serving NG-RAN node may also provide RAN Paging attempt information. Each paged NG- RAN node receives the same RAN Paging attempt information during a paging attempt with the following content: Paging Attempt Count, the intended number of paging attempts and the Next Paging Area Scope. The Paging Attempt Count shall be increased by one at each new paging attempt. The Next Paging Area Scope, when present, indicates whether the serving NG_RAN node plans to modify the RAN Paging Area currently selected at next paging attempt. If the UE leaves RRC_INACTIVE state the Paging Attempt Count is reset. 9.2.6 Random Access Procedure The random access procedure is triggered by a number of events, for instance: - Initial access from RRC_IDLE; - RRC Connection Re-establishment procedure; - Handover; - DL or UL data arrival during RRC_CONNECTED when UL synchronisation status is \"non-synchronised\"; - Transition from RRC_INACTIVE; - To establish time alignment at SCell addition; - Request for Other SI (see subclause 7.3); - Beam failure recovery. Furthermore, the random access procedure takes two distinct forms: contention-based random access (CBRA) and contention-free random access (CFRA) as shown on Figure 9.2.6-1 below. For initial access in a cell configured with SUL, the UE selects the SUL carrier if and only if the measured quality of the DL is lower than a broadcast threshold. Once started, all uplink transmissions of the random access procedure remain on the selected carrier.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-96", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 96, "text": "quality of the DL is lower than a broadcast threshold. Once started, all uplink transmissions of the random access procedure remain on the selected carrier. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n54\n3GPP TS 38.300 version 15.3.1 Release 15\n \n \n \n(a) Contention-Based \n \n \n \n \n \n \n \n \n \n \n(b) Contention-Free \nFigure 9.2.6-1: Random Access Procedures \n9.2.7 \nRadio Link Failure \nIn RRC_CONNECTED, the UE declares Radio Link Failure (RLF) when one of the following criteria are met: \n- \nExpiry of a timer started after indication of radio problems from the physical layer (if radio problems are \nrecovered before the timer is expired, the UE stops the timer); \n- \nRandom access procedure failure; \n- \nRLC failure. \nAfter RLF is declared, the UE: \n- \nstays in RRC_CONNECTED; \n- \nselects a suitable cell and then initiates RRC re-establishment; \n- \nenters RRC_IDLE if a suitable cell wasn't found within a certain time after RLF was declared. \n9.2.8 \nBeam failure detection and recovery \nFor beam failure detection, the gNB configures the UE with beam failure detection reference signals and the UE \ndeclares beam failure when the number of beam failure instance indications from the physical layer reaches a \nconfigured threshold within a configured period. \nAfter beam failure is detected, the UE: \n- \ntriggers beam failure recovery by initiating a Random Access procedure on the PCell; \n- \nselects a suitable beam to perform beam failure recovery (if the gNB has provided dedicated Random Access \nresources for certain beams, those will be prioritized by the UE). \nUpon completion of the Random Access procedure, beam failure recovery is considered complete.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-97", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 97, "text": "Access resources for certain beams, those will be prioritized by the UE). Upon completion of the Random Access procedure, beam failure recovery is considered complete. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 55 3GPP TS 38.300 version 15.3.1 Release 15 9.3 Inter RAT 9.3.1 Intra 5GC 9.3.1.1 Cell Reselection Cell reselection is characterised by the following: - Cell reselection between NR RRC_IDLE and E-UTRA RRC_IDLE is supported; - Cell reselection from NR RRC_INACTIVE to E-UTRA RRC_IDLE is supported. 9.3.1.2 Handover Inter RAT mobility is characterised by the following: - The Source RAT configures Target RAT measurement and reporting. - The source RAT decides on the preparation initiation and provides the necessary information to the target RAT in the format required by the target RAT: - For handover preparation from E-UTRA to NR, the source RAT issues a handover preparation request message to the target RAT passing a transparent RRC container with necessary information to prepare the handover at the target side. The information for the target RAT is the same type as specified in section 9.2.3.2.1 including the current QoS flow to DRB mapping applied to the UE and RRM configuration. - The details of RRM configuration are the same type as specified for NR in section 9.2.3.2.1 including beam measurement information for the listed cells if the measurements are available. - Radio resources are prepared in the target RAT before the handover. - The RRC reconfiguration message from the target RAT is delivered to the source RAT via a transparent container, and is passed to the UE by the source RAT in the handover command: - The inter-RAT handover command message carries the same type of information required to access the target cell as specified for NR baseline handover in section 9.2.3.2.1. - The in-sequence and lossless handover is supported for the handover between gNB and ng-eNB. - Both Xn and NG based inter-RAT handover between NG-RAN nodes is supported. Whether the handover is over Xn or CN is transparent to the UE. - In order to keep the SDAP and PDCP configurations for in-sequence and lossless inter-RAT handover, delta- configuration for the radio bearer configuration is used. 9.3.1.3 Measurements Inter RAT measurements in NR are limited to E-UTRA. 9.3.2 From 5GC to EPC 9.3.2.1 Cell", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-98", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 98, "text": "for the radio bearer configuration is used. 9.3.1.3 Measurements Inter RAT measurements in NR are limited to E-UTRA. 9.3.2 From 5GC to EPC 9.3.2.1 Cell for the radio bearer configuration is used. 9.3.1.3 Measurements Inter RAT measurements in NR are limited to E-UTRA. 9.3.2 From 5GC to EPC 9.3.2.1 Cell Reselection Cell reselection is characterised by the following: - Cell reselection between NR RRC_IDLE and E-UTRA RRC_IDLE is supported; - Cell reselection from NR RRC_INACTIVE to E-UTRA RRC_IDLE is supported. 9.3.2.2 Handover Inter RAT mobility is characterised by the following: - The Source RAT configures Target RAT measurement and reporting.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-99", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 99, "text": "to E-UTRA RRC_IDLE is supported. 9.3.2.2 Handover Inter RAT mobility is characterised by the following: - The Source RAT configures Target RAT measurement and reporting. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 56 3GPP TS 38.300 version 15.3.1 Release 15 - The source RAT decides on the preparation initiation and provides the necessary information to the target RAT in the format required by the target RAT. - Radio resources are prepared in the target RAT before the handover. - The RRC reconfiguration message from the target RAT is delivered to the source RAT via a transparent container, and is passed to the UE by the source RAT in the handover command. - In-sequence and lossless handovers are not supported. - A full configuration is required to reset the radio bearers. - Security procedures for handover to E-UTRA/EPC should follow legacy inter-RAT handover procedures. 9.3.2.3 Measurements Inter RAT measurements in NR are limited to E-UTRA. 9.3.2.4 Data Forwarding The inter-System data forwarding follows the following key principles: - Only indirect data forwarding is supported. - PDU session information at the serving NG-RAN node contains mapping information per QoS Flow to a corresponding E-RAB. - At handover preparation, the source NG-RAN node shall decide which mapped E-RABs are proposed to be subject to data forwarding and provide this information in the source-to-target container to the target eNB. - The target eNB assigns forwarding TEID/TNL address(es) for the E-RAB(s) for which it accepts data forwarding. - A single data forwarding tunnel is established between the source NG-RAN node and UPF per PDU session for which at least data for a single QoS Flow is subject to data forwarding. For the QoS flow(s) accepted for data forwarding, the NG-RAN node initiates data forwarding to the UPF by the corresponding PDU session data forwarding tunnel(s). Then the UPF maps data received from the per PDU session data forwarding tunnel(s) to the mapped EPS bearer(s). 9.3.3 From EPC to 5GC 9.3.3.1 Data Forwarding The inter-System data forwarding from EPS to 5GS follows the following key principles: - Only indirect data forwarding is supported. - The target NG-RAN node receives in the Handover Request message the mapping between E-RAB ID(s) and QoS Flow ID(s). It decides whether to accept the data forwarding for E-RAB IDs proposed for forwarding within the source", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-100", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 100, "text": "mapping between E-RAB ID(s) and QoS Flow ID(s). It decides whether to accept the data forwarding for E-RAB IDs proposed for forwarding within the source mapping between E-RAB ID(s) and QoS Flow ID(s). It decides whether to accept the data forwarding for E-RAB IDs proposed for forwarding within the source to target container. It assigns a TEID/TNL address for each PDU session for which at least one QoS flow is involved in the accepted forwarding. - The target NG-RAN node sends the Handover Request Acknowledge message in which it indicates the list of PDU sessions and QoS flows for which it has accepted the forwarding. - The source eNB receives in the Handover Command message the list of E-RAB IDs for which the target NG- RAN node has accepted the forwarding of corresponding PDU sessions and QoS flows. - For each E-RAB accepted for data forwarding, the source eNB forwards data to the SGW in the corresponding E-RAB tunnel and the SGW forwards the received data to the UPF in the E-RAB tunnel. Then the UPF maps the data received from an E-RAB tunnel to the corresponding mapped PDU session tunnel. The target NG-RAN node prioritizes the forwarded packets over the fresh packets for those QoS flows which are involved in the accepted forwarding.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-101", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 101, "text": "session tunnel. The target NG-RAN node prioritizes the forwarded packets over the fresh packets for those QoS flows which are involved in the accepted forwarding. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 57 3GPP TS 38.300 version 15.3.1 Release 15 9.4 Roaming and Access Restrictions The roaming and access restriction information for a UE includes information on restrictions to be applied for subsequent mobility action during CM-CONNECTED state. It may be provided by the AMF and also may be updated by the AMF later. It includes the forbidden RAT, the forbidden area and the service area restrictions as specified in 3GPP TS 23.501 [3]. It also includes serving PLMN and may include a list of equivalent PLMNs. Upon receiving the roaming and access restriction information for a UE, if applicable, the gNB should use it to determine whether to apply restriction handling for subsequent mobility action, e.g., handover, redirection. If the roaming and access restriction information is not available for a UE at the gNB, the gNB shall consider that there is no restriction for subsequent mobility actions. Only if received over NG or Xn signalling, the roaming and access restriction information shall be propagated over Xn by the source gNB during Xn handover. If the Xn handover results in a change of serving PLMN (to an equivalent PLMN), the source gNB shall replace the serving PLMN with the identity of the target PLMN and move the serving PLMN to the equivalent PLMN list, before propagating the roaming and access restriction information. 10 Scheduling 10.1 Basic Scheduler Operation In order to utilise radio resources efficiently, MAC in gNB includes dynamic resource schedulers that allocate physical layer resources for the downlink and the uplink. In this subclause, an overview of the scheduler is given in terms of scheduler operation, signalling of scheduler decisions, and measurements. Scheduler Operation: - Taking into account the UE buffer status and the QoS requirements of each UE and associated radio bearers, schedulers assign resources between UEs; - Schedulers may assign resources taking account the radio conditions at the UE identified through measurements made at the gNB and/or reported by the UE; - Schedulers assign radio resources in a unit of slot (e.g. one mini-slot, one slot, or multiple slots); - Resource assignment consists of radio", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-102", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 102, "text": "UE; - Schedulers assign radio resources in a unit of slot (e.g. one mini-slot, one slot, or multiple slots); - Resource assignment consists of radio UE; - Schedulers assign radio resources in a unit of slot (e.g. one mini-slot, one slot, or multiple slots); - Resource assignment consists of radio resources (resource blocks). Signalling of Scheduler Decisions: - UEs identify the resources by receiving a scheduling (resource assignment) channel. Measurements to Support Scheduler Operation: - Uplink buffer status reports (measuring the data that is buffered in the logical channel queues in the UE) are used to provide support for QoS-aware packet scheduling. - Power headroom reports (measuring the difference between the nominal UE maximum transmit power and the estimated power for uplink transmission) are used to provide support for power aware packet scheduling. 10.2 Downlink Scheduling In the downlink, the gNB can dynamically allocate resources to UEs via the C-RNTI on PDCCH(s). A UE always monitors the PDCCH(s) in order to find possible assignments when its downlink reception is enabled (activity governed by DRX when configured). When CA is configured, the same C-RNTI applies to all serving cells. The gNB may pre-empt an ongoing PDSCH transmission to one UE with a latency-critical transmission to another UE. The gNB can configure UEs to monitor interrupted transmission indications using INT-RNTI on a PDCCH. If a UE receives the interrupted transmission indication, the UE may assume that no useful information to that UE was carried by the resource elements included in the indication, even if some of those resource elements were already scheduled to this UE.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-103", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 103, "text": "that UE was carried by the resource elements included in the indication, even if some of those resource elements were already scheduled to this UE. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 58 3GPP TS 38.300 version 15.3.1 Release 15 In addition, with Semi-Persistent Scheduling (SPS), the gNB can allocate downlink resources for the initial HARQ transmissions to UEs: RRC defines the periodicity of the configured downlink assignments while PDCCH addressed to CS-RNTI can either signal and activate the configured downlink assignment, or deactivate it; i.e. a PDCCH addressed to CS-RNTI indicates that the downlink assignment can be implicitly reused according to the periodicity defined by RRC, until deactivated. NOTE: when required, retransmissions are explicitly scheduled on PDCCH(s). When a configured downlink assignment is active, if the UE cannot find its C-RNTI on the PDCCH(s), a downlink transmission according to the configured downlink assignment is assumed. Otherwise, if the UE finds its C-RNTI on the PDCCH(s), the PDCCH allocation overrides the configured downlink assignment. When CA is configured, at most one configured downlink assignment can be signalled per serving cell. When BA is configured, at most one configured downlink assignment can be signalled per BWP. On each serving cell, there can be only one configured downlink assignment active at a time, and multiple configured downlink assignment can be simultaneously active on different serving cells only. Activation and deactivation of configured downlink assignments are independent among the serving cells. 10.3 Uplink Scheduling In the uplink, the gNB can dynamically allocate resources to UEs via the C-RNTI on PDCCH(s). A UE always monitors the PDCCH(s) in order to find possible grants for uplink transmission when its downlink reception is enabled (activity governed by DRX when configured). When CA is configured, the same C-RNTI applies to all serving cells. In addition, with Configured Grants, the gNB can allocate uplink resources for the initial HARQ transmissions to UEs. Two types of configured uplink grants are defined: - With Type 1, RRC directly provides the configured uplink grant (including the periodicity). - With Type 2, RRC defines the periodicity of the configured uplink grant while PDCCH addressed to CS-RNTI can either signal and activate the configured uplink grant, or deactivate it; i.e. a PDCCH addressed to", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-104", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 104, "text": "configured uplink grant while PDCCH addressed to CS-RNTI can either signal and activate the configured uplink grant, or deactivate it; i.e. a PDCCH addressed to configured uplink grant while PDCCH addressed to CS-RNTI can either signal and activate the configured uplink grant, or deactivate it; i.e. a PDCCH addressed to CS-RNTI indicates that the uplink grant can be implicitly reused according to the periodicity defined by RRC, until deactivated. When a configured uplink grant is active, if the UE cannot find its C-RNTI/CS-RNTI on the PDCCH(s), an uplink transmission according to the configured uplink grant can be made. Otherwise, if the UE finds its C-RNTI/CS-RNTI on the PDCCH(s), the PDCCH allocation overrides the configured uplink grant. Retransmissions other than repetitions are explicitly allocated via PDCCH(s). When CA is configured, at most one configured uplink grant can be signalled per serving cell. When BA is configured, at most one configured uplink grant can be signalled per BWP. On each serving cell, there can be only one configured uplink grant active at a time. A configured uplink grant for one serving cell can either be of Type 1 or Type 2. For Type 2, activation and deactivation of configured uplink grants are independent among the serving cells. When SUL is configured, a configured uplink grant can only be signalled for one of the 2 ULs of the cell. 10.4 Measurements to Support Scheduler Operation Measurement reports are required to enable the scheduler to operate in both uplink and downlink. These include transport volume and measurements of a UEs radio environment. Uplink buffer status reports (BSR) are needed to provide support for QoS-aware packet scheduling. In NR, uplink buffer status reports refer to the data that is buffered in for a group of logical channel (LCG) in the UE. Eight LCGs and two formats are used for reporting in uplink: - A short format to report only one BSR (of one LCG); - A flexible long format to report several BSRs (up to all eight LCGs). Uplink buffer status reports are transmitted using MAC signalling. Power headroom reports (PHR) are needed to provide support for power-aware packet scheduling. In NR, three types of reporting are supported: one for PUSCH transmission, one for PUSCH and PUCCH transmission and a third one for", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-105", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 105, "text": "packet scheduling. In NR, three types of reporting are supported: one for PUSCH transmission, one for PUSCH and PUCCH transmission and a third one for ETSI ETSI TS 138 300 V15.3.1 (2018-10) 59 3GPP TS 38.300 version 15.3.1 Release 15 SRS transmission. In case of CA, when no transmission takes place on an activated SCell, a reference power is used to provide a virtual report. Power headroom reports are transmitted using MAC signalling. 10.5 Rate Control 10.5.1 Downlink In downlink, for GBR flows, the gNB guarantees the GFBR and ensures that the MFBR is not exceeded while for non- GBR flows, it ensures that the UE-AMBR is not exceeded (see subclause 12). When configured for a QoS flow, the gNB also ensures that the MDBV is not exceeded. 10.5.2 Uplink The UE has an uplink rate control function which manages the sharing of uplink resources between logical channels. RRC controls the uplink rate control function by giving each logical channel a priority, a prioritised bit rate (PBR), and a buffer size duration (BSD). The values signalled need not be related to the ones signalled via NG to the gNB. In addition, mapping restrictions can be configured (see subclause 6.2.1). The uplink rate control function ensures that the UE serves the logical channel(s) in the following sequence: 1. All relevant logical channels in decreasing priority order up to their PBR; 2. All relevant logical channels in decreasing priority order for the remaining resources assigned by the grant. NOTE 1: In case the PBRs are all set to zero, the first step is skipped and the logical channels are served in strict priority order: the UE maximises the transmission of higher priority data. NOTE 2: The mapping restrictions tell the UE which logical channels are relevant for the grant received. If no mapping restrictions are configured, all logical channels are considered. NOTE 3: Through radio protocol configuration and scheduling, the gNB can guarantee the GFBR(s) and ensure that neither the MFBR(s) nor the UE-AMBR are exceeded in uplink (see subclause 12). NOTE 4: The mapping restrictions allows the gNB to fulfill the MDBV requirements through scheduling at least for the case where logical channels are mapped to separate serving cells. If more than one logical channels have the same priority, the UE shall serve them equally. 10.6 Activation/Deactivation Mechanism", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-106", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 106, "text": "are mapped to separate serving cells. If more than one logical channels have the same priority, the UE shall serve them equally. 10.6 Activation/Deactivation Mechanism are mapped to separate serving cells. If more than one logical channels have the same priority, the UE shall serve them equally. 10.6 Activation/Deactivation Mechanism To enable reasonable UE battery consumption when CA is configured, an activation/deactivation mechanism of Cells is supported. When a Cell is deactivated, the UE does not need to receive the corresponding PDCCH or PDSCH, cannot transmit in the corresponding uplink, nor is it required to perform CQI measurements. Conversely, when a Cell is active, the UE shall receive PDSCH and PDCCH (if the UE is configured to monitor PDCCH from this SCell) and is expected to be able to perform CQI measurements. NG-RAN ensures that while PUCCH SCell (a Secondary Cell configured with PUCCH) is deactivated, SCells of secondary PUCCH group (a group of SCells whose PUCCH signalling is associated with the PUCCH on the PUCCH SCell) should not be activated. NG-RAN ensures that SCells mapped to PUCCH SCell are deactivated before the PUCCH SCell is changed or removed. At reconfiguration without mobility control information: - SCells added to the set of serving cells are initially deactivated; - SCells which remain in the set of serving cells (either unchanged or reconfigured) do not change their activation status (activated or deactivated). At reconfiguration with mobility control information (i.e. handover): - SCells are deactivated. To enable reasonable UE battery consumption when BA is configured, only one UL BWP for each uplink carrier and one DL BWP or only one DL/UL BWP pair can be active at a time in an active serving cell, all other BWPs that the UE is configured with being deactivated. On deactivated BWPs, the UE does not monitor the PDCCH, does not transmit on PUCCH, PRACH and UL-SCH.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-107", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 107, "text": "the UE is configured with being deactivated. On deactivated BWPs, the UE does not monitor the PDCCH, does not transmit on PUCCH, PRACH and UL-SCH. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 60 3GPP TS 38.300 version 15.3.1 Release 15 10.7 E-UTRA-NR Physical Layer Resource Coordination An NR cell may use spectrum that overlaps or is adjacent to spectrum in use for E-UTRA cells. In this case network signalling enables coordination of TDM and FDM physical layer resources between MAC in the gNB and the corresponding entity in the ng-eNB. 11 UE Power Saving The PDCCH monitoring activity of the UE in RRC connected mode is governed by DRX and BA. When DRX is configured, the UE does not have to continuously monitor PDCCH. DRX is characterized by the following: - on-duration: duration that the UE waits for, after waking up, to receive PDCCHs. If the UE successfully decodes a PDCCH, the UE stays awake and starts the inactivity timer; - inactivity-timer: duration that the UE waits to successfully decode a PDCCH, from the last successful decoding of a PDCCH, failing which it can go back to sleep. The UE shall restart the inactivity timer following a single successful decoding of a PDCCH for a first transmission only (i.e. not for retransmissions); - retransmission-timer: duration until a retransmission can be expected; - cycle: specifies the periodic repetition of the on-duration followed by a possible period of inactivity (see figure 11-1 below); - active-time: total duration that the UE monitors PDCCH. This includes the \"on-duration\" of the DRX cycle, the time UE is performing continuous reception while the inactivity timer has not expired, and the time when the UE is performing continuous reception while waiting for a retransmission opportunity. Figure 11-1: DRX Cycle When BA is configured, the UE only has to monitor PDCCH on the one active BWP i.e. it does not have to monitor PDCCH on the entire DL frequency of the cell. A BWP inactivity timer (independent from the DRX inactivity-timer described above) is used to switch the active BWP to the default one: the timer is restarted upon successful PDCCH decoding and the switch to the default BWP takes place when it expires. 12 QoS 12.1 Overview The 5G QoS model is based on QoS Flows (see 3GPP TS 23.501 [3]) and supports both QoS Flows that require guaranteed flow bit rate (GBR QoS Flows) and QoS Flows that", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-108", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 108, "text": "QoS Flows (see 3GPP TS 23.501 [3]) and supports both QoS Flows that require guaranteed flow bit rate (GBR QoS Flows) and QoS Flows that QoS Flows (see 3GPP TS 23.501 [3]) and supports both QoS Flows that require guaranteed flow bit rate (GBR QoS Flows) and QoS Flows that do not require guaranteed flow bit rate (non-GBR QoS Flows). At NAS level (see 3GPP TS 23.501 [3]), the QoS flow is thus the finest granularity of QoS differentiation in a PDU session. A QoS flow is identified within a PDU session by a QoS Flow ID (QFI) carried in an encapsulation header over NG-U. The QoS architecture in NG-RAN, both for NR connected to 5GC and for E-UTRA connected to 5GC, is depicted in the Figure 12-1 and described in the following: - For each UE, 5GC establishes one or more PDU Sessions;", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-109", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 109, "text": "connected to 5GC, is depicted in the Figure 12-1 and described in the following: - For each UE, 5GC establishes one or more PDU Sessions; ETSI ETSI TS 138 300 V15.3.1 (2018-10) 61 3GPP TS 38.300 version 15.3.1 Release 15 - For each UE, the NG-RAN establishes at least one Data Radio Bearers (DRB) together with the PDU Session and additional DRB(s) for QoS flow(s) of that PDU session can be subsequently configured (it is up to NG-RAN when to do so); - The NG-RAN maps packets belonging to different PDU sessions to different DRBs; - NAS level packet filters in the UE and in the 5GC associate UL and DL packets with QoS Flows; - AS-level mapping rules in the UE and in the NG-RAN associate UL and DL QoS Flows with DRBs. Figure 12-1: QoS architecture NG-RAN and 5GC ensure quality of service (e.g. reliability and target delay) by mapping packets to appropriate QoS Flows and DRBs. Hence there is a 2-step mapping of IP-flows to QoS flows (NAS) and from QoS flows to DRBs (Access Stratum). At NAS level, a QoS flow is characterised by a QoS profile provided by 5GC to NG-RAN and QoS rule(s) provided by 5GC to the UE. The QoS profile is used by NG-RAN to determine the treatment on the radio interface while the QoS rules dictates the mapping between uplink User Plane traffic and QoS flows to the UE. A QoS flow may either be GBR or Non-GBR depending on its profile. The QoS profile of a QoS flow contains QoS parameters, for instance (see 3GPP TS 23.501 [3]): - For each QoS flow: - A 5G QoS Identifier (5QI); - An Allocation and Retention Priority (ARP). - In case of a GBR QoS flow only: - Guaranteed Flow Bit Rate (GFBR) for both uplink and downlink; - Maximum Flow Bit Rate (MFBR) for both uplink and downlink; - Maximum Packet Loss Rate for both uplink and downlink. - In case of Non-GBR QoS only: - Reflective QoS Attribute (RQA): the RQA, when included, indicates that some (not necessarily all) traffic carried on this QoS flow is subject to reflective quality of service (RQoS) at NAS. In addition, an Aggregate Maximum Bit Rate is associated to each PDU session (Session-AMBR) and to each UE (UE- AMBR). The Session-AMBR limits the aggregate bit rate that can be expected to be provided across all Non-GBR QoS Flows for a specific PDU Session. The UE-AMBR limits the aggregate bit rate that can be expected to be", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-110", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 110, "text": "be provided across all Non-GBR QoS Flows for a specific PDU Session. The UE-AMBR limits the aggregate bit rate that can be expected to be be provided across all Non-GBR QoS Flows for a specific PDU Session. The UE-AMBR limits the aggregate bit rate that can be expected to be provided across all Non-GBR QoS Flows of a UE.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-111", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 111, "text": "specific PDU Session. The UE-AMBR limits the aggregate bit rate that can be expected to be provided across all Non-GBR QoS Flows of a UE. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 62 3GPP TS 38.300 version 15.3.1 Release 15 The 5QI is associated to QoS characteristics giving guidelines for setting node specific parameters for each QoS Flow. Standardized or pre-configured 5G QoS characteristics are derived from the 5QI value and are not explicitly signalled. Signalled QoS characteristics are included as part of the QoS profile. The QoS characteristics consist for instance of (see 3GPP TS 23.501 [3]): - Resource Type (GBR, delay critical GBR or Non-GBR); - Priority level; - Packet Delay Budget; - Packet Error Rate; - Averaging window; - Maximum Data Burst Volume. At Access Stratum level, the data radio bearer (DRB) defines the packet treatment on the radio interface (Uu). A DRB serves packets with the same packet forwarding treatment. The QoS flow to DRB mapping by NG-RAN is based on QFI and the associated QoS profiles (i.e. QoS parameters and QoS characteristics). Separate DRBs may be established for QoS flows requiring different packet forwarding treatment, or several QoS Flows belonging to the same PDU session can be multiplexed in the same DRB. In the uplink, the mapping of QoS Flows to DRBs is controlled by mapping rules which are signalled in two different ways: - Reflective mapping: for each DRB, the UE monitors the QFI(s) of the downlink packets and applies the same mapping in the uplink; that is, for a DRB, the UE maps the uplink packets belonging to the QoS flows(s) corresponding to the QFI(s) and PDU Session observed in the downlink packets for that DRB. To enable this reflective mapping, the NG-RAN marks downlink packets over Uu with QFI. - Explicit Configuration: QoS flow to DRB mapping rules can be explicitly signalled by RRC. The UE always applies the latest update of the mapping rules regardless of whether it is performed via reflecting mapping or explicit configuration. When a QoS flow to DRB mapping rule is updated, the UE sends an end marker on the old bearer. In the downlink, the QFI is signalled by NG-RAN over Uu for the purpose of RQoS and if neither NG-RAN, nor the NAS (as indicated by the RQA) intend to use reflective mapping for the QoS flow(s) carried in a DRB, no QFI is signalled", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-112", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 112, "text": "nor the NAS (as indicated by the RQA) intend to use reflective mapping for the QoS flow(s) carried in a DRB, no QFI is signalled nor the NAS (as indicated by the RQA) intend to use reflective mapping for the QoS flow(s) carried in a DRB, no QFI is signalled for that DRB over Uu. In the uplink, NG-RAN can configure the UE to signal QFI over Uu. For each PDU session, a default DRB may be configured: if an incoming UL packet matches neither an RRC configured nor a reflective mapping rule, the UE then maps that packet to the default DRB of the PDU session. Within each PDU session, it is up to NG-RAN how to map multiple QoS flows to a DRB. The NG-RAN may map a GBR flow and a non-GBR flow, or more than one GBR flow to the same DRB, but mechanisms to optimise these cases are not within the scope of standardization. As specified in 3GPP TS 23.501 [3], the 5GC may associate a GBR QoS flow with notification control to request from the NG-RAN to notify the 5GC either when the GFBR can no longer be fulfilled or when the GFBR can be fulfilled again. 13 Security 13.1 Overview and Principles The following principles apply to NR connected to 5GC security, see 3GPP TS 33.501 [5]: - For user data (DRBs), ciphering provides user data confidentiality and integrity protection provides user data integrity; - For RRC signalling (SRBs), ciphering provides signalling data confidentiality and integrity protection signalling data integrity;", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-113", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 113, "text": "data confidentiality and integrity protection provides user data integrity; - For RRC signalling (SRBs), ciphering provides signalling data confidentiality and integrity protection signalling data integrity; ETSI ETSI TS 138 300 V15.3.1 (2018-10) 63 3GPP TS 38.300 version 15.3.1 Release 15 NOTE: Ciphering and integrity protections are optionally configured except for RRC signalling for which integrity protection is always configured. Ciphering and integrity protection can be configured per DRB but all DRBs belonging to a PDU session for which the User Plane Security Enforcement information indicates that UP integrity protection is required (see 3GPP TS 23.502 [22]), are configured with integrity protection. - For key management and data handling, any entity processing cleartext shall be protected from physical attacks and located in a secure environment; - The gNB (AS) keys are cryptographically separated from the 5GC (NAS) keys; - Separate AS and NAS level Security Mode Command (SMC) procedures are used; - A sequence number (COUNT) is used as input to the ciphering and integrity protection and a given sequence number must only be used once for a given key (except for identical re-transmission) on the same radio bearer in the same direction. The keys are organised and derived as follows: - Key for AMF: - KAMF is a key derived by ME and SEAF from KSEAF. - Keys for NAS signalling: - KNASint is a key derived by ME and AMF from KAMF, which shall only be used for the protection of NAS signalling with a particular integrity algorithm; - KNASenc is a key derived by ME and AMF from KAMF, which shall only be used for the protection of NAS signalling with a particular encryption algorithm. Key for gNB: - KgNB is a key derived by ME and AMF from KAMF. KgNB is further derived by ME and source gNB when performing horizontal or vertical key derivation. Keys for UP traffic: - KUPenc is a key derived by ME and gNB from KgNB, which shall only be used for the protection of UP traffic between ME and gNB with a particular encryption algorithm; - KUPint is a key derived by ME and gNB from KgNB, which shall only be used for the protection of UP traffic between ME and gNB with a particular integrity algorithm. Keys for RRC signalling: - KRRCint is a key derived by ME and gNB from KgNB, which shall only be used for the protection of RRC signalling with a particular integrity algorithm; -", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-114", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 114, "text": "key derived by ME and gNB from KgNB, which shall only be used for the protection of RRC signalling with a particular integrity algorithm; - key derived by ME and gNB from KgNB, which shall only be used for the protection of RRC signalling with a particular integrity algorithm; - KRRCenc is a key derived by ME and gNB from KgNB, which shall only be used for the protection of RRC signalling with a particular encryption algorithm. Intermediate keys: - NH is a key derived by ME and AMF to provide forward security. - KgNB* is a key derived by ME and gNB when performing a horizontal or vertical key derivation. The primary authentication enables mutual authentication between the UE and the network and provide an anchor key called KSEAF. From KSEAF, KAMF is created during e.g. primary authentication or NAS key re-keying and key refresh events. Based on KAMF, KNASint and KNASenc are then derived when running a successful NAS SMC procedure. Whenever an initial AS security context needs to be established between UE and gNB, AMF and the UE derive a KgNB and a Next Hop parameter (NH). The KgNB and the NH are derived from the KAMF. A NH Chaining Counter (NCC) is associated with each KgNB and NH parameter. Every KgNB is associated with the NCC corresponding to the NH value from which it was derived. At initial setup, the KgNB is derived directly from KAMF, and is then considered to be associated with a virtual NH parameter with NCC value equal to zero. At initial setup, the derived NH value is", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-115", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 115, "text": "is then considered to be associated with a virtual NH parameter with NCC value equal to zero. At initial setup, the derived NH value is ETSI ETSI TS 138 300 V15.3.1 (2018-10) 64 3GPP TS 38.300 version 15.3.1 Release 15 associated with the NCC value one. On handovers, the basis for the KgNB that will be used between the UE and the target gNB, called KgNB*, is derived from either the currently active KgNB or from the NH parameter. If KgNB* is derived from the currently active KgNB, this is referred to as a horizontal key derivation and is indicated to UE with an NCC that does not increase. If the KgNB* is derived from the NH parameter, the derivation is referred to as a vertical key derivation and is indicated to UE with an NCC increase. Finally, KRRCint, KRRCenc, KUPint and KUPenc are derived based on KgNB after a new KgNB is derived. This is depicted on Figure 13.1-1 below: Figure 13.1-1: 5G Key Derivation With such key derivation, a gNB with knowledge of a KgNB, shared with a UE, is unable to compute any previous KgNB that has been used between the same UE and a previous gNB, therefore providing backward security. Similarly, a gNB with knowledge of a KgNB, shared with a UE, is unable to predict any future KgNB that will be used between the same UE and another gNB after n or more handovers (since NH parameters are only computable by the UE and the AMF). The AS SMC procedure is for RRC and UP security algorithms negotiation and RRC security activation. When AS security context is to be established in the gNB, the AMF sends the UE 5G security capabilities to the gNB. The gNB chooses the ciphering algorithm which has the highest priority from its configured list and is also present in the UE 5G security capabilities. The gNB also chooses the integrity algorithm which has the highest priority from its configured list and is also present in the UE 5G security capabilities. The chosen algorithms are indicated to the UE in the AS SMC and this message is integrity protected. RRC downlink ciphering (encryption) at the gNB starts after sending the AS SMC message. RRC uplink deciphering (decryption) at the gNB starts after receiving and successful verification of the integrity protected AS security mode complete message from the UE. The UE verifies the validity of the AS SMC message from the gNB by", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-116", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 116, "text": "the integrity protected AS security mode complete message from the UE. The UE verifies the validity of the AS SMC message from the gNB by the integrity protected AS security mode complete message from the UE. The UE verifies the validity of the AS SMC message from the gNB by verifying the integrity of the received message. RRC uplink ciphering (encryption) at the UE starts after sending the AS security mode complete message. RRC downlink deciphering (decryption) at the UE shall start after receiving and successful verification of the AS SMC message. The RRC Connection Reconfiguration procedure used to add DRBs shall be performed only after RRC security has been activated as part of the AS SMC procedure. The maximum supported data rate for integrity protected DRBs is a UE capability indicated at NAS layer, with a minimum value of 64 kbps and a maximum value of the highest data rate supported by the UE. In case of failed integrity check (i.e. faulty or missing MAC-I), the concerned PDU shall be discarded by the receiving PDCP entity. Key refresh is possible for KgNB, KRRC-enc, KRRC-int, KUP-enc, and KUP-int and can be initiated by the gNB when a PDCP COUNTs are about to be re-used with the same Radio Bearer identity and with the same KgNB. Key re-keying is also possible for the KgNB, KRRC-enc, KRRC-int, KUP-enc, and KUP-int and can be initiated by the AMF when a 5G AS security context different from the currently active one shall be activated. 13.2 Security Termination Points The table below describes the security termination points.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-117", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 117, "text": "5G AS security context different from the currently active one shall be activated. 13.2 Security Termination Points The table below describes the security termination points. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 65 3GPP TS 38.300 version 15.3.1 Release 15 Table 13.2-1 Security Termination Points Ciphering Integrity Protection NAS Signalling AMF AMF RRC Signalling gNB gNB User Plane Data gNB gNB 13.3 State Transitions and Mobility As a general principle, on RRC_IDLE to RRC_CONNECTED transitions, RRC protection keys and UP protection keys are generated while keys for NAS protection as well as higher layer keys are assumed to be already available. These higher layer keys may have been established as a result of an AKA run, or as a result of a transfer from another AMF during handover or idle mode mobility see 3GPP TS 23.502 [22]). On RRC_CONNECTED to RRC_IDLE transitions, the gNBs deletes the keys it stores for that UE such that state information for idle mode UEs only has to be maintained in AMF. It is also assumed that gNB does no longer store state information about the corresponding UE and deletes the current keys from its memory. In particular, on connected to idle transitions: - The gNB and UE delete NH, KRRCint, KRRCenc, KUPint and KUPenc and related NCC; - AMF and UE keeps KAMF, KNASint and KNASenc stored. On handovers with vertical key derivation the NH is further bound to the target PCI and its frequency ARFCN-DL before it is taken into use as the KgNB in the target gNB. On handovers with horizontal key derivation the currently active KgNB is further bound to the target PCI and its frequency ARFCN-DL before it is taken into use as the KgNB in the target gNB (see subclause 13.1). It is not required to change the AS security algorithms during intra-gNB-CU handover. If the UE does not receive an indication of new AS security algorithms during an intra-gNB-CU handover, the UE shall continue to use the same algorithms as before the handover (see 3GPP TS 38.331 [12]). 14 UE Capabilities The UE capabilities in NR do not rely on UE categories: UE categories associated to fixed peak data rates are only defined for marketing purposes and not signalled to the network. Instead, the network determines the UL and DL data rate supported by a UE from the supported band combinations and from the baseband capabilities (modulation scheme, MIMO layers, …). To limit", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-118", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 118, "text": "and DL data rate supported by a UE from the supported band combinations and from the baseband capabilities (modulation scheme, MIMO layers, …). To limit and DL data rate supported by a UE from the supported band combinations and from the baseband capabilities (modulation scheme, MIMO layers, …). To limit signalling overhead, the gNB can request the UE to provide NR capabilities for a restricted set of band combinations. When responding, the UE can skip a subset of the requested band combinations when the corresponding UE capabilities are the same. 15 Self-Configuration and Self-Optimisation Self-Configuration and Self-Optimisation are not complete and are targeted for completion in June 2018. 15.1 Definitions Void. 15.2 UE Support for self-configuration and self-optimisation Void.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-119", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 119, "text": "Self-Configuration and Self-Optimisation are not complete and are targeted for completion in June 2018. 15.1 Definitions Void. 15.2 UE Support for self-configuration and self-optimisation Void. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 66 3GPP TS 38.300 version 15.3.1 Release 15 15.3 Self-configuration 15.3.1 Dynamic configuration of the NG-C interface 15.3.1.1 Prerequisites The following prerequisites are assumed: - An initial remote IP end point to be used for SCTP initialisation is provided to the NG-RAN node for each AMF the NG-RAN node is supposed to connect to. 15.3.1.2 SCTP initialization NG-RAN establishes the first SCTP (IETF RFC 4960 [23]) using a configured IP address. NOTE: The NG-RAN node may use different source and/or destination IP end point(s) if the SCTP establishment towards one IP end point fails. How the NG-RAN node gets the remote IP end point(s) and its own IP address are outside the scope of this specification. 15.3.1.3 Application layer initialization Once SCTP connectivity has been established, the NG-RAN node and the AMF shall exchange application level configuration data over NGAP with the NG Setup procedure, which is needed for these two nodes to interwork correctly on the NG interface. - The NG-RAN node provides the relevant configuration information to the AMF, which includes list of supported TA(s), etc; - The AMF provides the relevant configuration information to the NG-RAN node, which includes PLMN ID, etc.; - When the application layer initialization is successfully concluded, the dynamic configuration procedure is completed and the NG-C interface is operational. After the application layer initialization is successfully completed, the AMF may add or update or remove SCTP endpoints to be used for NG-C signalling between the AMF and the NG-RAN node pair as specified in 3GPP TS 23.501 [3]. 15.3.2 Dynamic Configuration of the Xn interface 15.3.2.1 Prerequisites The following prerequisites are necessary: - An initial remote IP end point to be used for SCTP initialisation is provided to the NG-RAN node. 15.3.2.2 SCTP initialization NG-RAN establishes the first SCTP (IETF RFC 4960 [23]) using a configured IP address. NOTE: The NG-RAN node may use different source and/or destination IP end point(s) if the SCTP establishment towards one IP end point fails. 15.3.2.3 Application layer initialization Once SCTP connectivity has been established, the NG-RAN node and its candidate peer NG-RAN node are in a position", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-120", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 120, "text": "point fails. 15.3.2.3 Application layer initialization Once SCTP connectivity has been established, the NG-RAN node and its candidate peer NG-RAN node are in a position point fails. 15.3.2.3 Application layer initialization Once SCTP connectivity has been established, the NG-RAN node and its candidate peer NG-RAN node are in a position to exchange application level configuration data over XnAP needed for the two nodes to interwork correctly on the Xn interface. - The NG-RAN node provides the relevant configuration information to the candidate NG-RAN node, which includes served cell information. - The candidate NG-RAN node provides the relevant configuration information to the initiating NG-RAN node, which includes served cell information.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-121", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 121, "text": "which includes served cell information. - The candidate NG-RAN node provides the relevant configuration information to the initiating NG-RAN node, which includes served cell information. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 67 3GPP TS 38.300 version 15.3.1 Release 15 - When the application layer initialization is successfully concluded, the dynamic configuration procedure is completed and the Xn interface is operational. - The NG-RAN node shall keep neighbouring NG-RAN nodes updated with the complete list of served cells, or, if requested by the peer NG-RAN node, by a limited list of served cells, while the Xn interface is operational. 15.3.3 Automatic Neighbour Cell Relation Function 15.3.3.1 General The purpose of ANR function is to relieve the operator from the burden of manually managing NCRs. Figure 15.3.3.1-1 shows ANR and its environment: eNB Neighbour Detection Function Internal Iinformation RRC Mrmnt reports Mrmnt requests Add/Update NCR NCR report ANR function gNB OAM NCRadd NCRT Managemnt Function Neighbour Removal Function NCRremove NCRupdate Neighbour Cell Relation Table 1 2 TCI 3 No Remove TCI#1 TCI#1 No HO No Xn O&M controlled Attributes Neighbour Cell Relation NCR TCl#1 X X X Figure 15.3.3.1-1: Interaction between gNB and OAM due to ANR The ANR function resides in the gNB and manages the NCRT. Located within ANR, the Neighbour Detection Function finds new neighbours and adds them to the NCRT. ANR also contains the Neighbour Removal Function which removes outdated NCRs. The Neighbour Detection Function and the Neighbour Removal Function are implementation specific. An existing NCR from a source cell to a target cell means that gNB controlling the source cell: a) Knows the global and physical IDs (e.g. NR CGI/NR PCI, ECGI/PCI) of the target cell. b) Has an entry in the NCRT for the source cell identifying the target cell. c) Has the attributes in this NCRT entry defined, either by OAM or set to default values. NCRs are cell-to-cell relations, while an Xn link is set up between two gNBs. Neighbour Cell Relations are unidirectional, while an Xn link is bidirectional. NOTE: The neighbour information exchange, which occurs during the Xn Setup procedure or in the gNB Configuration Update procedure, may be used for ANR purpose. The ANR function also allows OAM to manage the NCRT. OAM can add and delete NCRs. It can also change the attributes of the NCRT. The OAM system is informed about changes in the", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-122", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 122, "text": "NCRT. OAM can add and delete NCRs. It can also change the attributes of the NCRT. The OAM system is informed about changes in the NCRT. OAM can add and delete NCRs. It can also change the attributes of the NCRT. The OAM system is informed about changes in the NCRT.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-123", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 123, "text": "OAM can add and delete NCRs. It can also change the attributes of the NCRT. The OAM system is informed about changes in the NCRT. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 68 3GPP TS 38.300 version 15.3.1 Release 15 15.3.3.2 Intra-system – intra NR Automatic Neighbour Cell Relation Function ANR relies on NCGI (see subclause 8.2). Cell A Phy-CID=3 Global-CID=17 UE Cell B Phy-CID=5 Global-CID=19 1. Report (Phy-CID=5, strong signal) 2. Report Global-CID Request (Target Phy-CID=5) 2b. BCCH (...) 3. Report Global-CID=19 Figure 15.3.3.2-1: Automatic Neighbour Relation Function Figure 15.3.3.2-1 depicts an example where the gNB serving cell A has an ANR function. In RRC_CONNECTED, the gNB instructs each UE to perform measurements on neighbour cells. The gNB may use different policies for instructing the UE to do measurements, and when to report them to the gNB. This measurement procedure is as specified in TS 38.331[12]. 1. The UE sends a measurement report regarding cell B. This report contains Cell B's PCI, but not its NCGI. When the gNB receives a UE measurement report containing the PCI, the following sequence may be used. 2. The gNB instructs the UE, using the newly discovered PCI as parameter, to read the all the broadcast NCGI(s), TAC(s), RANAC(s), PLMN ID(s) and NR frequency band(s) of the related neighbour cell. To do so, the gNB may need to schedule appropriate idle periods to allow the UE to read the NCGI from the broadcast channel of the detected neighbour cell. How the UE reads the NCGI is specified in TS 38.331. 3. When the UE has found out the new cell's NCGI(s), the UE reports all the broadcast NCGI(s) to the serving cell gNB. In addition, the UE reports all the tracking area code(s), RANAC(s), PLMN IDs and NR frequency band(s) that have been read by the UE. 4. The gNB decides to add this neighbour relation, and can use PCI and NCGI(s) to: a. Lookup a transport layer address to the new gNB. b. Update the Neighbour Cell Relation List. c. If needed, setup a new Xn interface towards this gNB. 15.3.3.3 Intra-system – intra E-UTRA Automatic Neighbour Cell Relation Function Void. 15.3.3.4 Intra-system – inter RAT Automatic Neighbour Cell Relation Function Void. 15.3.3.5 Inter-system Automatic Neighbour Cell Relation Function For Inter-RAT ANR, each cell contains an Inter Frequency Search list. This list", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-124", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 124, "text": "Neighbour Cell Relation Function Void. 15.3.3.5 Inter-system Automatic Neighbour Cell Relation Function For Inter-RAT ANR, each cell contains an Inter Frequency Search list. This list Neighbour Cell Relation Function Void. 15.3.3.5 Inter-system Automatic Neighbour Cell Relation Function For Inter-RAT ANR, each cell contains an Inter Frequency Search list. This list contains all frequencies that shall be searched.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-125", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 125, "text": "Automatic Neighbour Cell Relation Function For Inter-RAT ANR, each cell contains an Inter Frequency Search list. This list contains all frequencies that shall be searched. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 69 3GPP TS 38.300 version 15.3.1 Release 15 Cell A Type=NR Phy-CID=3 Global-CID=17 UE Cell B Type=LTE Phy-CID=PSC=5 Global-CID=19 1. Report Neighbour Request (RAT, Frequency) 2. Report Neighbour Response (Phy-CID, Signal Level 3. Report Global-CID Request (Target Phy-CID=5) 3b. BCCH (...) 4. Report Global-CID=19 Figure 15.3.3.5-1: Automatic Neighbour Relation Function in case of E-UTRAN detected cell Figure 15.3.3.5-1 depicts an example where the gNB serving cell A has an ANR function. In RRC_CONNECTED, the gNB can instruct a UE to perform measurements and detect cells on other RATs. The gNB may use different policies for instructing the UE to do measurements, and when to report them to the gNB. 1 The gNB instructs a UE to look for neighbour cells in the target RATs. To do so the gNB may need to schedule appropriate idle periods to allow the UE to scan all cells in the target RATs. 2 The UE reports the PCI and carrier frequency of the detected cells in the target RATs. When the gNB receives UE reports containing PCIs of cell(s) the following sequence may be used. 3 The gNB instructs the UE, using the newly discovered PCI as parameter, to read the ECGI, the TAC and all available PLMN ID(s) of the newly detected cell in case of E-UTRA detected cells. The UE ignores transmissions from the serving cell while finding the requested information transmitted in the broadcast channel of the detected inter-system/inter-frequency neighbour cell. To do so, the gNB may need to schedule appropriate idle periods to allow the UE to read the requested information from the broadcast channel of the detected inter- RAT neighbour cell. 4 After the UE has read the requested information in the new cell, it reports the detected ECGI, TAC, and available PLMN ID(s) to the serving cell gNB. 5 The gNB updates its inter-RAT NCRT. 15.3.4 Xn-C TNL address discovery If the NG-RAN node is aware of the RAN node ID of the candidate NG-RAN node (e.g. via the ANR function) but not of a TNL address suitable for SCTP connectivity, then the NG-RAN node can utilize the 5GC (an AMF it is connected to) to determine the TNL address as follows: - The NG-RAN node", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-126", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 126, "text": "then the NG-RAN node can utilize the 5GC (an AMF it is connected to) to determine the TNL address as follows: - The NG-RAN node then the NG-RAN node can utilize the 5GC (an AMF it is connected to) to determine the TNL address as follows: - The NG-RAN node sends the UPLINK RAN CONFIGURATION TRANSFER message to the AMF to request the TNL address of the candidate NG-RAN node, and includes relevant information such as the source and target RAN node ID. - The AMF relays the request by sending the DOWNLINK RAN CONFIGURATION TRANSFER message to the candidate NG-RAN node identified by the target RAN node ID. - The candidate NG-RAN node responds by sending the UPLINK RAN CONFIGURATION TRANSFER message containing one or more TNL addresses to be used for SCTP connectivity with the initiating NG-RAN node, and includes other relevant information such as the source and target RAN node ID. - The AMF relays the response by sending the DOWNLINK CONFIGURATION TRANSFER message to the initiating NG-RAN node identified by the target RAN node ID. NOTE: In this version of the specification, it is assumed that the NG-RAN node is able to determine the gNB ID length of the candidate gNB (e.g. based on OAM configuration).", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-127", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 127, "text": "specification, it is assumed that the NG-RAN node is able to determine the gNB ID length of the candidate gNB (e.g. based on OAM configuration). ETSI ETSI TS 138 300 V15.3.1 (2018-10) 70 3GPP TS 38.300 version 15.3.1 Release 15 16 Verticals Support 16.1 URLLC 16.1.1 Overview The support of Ultra-Reliable and Low Latency Communications (URLLC) services is facilitated by the introduction of the mechanisms described in the following subclauses. Please note however that those mechanisms need not be limited to the provision of URLLC services. 16.1.2 LCP Restrictions With LCP restrictions in MAC, RRC can restrict the mapping of a logical channel to a subset of the configured cells, numerologies, PUSCH transmission durations and control whether a logical channel can utilise the resources allocated by a Type 1 Configured Grant (see subclause 10.3). With such restrictions, it then becomes possible to reserve, for instance, the numerology with the largest subcarrier spacing and/or shortest PUSCH transmission duration for URLLC services. 16.1.3 Packet Duplication When duplication is configured for a radio bearer by RRC, a secondary RLC entity and a secondary logical channel are added to the radio bearer to handle the duplicated PDCP PDUs. Duplication at PDCP therefore consists in submitting the same PDCP PDUs twice: once to the primary RLC entity and a second time to the secondary RLC entity. With two independent transmission paths, packet duplication therefore increases reliability and reduces latency and is especially beneficial for URLLC services. NOTE: PDCP control PDUs are not duplicated and always submitted to the primary RLC entity. When duplication is activated, the original PDCP PDU and the corresponding duplicate shall not be transmitted on the same carrier. The two different logical channels can either belong to the same MAC entity (CA) or to different ones (DC). In the former case, logical channel mapping restrictions are used in MAC to ensure that the logical channel carrying the original PDCP PDUs and logical channel carrying the corresponding duplicates are not sent on the same carrier. When an RLC entity acknowledges the transmission of a PDCP PDU, the PDCP entity shall indicate to the other RLC entity to discard it; and when the secondary RLC entity reaches the maximum number of retransmissions for a PDCP PDU, the UE informs the gNB", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-128", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 128, "text": "entity to discard it; and when the secondary RLC entity reaches the maximum number of retransmissions for a PDCP PDU, the UE informs the gNB entity to discard it; and when the secondary RLC entity reaches the maximum number of retransmissions for a PDCP PDU, the UE informs the gNB but does not trigger RLF. When configuring duplication for a DRB, RRC also sets the initial state (either activated or deactivated). After the configuration, the state can then be dynamically controlled by means of a MAC control element and in DC, the UE applies the MAC CE commands regardless of their origin (MCG or SCG). When duplication is deactivated for a DRB, the secondary RLC entity is not re-established, the HARQ buffers are not flushed but the corresponding logical channel mapping restrictions – if any – are lifted, and the transmitting PDCP entity should indicate to the secondary RLC entity to discard all duplicated PDCP PDUs. When duplication is configured for an SRB the state is always active and cannot be dynamically controlled. When activating duplication for a DRB, NG-RAN should ensure that at least one serving cell is activated for each logical channel of the DRB; and when the deactivation of SCells leaves no serving cells activated for a logical channel of the DRB, NG-RAN should ensure that duplication is also deactivated. 16.2 IMS Voice 16.2.1 Support for MMTEL IMS voice and video enhancements 16.2.1.1 RAN-assisted codec adaptation RAN-assisted codec adaptation provides a means for the gNB to send codec adaptation indication with recommended bit rate to assist the UE to select or adapt to a codec rate for MMTEL voice or MMTEL video. The RAN-assisted codec adaptation mechanism supports the uplink/downlink bit rate increase or decrease. For a bearer associated with", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-129", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 129, "text": "rate for MMTEL voice or MMTEL video. The RAN-assisted codec adaptation mechanism supports the uplink/downlink bit rate increase or decrease. For a bearer associated with ETSI ETSI TS 138 300 V15.3.1 (2018-10) 71 3GPP TS 38.300 version 15.3.1 Release 15 configuration of MBR greater than GBR, the recommended uplink/downlink bit rate is within boundaries set by the MBR and GBR of the concerned bearer. For uplink or downlink bit rate adaptation, gNB may send a recommended bit rate to the UE to inform the UE on the currently recommended transport bit rate on the local uplink or downlink, which the UE may use in combination with other information to adapt the bit rate, e.g. the UE may send a bit rate request to the peer UE via application layer messages as specified in 3GPP TS 26.114 [24], which the peer UE may use in combination with other information to adapt the codec bit rate. The recommended bit rate is in kbps at the physical layer at the time when the decision is made. The recommended bit rate for UL and DL is conveyed as a MAC Control Element (CE) from the gNB to the UE as outlined in Figure 16.2.1.1-1. UE gNB UL/DL bit rate recommendation Figure 16.2.1.1-1: UL or DL bit rate recommendation Based on the recommended bit rate from the gNB, a UE may initiate an end-to-end bit rate adaptation with its peer (UE or MGW). The UE may also send a query message to its local gNB to check if a bit rate recommended by its peer can be provided by the gNB. The UE is not expected to go beyond the recommended bit rate from the gNB. The recommended bit rate query message is conveyed as a MAC CE from the UE to the gNB as outlined in Figure 16.2.1.1-2. UE gNB UL/DL bit rate recommendation query Figure 16.2.1.1-2: UL or DL bit rate recommendation query A prohibit timer can be configured per logical channel by the network to limit UEs sending frequent query MAC CEs. Independent prohibit timers are used for each direction (uplink and downlink) to prohibit the UE from retransmitting exactly the same query MAC CE to the gNB during the configured time. 16.2.1.2 MMTEL voice quality/coverage enhancements The air interface delay budget can be relaxed to increase the robustness of the transmission for coverage enhancement. Such relaxation may be achieved when a UE in good coverage indicates a", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-130", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 130, "text": "be relaxed to increase the robustness of the transmission for coverage enhancement. Such relaxation may be achieved when a UE in good coverage indicates a be relaxed to increase the robustness of the transmission for coverage enhancement. Such relaxation may be achieved when a UE in good coverage indicates a preference to the gNB to reduce the local air interface delay by sending a DelayBudgetReport message to decrease the DRX cycle length, so that the E2E delay and jitter can be reduced. When the UE detects changes such as end-to-end MMTEL voice quality or local radio quality, the UE may inform the gNB its new preference by sending DelayBudgetReport messages with updated contents. 16.3 Network Slicing 16.3.1 General Principles and Requirements In this sub clause, the general principles and requirements related to the realization of network slicing in the NG-RAN for NR connected to 5GC and for E-UTRA connected to 5GC are given. A network slice always consists of a RAN part and a CN part. The support of network slicing relies on the principle that traffic for different slices is handled by different PDU sessions. Network can realise the different network slices by scheduling and also by providing different L1/L2 configurations. The UE provides assistance information for network slice selection in RRC message, if it has been provided by NAS. While the network can support large number of slices (hundreds), the UE need not support more than 8 slices simultaneously. Network Slicing is a concept to allow differentiated treatment depending on each customer requirements. With slicing, it is possible for Mobile Network Operators (MNO) to consider customers as belonging to different tenant types with", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-131", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 131, "text": "depending on each customer requirements. With slicing, it is possible for Mobile Network Operators (MNO) to consider customers as belonging to different tenant types with ETSI ETSI TS 138 300 V15.3.1 (2018-10) 72 3GPP TS 38.300 version 15.3.1 Release 15 each having different service requirements that govern in terms of what slice types each tenant is eligible to use based on Service Level Agreement (SLA) and subscriptions. NSSAI (Network Slice Selection Assistance Information) includes one or more S-NSSAIs (Single NSSAI). Each network slice is uniquely identified by a S-NSSAI, as defined in 3GPP TS 23.501 [3]. The following key principles apply for support of Network Slicing in NG-RAN: RAN awareness of slices - NG-RAN supports a differentiated handling of traffic for different network slices which have been pre- configured. How NG-RAN supports the slice enabling in terms of NG-RAN functions (i.e. the set of network functions that comprise each slice) is implementation dependent. Selection of RAN part of the network slice - NG-RAN supports the selection of the RAN part of the network slice, by assistance information provided by the UE or the 5GC which unambiguously identifies one or more of the pre-configured network slices in the PLMN. Resource management between slices - NG-RAN supports policy enforcement between slices as per service level agreements. It should be possible for a single NG-RAN node to support multiple slices. The NG-RAN should be free to apply the best RRM policy for the SLA in place to each supported slice. Support of QoS - NG-RAN supports QoS differentiation within a slice. RAN selection of CN entity - For initial attach, the UE may provide assistance information to support the selection of an AMF. If available, NG-RAN uses this information for routing the initial NAS to an AMF. If the NG-RAN is unable to select an AMF using this information or the UE does not provide any such information the NG-RAN sends the NAS signalling to one of the default AMFs. - For subsequent accesses, the UE provides a Temp ID, which is assigned to the UE by the 5GC, to enable the NG-RAN to route the NAS message to the appropriate AMF as long as the Temp ID is valid (NG-RAN is aware of and can reach the AMF which is associated with the Temp ID). Otherwise, the methods for initial attach applies. Resource isolation between slices - the NG-RAN supports resource", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-132", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 132, "text": "the AMF which is associated with the Temp ID). Otherwise, the methods for initial attach applies. Resource isolation between slices - the NG-RAN supports resource the AMF which is associated with the Temp ID). Otherwise, the methods for initial attach applies. Resource isolation between slices - the NG-RAN supports resource isolation between slices. NG-RAN resource isolation may be achieved by means of RRM policies and protection mechanisms that should avoid that shortage of shared resources in one slice breaks the service level agreement for another slice. It should be possible to fully dedicate NG-RAN resources to a certain slice. How NG-RAN supports resource isolation is implementation dependent. Slice Availability - Some slices may be available only in part of the network. The NG-RAN supported S-NSSAI(s) is configured by OAM. Awareness in the NG-RAN of the slices supported in the cells of its neighbours may be beneficial for inter-frequency mobility in connected mode. It is assumed that the slice availability does not change within the UE's registration area. - The NG-RAN and the 5GC are responsible to handle a service request for a slice that may or may not be available in a given area. Admission or rejection of access to a slice may depend by factors such as support for the slice, availability of resources, support of the requested service by NG-RAN. Support for UE associating with multiple network slices simultaneously - In case a UE is associated with multiple slices simultaneously, only one signalling connection is maintained and for intra-frequency cell reselection, the UE always tries to camp on the best cell. For inter-frequency cell reselection, dedicated priorities can be used to control the frequency on which the UE camps. Granularity of slice awareness", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-133", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 133, "text": "the best cell. For inter-frequency cell reselection, dedicated priorities can be used to control the frequency on which the UE camps. Granularity of slice awareness ETSI ETSI TS 138 300 V15.3.1 (2018-10) 73 3GPP TS 38.300 version 15.3.1 Release 15 - Slice awareness in NG-RAN is introduced at PDU session level, by indicating the S-NSSAI corresponding to the PDU Session, in all signalling containing PDU session resource information. Validation of the UE rights to access a network slice - It is the responsibility of the 5GC to validate that the UE has the rights to access a network slice. Prior to receiving the Initial Context Setup Request message, the NG-RAN may be allowed to apply some provisional/local policies, based on awareness of which slice the UE is requesting access to. During the initial context setup, the NG-RAN is informed of the slice for which resources are being requested. 16.3.2 CN Instance and NW Slice Selection 16.3.2.1 CN-RAN interaction and internal RAN aspects NG-RAN selects AMF based on a Temp ID or assistance information provided by the UE over RRC. The mechanisms used in the RRC protocol are described in the next sub clause. Table 16.3.2.1-1 AMF selection based on Temp ID and assistance information Temp ID Assistance Info AMF Selection by NG-RAN not available or invalid not available One of the default AMFs is selected (NOTE) not available or invalid present Selects AMF which supports UE requested slices valid not available, or present Selects AMF per CN identity information in Temp ID NOTE: The set of default AMFs is configured in the NG-RAN nodes via OAM. 16.3.2.2 Radio Interface Aspects The UE conveys the slice assistance information over RRC in the explicitly indicated format by the upper layer. The slice assistance information consists of one or a list of S-NSSAIs, where an S-NSSAI is a combination of: - mandatory SST (Slice/Service Type) field, which identifies the slice type and consists of 8 bits (with range is 0- 255); - optional SD (Slice Differentiator) field, which differentiates among Slices with same SST field and consist of 24 bits. The list shall convey at most 8 S-NSSAI. 16.3.3 Resource Isolation and Management Resource isolation enables specialized customization and avoids one slice affecting another slice. Hardware/software resource isolation is up to implementation. Each slice may be assigned with either shared or dedicated radio", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-134", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 134, "text": "and avoids one slice affecting another slice. Hardware/software resource isolation is up to implementation. Each slice may be assigned with either shared or dedicated radio and avoids one slice affecting another slice. Hardware/software resource isolation is up to implementation. Each slice may be assigned with either shared or dedicated radio resource up to RRM implementation and SLA. To enable differentiated handling of traffic for network slices with different SLA: - NG-RAN is configured with a set of different configurations for different network slices by OAM; - To select the appropriate configuration for the traffic for each network slice, NG-RAN receives relevant information indicating which of the configurations applies for this specific network slice. 16.3.4 Signalling Aspects 16.3.4.1 General In this sub clause, signalling flows related to the realization of network slicing in the NG-RAN are given. 16.3.4.2 CN Instance and NW Slice Selection RAN selects the AMF based on a Temp ID or assistance information provided by the UE.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-135", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 135, "text": "are given. 16.3.4.2 CN Instance and NW Slice Selection RAN selects the AMF based on a Temp ID or assistance information provided by the UE. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 74 3GPP TS 38.300 version 15.3.1 Release 15 UE gNB AMF1 AMF2 NG SETUP REQUEST (List of S-NSSAI(s) supported per TA) NG SETUP RESPONSE (List of S-NSSAI(s) supported per PLMN) NG SETUP REQUEST (List of S-NSSAI(s) supported per TA) NG SETUP RESPONSE (List of S-NSSAI(s) supported per PLMN) RRC Connection Setup (Temp ID or Assistance Info) identify slice policies identify CN node supporting concerned slice(s) or select default CN node INITIAL UE MESSAGE validate UE rights and slice(s)availability Figure 16.3.4.2-1: AMF instance selection In case a Temp ID is not available, the NG-RAN uses the assistance information provided by the UE at RRC connection establishment to select the appropriate AMF instance (the information is provided after MSG3 of the random access procedure). If such information is also not available, the NG-RAN routes the UE to one of the configured default AMF instances. The NG-RAN uses the list of supported S-NSSAI(s) previously received in the NG Setup Response message when selecting the AMF with the assistance information. This list may be updated via the AMF Configuration Update message. 16.3.4.3 UE Context Handling Following the initial access, the establishment of the RRC connection and the selection of the correct AMF, the AMF establishes the complete UE context by sending the Initial Context Setup Request message to the NG-RAN over NG-C. The message contains the Allowed NSSAI and additionally contains the S-NSSAI(s) as part of the PDU session(s) resource description when present in the message. Upon successful establishment of the UE context and allocation of PDU session resources to the relevant NW slice(s) when present, the NG-RAN responds with the Initial Context Setup Response message. UE gNB AMF1 AMF2 Preconditions: RRC Connection Establishment, CN Instance Selection, Provisional policies may be applied INITIAL CONTEXT SETUP (Allowed NSSAI, one S-NSSAI per PDU Session when present) UE slice access confirmed policies updated if needed INITIAL CONTEXT SETUP RESPONSE Figure 16.3.4.3-1: Network Slice-aware Initial Context Setup 16.3.4.4 PDU Session Handling When new PDU sessions need to be established or existing ones modified", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-136", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 136, "text": "SETUP RESPONSE Figure 16.3.4.3-1: Network Slice-aware Initial Context Setup 16.3.4.4 PDU Session Handling When new PDU sessions need to be established or existing ones modified SETUP RESPONSE Figure 16.3.4.3-1: Network Slice-aware Initial Context Setup 16.3.4.4 PDU Session Handling When new PDU sessions need to be established or existing ones modified or released, the 5GC requests the NG-RAN to allocate/release resources relative to the relevant PDU sessions by means of the PDU Session Resource Setup/Modify/Release procedures over NG-C. One S-NSSAI is added per PDU session, so NG-RAN is enabled to apply policies at PDU session level according to the SLA represented by the network slice, while still being able to apply (for example) differentiated QoS within the slice.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-137", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 137, "text": "PDU session level according to the SLA represented by the network slice, while still being able to apply (for example) differentiated QoS within the slice. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n75\n3GPP TS 38.300 version 15.3.1 Release 15\nNG-RAN confirms the establishment/modification/release of the resources for a PDU session associated to a certain \nNW slice by responding with the PDU Session Resource Setup/Modify/Release Response message over the NG-C \ninterface. \nUE\ngNB\nAMF1\nAMF2\nPrecondition: UE Context is established in NG-RAN\nPDU SESSION RESOURCE SETUP/MODIFY/RELEASE\n(one S-NSSAI per PDU Session)\nNG-RAN verifies PDU session\nresources can be established for\ngiven NW Slice (in case of\nestablishment/modification)\nPDU SESSION RESOURCE SETUP/MODIFY/RELEASE RESPONSE\n \nFigure 16.3.4.4-1: Network Slice-aware PDU Session Resource Setup/Modify/Release \n16.3.4.5 \nMobility \nTo make mobility slice-aware in case of Network Slicing, S-NSSAI is introduced as part of the PDU session \ninformation that is transferred during mobility signalling. This enables slice-aware admission and congestion control. \nBoth NG and Xn handovers are allowed regardless of the slice support of the target NG-RAN node i.e. even if the target \nNG-RAN node does not support the same slices as the source NG-RAN node. An example for the case of active mode \nmobility across different Registration Areas, is shown in Figure 16.3.4.5-1 for the case of 5GC involved handover and \nin Figure 16.3.4.5-2 for the case of Xn based handover. \nUE\ngNB1\nin Registration Area 1\ngNB2\nin Registration Area 2\nAMF\nUE in RRC_CONNECTED with\nn slices configured at NAS level\nand with m PDU sessions active\nHandover preparation\nto gNB2 triggered\nHANDOVER REQUIRED\nHANDOVER REQUEST\n(Allowed NSSAI, one S-NSSAI per PDU Session)\nHANDOVER REQUEST ACKNOWLEDGE\n(List of accepted and failed PDU Sessions)\nHANDOVER COMMAND\nHandover Execution\nRegistration Area Update (alignment of slices supported in the new RA between UE and Network)\n \nFigure 16.3.4.5-1: CN based mobility across different Registration Areas", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-138", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 138, "text": "Execution Registration Area Update (alignment of slices supported in the new RA between UE and Network) Figure 16.3.4.5-1: CN based mobility across different Registration Areas ETSI ETSI TS 138 300 V15.3.1 (2018-10) 76 3GPP TS 38.300 version 15.3.1 Release 15 UE gNB1 in Registration Area 1 gNB2 in Registration Area 2 AMF UE in RRC_CONNECTED with n slices configured at NAS level and with m PDU sessions active at AS level Slice Aware Handover Preparation from gNB1 to gNB2 triggered HANDOVER REQUEST (one S-NSSAI per PDU Session) Slice Aware Admission Control HANDOVER REQUEST ACKNOWLEDGE (List of admitted and non admitted PDU Sessions) Handover Execution PATH SWITCH REQUEST (List of accepted and failed PDU Sessions) PATH SWITCH REQUEST ACKNOWLEDGE (List of switched and released PDU Sessions, Allowed NSSAI) Registration Area Update (alignment of slices supported in the new RA between UE and Network) Figure 16.3.4.5-2: Xn based mobility across different Registration Areas 16.4 Public Warning System NR connected to 5GC provides support for public warning systems (PWS) through means of system information broadcast capability. NR is responsible for scheduling and broadcasting of the warning messages as well as for paging the UE to provide indication that the warning message is being broadcast: - Earthquake and Tsunami Warning System: ETWS is a public warning system developed to meet the regulatory requirements for warning notifications related to earthquake and/or tsunami events (see 3GPP TS 22.168 [14]). ETWS warning notifications can either be a primary notification (short notification) or secondary notification (providing detailed information). - Commercial Mobile Alert System: CMAS is a public warning system developed for the delivery of multiple, concurrent warning notifications (see 3GPP TS 22.268 [15]). Different SIBs are defined for ETWS primary notification, ETWS secondary notification and CMAS notification. Paging is used to inform UEs about ETWS indication and CMAS indication. UE monitors ETWS/CMAS indication in its own paging occasion for RRC_IDLE and RRC_INACTIVE. UE monitors ETWS/CMAS indication in any paging occasion for RRC Connected. Paging indicating ETWS/CMAS notification triggers acquisition of system information (without delaying until the next modification period). 16.5 Emergency Services 16.5.1 Overview NG-RAN provides support for Emergency Services either directly or through fallback mechanisms", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-139", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 139, "text": "information (without delaying until the next modification period). 16.5 Emergency Services 16.5.1 Overview NG-RAN provides support for Emergency Services either directly or through fallback mechanisms information (without delaying until the next modification period). 16.5 Emergency Services 16.5.1 Overview NG-RAN provides support for Emergency Services either directly or through fallback mechanisms towards E-UTRA. The support of Emergency Services is broadcast in system information (see 3GPP TS 36.331 [12]). 16.5.2 IMS Emergency call An IMS Emergency call support indication is provided to inform the UE that emergency bearer services are supported. In normal service state the UE is informed if the PLMN supports emergency services through an Emergency Service Support indicator in the Attach and TAU procedures (see 3GPP TS 23.501 [3]). In limited service state and for emergency services other than eCall over IMS, a UE is informed about if a cell supports emergency services over NG- RAN from a broadcast indication (ims-Emergency). The broadcast indicator is set to \"support\" if any AMF in a non- shared environment or at least one of the PLMN's in a shared environment supports IMS emergency bearer services.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-140", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 140, "text": "\"support\" if any AMF in a non- shared environment or at least one of the PLMN's in a shared environment supports IMS emergency bearer services. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n77\n3GPP TS 38.300 version 15.3.1 Release 15\n16.5.3 \neCall over IMS \nNG-RAN broadcast an indication to indicate support of eCall over IMS (eCallOverIMS). UEs that are in limited service \nstate need to consider both eCallOverIMS and ims-Emergency to determine if eCall over IMS is possible. \n16.5.4 \nFallback \nRAT fallback towards E-UTRA connected to 5GC is performed when NR does not support Emergency Services and \nSystem fallback towards E-UTRA connected to EPS is performed when 5GC does not support Emergency Services. \nDepending on factors such as CN interface availability, network configuration and radio conditions, the fallback \nprocedure results in either CONNECTED state mobility (handover procedure) or IDLE state mobility (redirection) - see \n3GPP TS 23.501 [3] and 3GPP TS 36.331 [12].", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-141", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 141, "text": "procedure results in either CONNECTED state mobility (handover procedure) or IDLE state mobility (redirection) - see 3GPP TS 23.501 [3] and 3GPP TS 36.331 [12]. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n78\n3GPP TS 38.300 version 15.3.1 Release 15\nAnnex A (informative): \nQoS Handling in RAN \nA.1 \nPDU Session Establishment \nThe following figure shows an example message flow for a PDU session establishment. NAS procedures details \nbetween gNB and 5GC can be found in 3GPP TS 23.501 [3], TS 23.502 [22] and 3GPP TS 38.413 [26]. \nUE\ngNB\nUPF\nAMF\n1. PDU Session Establishment Request\n2. PDU SESSION RESOURCE SETUP REQUEST\n3. RRCReconfiguration\n4. DRB(s) established\n5. RRCReconfigurationComplete\n6. PDU SESSION RESOURCE SETUP RESPONSE\n7. UP Data (QFI)\n7. UP Data (QFI)\n \nFigure A.1-1: PDU session establishment \n1. UE requests a PDU session establishment to AMF. \n2. AMF sends a PDU SESSION RESOURCE SETUP REQUEST message to gNB, which includes the NAS \nmessage to be sent to the UE with NAS QoS related information. \n3. gNB sends an RRCReconfiguration message to UE including the configuration of at least one DRB and the NAS \nmessage received at Step 2. \n4. UE establishes the DRB(s) for the new PDU session and creates the QFI to DRB mapping rules. \n5. UE sends an RRCReconfiguration Complete message to gNB. \n6. gNB sends a PDU SESSION RESOURCE SETUP RESPONSE message to AMF. \n7. User Plane Data can then be exchanged between UE and gNB over DRB(s) according to the mapping rules and \nbetween UPF and gNB over the tunnel for the PDU session. QFI marking over Uu is optional (see subclause 12) \nwhile QFI marking over NG-U is always present. \nA.2 \nNew QoS Flow with RQoS \nThe following figure shows an example message flow when RQoS is used for a new QoS flow. In this example, the \ngNB receives from UPF a first downlink packet associated with a QFI for which the QoS parameters are known from \nthe PDU session establishment, but for which there is no association to any DRB yet in AS.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-142", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 142, "text": "for which the QoS parameters are known from the PDU session establishment, but for which there is no association to any DRB yet in AS. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n79\n3GPP TS 38.300 version 15.3.1 Release 15\nUE\ngNB\nUPF\nAMF\n0. PDU Session and DRB(s) established\n1. DL Packet (QFI)\n2. Use an existing DRB\nfor the new QoS flow\n3. DL Packet (QFI, RDI)\n4. Mapping rules updated\n5. UP Data (QFI)\n5. UP Data (QFI)\n \nFigure A.2-1: DL data with new QFI sent over existing DRB \n0. PDU session and DRB(s) have been already established. \n1. gNB receives a downlink packet with a new QFI from UPF. \n2. gNB decides to send the new QoS flow over an existing DRB. \nNOTE: \nIf gNB decides to send it over a new DRB, it needs to establish the DRB first. \n3. gNB sends the DL packet over the selected DRB with the new QFI and RDI set in the SDAP header. \n4. UE identifies the QFI and RDI in the received DL packet and the DRB on which the packet was received. The \nAS mapping rules are then updated accordingly. \n5. User Plane Data for the new QoS flow can then be exchanged between UE and gNB over the DRB according to \nthe updated mapping rules and between UPF and gNB over the tunnel for the PDU session. \nA.3 \nNew QoS Flow with Explicit RRC Signalling \nThe following figure shows an example message flow when explicit RRC signalling is used for a new QoS flow. In this \nexample, the gNB receives from UPF a first downlink packet associated with a QFI, for which the QoS parameters are \nalready known from the PDU session establishment, but for which there is no association to any DRB yet in AS. \nUE\ngNB\nUPF\nAMF\n0. PDU Session and DRB(s) established\n1. DL Packet (QFI)\n2. Map new QoS flow to existing DRB\n3. RRCReconfiguration\n4. Mapping rules updated\n5. RRCReconfigurationComplete\n6. UP Data (QFI)\n6. UP Data (QFI)\n \nFigure A.3-1: DL data with new QFI sent over existing DRB \n0. PDU session and DRB(s) have been already established. \n1. gNB receives a downlink packet with a new QFI from UPF.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-143", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 143, "text": "sent over existing DRB 0. PDU session and DRB(s) have been already established. 1. gNB receives a downlink packet with a new QFI from UPF. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 80 3GPP TS 38.300 version 15.3.1 Release 15 2. gNB decides to send the new QoS flow over an existing DRB using explicit RRC signalling for updating the AS mapping rules. 3. gNB sends an RRCReconfiguration message to UE with the new QFI to DRB mapping rule. gNB may also decide to update the DRB configuration if required to meet the QoS requirements for the new QoS Flow. 4. UE updates the QFI to DRB mapping rules and configuration (if received). 5. UE sends an RRCReconfigurationComplete message to gNB. 6. User Plane Data for the new QoS flow can then be exchanged between UE and gNB over the DRB according to the updated mapping rules and between UPF and gNB over the tunnel for the PDU session. A.4 New QoS Flow with Explicit NAS Signalling The following figure shows an example message flow when the gNB receives a new QoS flow establishment request from CN that involves NAS explicit signalling. The QoS flow establishment request provides the gNB and UE with the QoS parameters for the QFI. In this example, the gNB decides to establish a new DRB (rather than re-use an existing one) for this QoS flow and provides the mapping rule over RRC signalling. NAS procedures details between gNB and 5GC can be found in 3GPP TS 23.501 [3], 3GPP TS 23.502 [22] and 3GPP TS 38.413 [26]. UE gNB UPF AMF 0. PDU Session and DRB(s) established 1. PDU SESSION RESOURCE MODIFY REQUEST (QFI) 2. Set up new DRB 3. RRCReconfiguration 4. New DRB established 5. RRCReconfigurationComplete 6. PDU SESSION RESOURCE MODIFY RESPONSE 7. UP Data (QFI) 7. UP Data (QFI) Figure A.4-1: DL data with new QoS Flow ID sent over new DRB with explicit signalling 0. PDU session DRB(s) have been already established. 1. gNB receives a PDU SESSION RESOURCE MODIFY REQUEST message from AMF for a new QoS flow. 2. If gNB cannot find an existing DRB to map this new QoS flow, it decides to establish a new DRB. 3. gNB sends an RRCReconfiguration message to UE including the DRB configuration with the new QFI to DRB mapping rule and the NAS message received at step 1. 4. UE establishes the DRB for the new QoS flow associated with this PDU", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-144", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 144, "text": "DRB mapping rule and the NAS message received at step 1. 4. UE establishes the DRB for the new QoS flow associated with this PDU DRB mapping rule and the NAS message received at step 1. 4. UE establishes the DRB for the new QoS flow associated with this PDU session and updates the mapping rules. 5. UE sends an RRCReconfigurationComplete message to gNB. 6. gNB sends a PDU SESSION RESOURCE MODIFY RESPONSE message to AMF. 7. User Plane Data can then be exchanged between UE and gNB over DRB(s) according to the mapping rules and between UPF and gNB over the tunnel for the PDU session.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-145", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 145, "text": "be exchanged between UE and gNB over DRB(s) according to the mapping rules and between UPF and gNB over the tunnel for the PDU session. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n81\n3GPP TS 38.300 version 15.3.1 Release 15\nA.5 \nRelease of QoS Flow with Explicit Signalling \nThe following figure shows an example message flow when the gNB receives a request to release a QoS flow from CN \nthat involves explicit NAS signalling. NAS procedures details between gNB and 5GC can be found in 3GPP TS 23.501 \n[3], 3GPP TS 23.502 [22] and 3GPP TS 38.413 [26]. \nUE\ngNB\nUPF\nAMF\n0. PDU Session and DRB(s) established\n1. PDU SESSION RESOURCE MODIFY REQUEST\n2. Release QoS flow mapping\n3. RRCReconfiguration\n4. Mapping rules updated\n5. RRCReconfigurationComplete\n6. PDU SESSION RESOURCE MODIFY RESPONSE\n \nFigure A.5-1: Release of QoS Flow with Explicit Signalling \n0. PDU session and DRB(s) have been already established. \n1. gNB receives a PDU SESSION RESOURCE MODIFY REQUEST message from AMF to release a QoS flow. \n2. The gNB decides to release corresponding the QFI to DRB mapping rule. Since the DRB also carries other QoS \nflows, the DRB is not released. \n3. gNB sends an RRCReconfiguration message to UE to release the QFI to DRB mapping rule. \n4. UE updates the AS QFI to DRB mapping rules to release this QFI to DRB mapping rule. \n5. UE sends an RRCReconfigurationComplete message to gNB. \n6. gNB sends a PDU SESSION RESOURCE MODIFY RESPONSE message to AMF. \nA.6 \nUE Initiated UL QoS Flow \nThe following figure shows an example message flow when the UE AS receives an UL packet for a new QoS flow for \nwhich a QFI to DRB mapping rule does not exist. \nUE\ngNB\nUPF\nAMF\n0. PDU Session and DRB(s) established\n1. UL packet (QFI)\n2. Default DRB\nif no mapping rules\n3. User Data over DRB (QFI)\n4. PDU Data Tunnel (QFI)\n5. RRCReconfiguration\n6. UP Data (QFI)\n6. UP Data (QFI)\n \nFigure A.6-1: UL packet with a new QoS flow for which a mapping does not exist in UE", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-146", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 146, "text": "UP Data (QFI) 6. UP Data (QFI) Figure A.6-1: UL packet with a new QoS flow for which a mapping does not exist in UE ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n82\n3GPP TS 38.300 version 15.3.1 Release 15\n0. PDU session and DRBs (including a default DRB) have been already established. \n1. UE AS receives a packet with a new QFI from UE NAS. \n2. UE uses the QFI of the packet to map it to a DRB. If there is no mapping of the QFI to a DRB in the AS \nmapping rules for this PDU session, then the packet is assigned to the default DRB. \n3. UE sends the UL packet on the default DRB. The UE includes the QFI in the SDAP header. \n4. gNB sends UL packets to UPF and includes the corresponding QFI. \n5. If gNB wants to use a new DRB for this QoS flow, it sets up one. It can also choose to move the QoS flow to an \nexisting DRB using RQoS or RRC signalling (see subclauses A.2 and A.3). \n6. User Plane Data for the new QoS flow can then be exchanged between UE and gNB over the DRB according to \nthe updated mapping rules and between UPF and gNB over the tunnel for the PDU session.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-147", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 147, "text": "between UE and gNB over the DRB according to the updated mapping rules and between UPF and gNB over the tunnel for the PDU session. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n83\n3GPP TS 38.300 version 15.3.1 Release 15\nAnnex B (informative): \nDeployment Scenarios \nB.1 \nSupplementary Uplink \nTo improve UL coverage for high frequency scenarios, SUL can be configured (see 3GPP TS 38.101 [18]). With SUL, \nthe UE is configured with 2 ULs for one DL of the same cell as depicted on Figure B.1-1 below: \n \nFigure B.1-1: Example of Supplementary Uplink \nB.2 \nMultiple SSBs in a carrier \nFor a UE in RRC_CONNECTED, the BWPs configured by a serving cell may overlap in the frequency domain with the \nBWPs configured for other UEs by other cells within a carrier. Multiple SSBs may also be transmitted within the \nfrequency span of a carrier used by the serving cell. However, from the UE perspective, each serving cell is associated \nto at most a single SSB. Figure B.2-1 below describes a scenario with multiple SSBs in a carrier, identifying two \ndifferent cells (NCGI = 5, associated to SSB1, and NCGI = 6, associated to SSB3) with overlapping BWPs, and where \nRRM measurements can be configured to be performed by the UE on each of the available SSBs, i.e. SSB1, SSB2, \nSSB3 and SSB4. \nCarrier \nSSB1\nSSB2\nSSB3\nSSB4\nFrequency\nRMSI\nNCGI = 5\nRMSI\nNCGI = 6\nInitial BWP\nDedicated BWP1\nDedicated BWP2\nInitial BWP\nDedicated BWP1\nInitial BWP\nDedicated BWP1\nDedicated BWP2\nUE 1 \nconnected \nto NCGI 5\nUE 2 \nconnected \nto NCGI 5\nUE 3 \nconnected \nto NCGI 6\n \nFigure B.2-1: Example of multiple SSBs in a carrier", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-148", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 148, "text": "connected to NCGI 5 UE 2 connected to NCGI 5 UE 3 connected to NCGI 6 Figure B.2-1: Example of multiple SSBs in a carrier ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n84\n3GPP TS 38.300 version 15.3.1 Release 15\nAnnex C (informative): \nI-RNTI Reference Profiles \nThe I-RNTI provides the new NG-RAN node a reference to the UE context in the old NG-RAN node. How the new \nNG-RAN node is able to resolve the old NG-RAN ID from the I-RNTI is a matter of proper configuration in the old and \nnew NG-RAN node. \nTable C-1 below provides some typical partitioning of an 40bit I-RNTI, assuming the following content: \n- \nUE specific reference: reference to the UE context within a logical NG-RAN node; \n- \nNG-RAN node address index: information to identify the NG-RAN node that has allocated the UE specific \npart; \nNOTE: \nRAT-specific information may be introduced in a later release, containing information to identify the \nRAT of the cell within which the UE was sent to RRC_INACTIVE. This version of the specification only \nsupports intra-RAT mobility of UEs in RRC_INACTIVE. \n- \nPLMN-specific information: information supporting network sharing deployments, providing an index to the \nPLMN ID part of the Global NG-RAN node identifier. \nTable C-1: I-RNTI reference profiles \nProfile ID \nUE specific \nreference \nNG-RAN node \naddress index \n(e.g., gNB ID, eNB \nID) \nRAT-specific \ninformation \nPLMN-specific \ninformation \nComment \n1 \n20 bits \n(~1 million \nvalues) \n20 bits \n(~1 million values) \nN/A \nN/A \nNG-RAN node address \nindex may be very well \nrepresented by the \nLSBs of the gNB ID. \nThis profile may be \napplicable for any NG-\nRAN RAT. \n2 \n20 bits \n(~1 million \nvalues) \n16 bits \n(65.000 nodes) \nN/A \n4 bits (Max 16 \nPLMNs) \nMax number of PLMN \nIDs broadcast in NR is \n12. \nThis profile may be \napplicable for any NG-\nRAN RAT. \n3 \n24 bits \n(16 million \nvalues) \n16 bits \n(65.000 nodes) \nN/A \nN/A \nReduced node address \nto maximise \naddressable UE \ncontexts. \nThis profile may be \napplicable for any NG-\nRAN RAT.", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-149", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 149, "text": "values) 16 bits (65.000 nodes) N/A N/A Reduced node address to maximise addressable UE contexts. This profile may be applicable for any NG- RAN RAT. ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n85\n3GPP TS 38.300 version 15.3.1 Release 15\nAnnex D (informative): \nChange history", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-150", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 150, "text": "for any NG- RAN RAT. ETSI ETSI TS 138 300 V15.3.1 (2018-10) 85 3GPP TS 38.300 version 15.3.1 Release 15 Annex D (informative): Change history ETSI ETSI TS 138 300 V15.3.1 (2018-10) 86 3GPP TS 38.300 version 15.3.1 Release 15 Change history Date Meeting TDoc CR Rev Cat Subject/Comment New Version 2017.03 RAN2 97bis R2-1702627 - - - First version. 0.1.0 2017.04 RAN2 97bis R2-1703825 - - - Editorial Updates: - Stage 2 Details of ARQ operation marked as FFS - Placeholder for CU/DU Split overview added - Outdated editor notes removed - Protocol Architecture updated - NG-RAN terminology aligned - Header placement in the L2 overview put as FFS 0.1.1 2017.04 RAN2 97bis R2-1703952 - - - Editorial Updates: - description of measurements for mobility clarified - some cell reselection details put FFS - outdated references removed 0.1.2 2017.04 RAN2 98 R2-1704296 - - - Editorial updates: - NG interfaces naming aligned to RAN3 - 5GC used consistently - Statement on lossless delivery removed from 9.3.2 - Overview of PDCP function for CP detailed 0.1.3 2017.05 RAN2 98 R2-1704298 - - - Agreements of RAN2#97bis captured: - overview of duplication operation - RLC modes for DRBs and SRBs - Condition for lossless mobility - L2 handling at handover - RLF triggers - Measurement details (filtering, beams, quality…) - QoS flow handling in DC - RACH procedure message usage for on-demand SI - Random Access Procedure triggers - DRX baseline 0.2.0 2017.05 RAN2 98 R2-1704452 - - - RAN3 agreements captured (R3-171329) 5G logo and specification title updated 0.2.1 2017.05 RAN2 98 R2-1705994 - - - RLC failure for RLF generalized. 0.3.0 2017.06 RAN2 98 R2-1706204 - - - Agreements of RAN2#98 captured: - Duplication Control - RLC mode for SRB0 and System Info - Provision of Assistance Info for AMF Selection - QoS Handling from R2-1706011 - Beam measurements combining - MSG1 request details for on-demand SI - RNA and RLAU terminology introduced for INACTIVE - Skipping of SPS resources when nothing to transmit - Duplication detection at RLC only for AM - Provision of access category by NAS for connection control Editorial updates in addition: - QFI used consistently 0.3.1 2017.06 RAN2 98 R2-1706205 - - - RAN3 agreements captured (R3-171932) 0.4.0", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-151", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 151, "text": "NAS for connection control Editorial updates in addition: - QFI used consistently 0.3.1 2017.06 RAN2 98 R2-1706205 - - - RAN3 agreements captured (R3-171932) 0.4.0 NAS for connection control Editorial updates in addition: - QFI used consistently 0.3.1 2017.06 RAN2 98 R2-1706205 - - - RAN3 agreements captured (R3-171932) 0.4.0 2017.06 RAN2 98 R2-1706206 - - - Corrections: - provision of AC in INACTIVE is FFS - agreements on measurement moved from 9.2.1.1 to 9.2.4 0.4.1 2017.06 NR Adhoc 2 R2-1706540 - - - Editorial corrections Agreement on RLC Segmentation captured Duplicated statement in 9.2.1.1. and 7.3 removed 0.5.0 2017.08 RAN2 99 R2-1707748 - - - Agreements of RAN2 NR June Adhoc captured: - TP on Security in R2-1707466 - TP on Measurement Model in R2-1707480 - NCR Acronym addition - Duplication control details - UE capabilities and band combinations - Disabling of PDPC reordering as PDCP function - On-Demand SI and RACH details - Measurement Report Characteristics - Mapping rules update handling - UE Capabilities and Band Combination handling In addition: - ARQ overview aligned with Stage 3 agreements - L2 Data Flow aligned with Stage 3 agreements - References updated RAN3 TP incorporated (R3-172610) 0.6.0", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-152", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 152, "text": "- ARQ overview aligned with Stage 3 agreements - L2 Data Flow aligned with Stage 3 agreements - References updated RAN3 TP incorporated (R3-172610) 0.6.0 ETSI ETSI TS 138 300 V15.3.1 (2018-10) 87 3GPP TS 38.300 version 15.3.1 Release 15 2017.08 RAN2 99 R2-1709937 - - - Agreements of RAN2 99 captured: - QoS update in R2-1709830 - Description of the RRC states in R2-1707690 - Correction on RRC_INACTIVE state in R2-1709833 - LCP description in R2-1709829 - Baseline HO procedure update in R2-1709850 with corrections - UE identities in R2-1709868 - Radio Link Failure handling in R2-1709870 - RAN3 agreements on roaming restrictions in R3-172655 - Integrity protection configurable on a per DRB basis - Various Acronyms added - Slicing details - PWS basic principles - UE capability restrictions 0.7.0 2017.09 RAN 77 RP-171730 - - - Provided for information to RAN 1.0.0 2017.10 RAN2 99bis R2-1710693 - - - Editorial Updates and Corrections: - inter RAT mobility in 9.3.2 restructured - SON promoted to top subclause level (as it is not a vertical) - Obsolete subclauses 14 and 15 removed. - Description of paging in idle aligned with 23.501 - I-RNTI suggested for INACTIVE - Missing agreement from RAN2 99 on INACTIVE captured 1.0.1 2017.10 RAN2 99bis R2-1711936 - - - Clean version 1.1.0 2017.10 RAN2 99bis R2-1711972 - - - Corrections: - Container for mobility in 9.2.3.2.1 - \"HO\" changed to \"handover\" for consistency Agreements from RAN2 99bis captured: - URLLC text in R2-1710253 - Clarification on RRC States in R2-1710074 - Resume ID terminology in R2-1711778 - Slicing clarifications in R2-1712034 - Usage of SRB0 and SRB1 in INACTIVE - Prioritisation of RACH resources for handover - SPS configuration per SCell in CA - Enabling / Disabling IP on DRB via handover only - First agreements on Supplementary Uplink - Maximum supported data rate calculation RAN3 agreements: - R3-173639 on Rapporteur updates to RAN3-related sections - R3-174162 on AMF discovery by NG-RAN - R3-174187 on RAN paging failure handling in RRC_INACTIVE - R3-174188 on Unreachability in RAN Inactive State - R3-174225 on Inter System Handover - R3-174230 on RRC Inactive Assistant Information RAN agreement: - RP-172113 on UE categories. 1.1.1 2017.11 RAN2 100 R2-1712266 - - - Clean version", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-153", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 153, "text": "Handover - R3-174230 on RRC Inactive Assistant Information RAN agreement: - RP-172113 on UE categories. 1.1.1 2017.11 RAN2 100 R2-1712266 - - - Clean version Handover - R3-174230 on RRC Inactive Assistant Information RAN agreement: - RP-172113 on UE categories. 1.1.1 2017.11 RAN2 100 R2-1712266 - - - Clean version 1.2.0 2017.11 RAN2 100 R2-1712355 - - - Editorial Clean Up: - Editor's Notes & relevant FFS moved to R2-17112357 - Protocol stack figures for NG interface updated - Dual Connectivity changed to Multi-RAT connectivity - Details about SI handling added to tackle RMSI - Access Control updated and reference to 22.261 added - DC specific details removed (37.340 is used instead) - Notes numbered wherever required 1.2.1 2017.12 RAN2 100 R2-174079 - - - Agreements from RAN2 100 captured: - QoS update in R2-1714230 - Updates to stage 2 QoS flow in R2-1712687 - BWP Description in R2-172360 - Transition from INACTIVE to CONNECTED in R2-173937 - SUL overview - Removal of DC related definitions - BWP agreements - SPS terminology changed to CS to cover both types RAN3 agreements in R3-175011 RAN1 agreements in R1-1721728 1.2.2 2017.12 RAN2 100 R2-1714252 - - - Clean version 1.3.0 2017.12 RP-78 RP-172496 - - - Provided for approval to RAN 2.0.0 2017/12 RP-78 Upgraded to Rel-15 (MCC) 15.0.0 2018/03 RP-79 RP-180440 0009 1 F Miscellaneous Corrections & Additions 15.1.0 2018/06 RP-80 RP-181214 0010 1 F Clarification on NR Carrier Aggregation 15.2.0 RP-80 RP-181214 0011 2 F Miscellaneous Corrections 15.2.0 RP-80 RP-181214 0012 1 F Paging Mechanisms 15.2.0", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-154", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 154, "text": "0010 1 F Clarification on NR Carrier Aggregation 15.2.0 RP-80 RP-181214 0011 2 F Miscellaneous Corrections 15.2.0 RP-80 RP-181214 0012 1 F Paging Mechanisms 15.2.0 ETSI ETSI TS 138 300 V15.3.1 (2018-10) 88 3GPP TS 38.300 version 15.3.1 Release 15 RP-80 RP-181214 0013 2 F Security Update 15.2.0 RP-80 RP-181214 0014 1 F UE Identities 15.2.0 RP-80 RP-181214 0015 1 F Corrections on deactivation of PUCCH SCell 15.2.0 RP-80 RP-181214 0022 2 F Clarification on count wrap around 15.2.0 RP-80 RP-181214 0024 1 F Slicing assistance information 15.2.0 RP-80 RP-181214 0025 - F Physical Layer Update 15.2.0 RP-80 RP-181214 0026 1 F Default DRB & QoS Remapping 15.2.0 RP-80 RP-181214 0027 1 F SSB Clarifications 15.2.0 RP-80 RP-181217 0029 2 B CR on U-plane handling for handover 15.2.0 RP-80 RP-181217 0030 2 B CR on message content in inter-RAT handover 15.2.0 RP-80 RP-181215 0032 1 F Clarifications on (de)activation of Duplication and (de)activation of SCells 15.2.0 RP-80 RP-181216 0033 2 B Introduce ANR in NR 15.2.0 RP-80 RP-181215 0036 1 F Corrections to Unified Access Control 15.2.0 RP-80 RP-181215 0040 - F Correction to TS 38.300 on Open Issues for Handover 15.2.0 RP-80 RP-181216 0041 - B Baseline CR for June version of RAN2 TS 38.300 (RAN3 part) covering agreements of RAN3#100 15.2.0 RP-80 RP-181216 0042 - B Delay budget report and MAC CE adaptation for NR for TS 38.300 15.2.0 2018/09 RP-81 RP-181941 0035 3 B ECN support in NR 15.3.0 RP-81 RP-181938 0043 2 D Miscellaneous Clean Up and Corrections 15.3.0 RP-81 RP-181938 0045 1 F Mobility Call Flows 15.3.0 RP-81 RP-181938 0046 2 F QoS Handling Corrections 15.3.0 RP-81 RP-181938 0047 4 F MDBV Enforcement 15.3.0 RP-81 RP-181939 0050 1 F Completion of description of power saving 15.3.0 RP-81 RP-181940 0051 1 F Correction to description of bandwidth adaptation 15.3.0 RP-81 RP-181939 0053 1 F Clarification of PDCP functionality 15.3.0 RP-81 RP-181939 0062 2 F Clarification on number of CC for NR CA 15.3.0 RP-81 RP-181938 0070 1 F Beam management, failure detection and recovery 15.3.0 RP-81 RP-181941 0071 - F System Information Handling in TS38.300 15.3.0 RP-81 RP-181941 0072 1 F Correction on RRC Resume procedure 15.3.0 RP-81 RP-181940 0077 - F CR on RACH configuration during HO 15.3.0 RP-81 RP-181941 0078 1 F Missing Call Flows 15.3.0 RP-81 RP-181942 0079 1 F CN type indication for Redirection from NR to E-UTRA 15.3.0 RP-81 RP-181942 0080 1", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-155", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 155, "text": "1 F Missing Call Flows 15.3.0 RP-81 RP-181942 0079 1 F CN type indication for Redirection from NR to E-UTRA 15.3.0 RP-81 RP-181942 0080 1 1 F Missing Call Flows 15.3.0 RP-81 RP-181942 0079 1 F CN type indication for Redirection from NR to E-UTRA 15.3.0 RP-81 RP-181942 0080 1 F QoS Flow to DRB Remapping during Handover 15.3.0 RP-81 RP-181941 0081 1 F NR Corrections (38.300 Baseline CR covering RAN3-101 agreements) 15.3.0 2018/10 - - - - - Changes of CR0035 rev 3 were undone since this CR was actually not approved by RAN #81 as it was not submitted to RAN #81 15.3.1", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
{"chunk_id": "fbbd9054-e924-4072-8539-b17314e54144-156", "doc_id": "fbbd9054-e924-4072-8539-b17314e54144", "source": "ts_138300v150301p.pdf", "file_name": "ts_138300v150301p.pdf", "file_ext": ".pdf", "role": "public", "chunk_index": 156, "text": "of CR0035 rev 3 were undone since this CR was actually not approved by RAN #81 as it was not submitted to RAN #81 15.3.1 ETSI \nETSI TS 138 300 V15.3.1 (2018-10)\n89\n3GPP TS 38.300 version 15.3.1 Release 15\nHistory \nDocument history \nV15.2.0 \nSeptember 2018 \nPublication \nV15.3.1 \nOctober 2018 \nPublication", "meta": {"ingested_at": 1759756682, "relative_path": "ts_138300v150301p.pdf"}}
